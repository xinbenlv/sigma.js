{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://sigma-examples/./node_modules/graphology-generators/random/clusters.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/defaults.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/helpers.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/index.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/iterate.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/webworker.js","webpack://sigma-examples/./node_modules/graphology-layout-forceatlas2/worker.js","webpack://sigma-examples/./node_modules/graphology-layout/circlepack.js","webpack://sigma-examples/./node_modules/graphology-utils/defaults.js","webpack://sigma-examples/./node_modules/graphology-utils/is-graph-constructor.js","webpack://sigma-examples/./node_modules/graphology-utils/is-graph.js","webpack://sigma-examples/./node_modules/graphology/dist/graphology.umd.min.js","webpack://sigma-examples/./node_modules/pandemonium/random.js","webpack://sigma-examples/./node_modules/pandemonium/shuffle-in-place.js","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.arrowHead.frag.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.arrowHead.vert.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.clamped.vert.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.fast.frag.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.fast.vert.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.frag.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/edge.vert.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/node.fast.frag.glsl","webpack://sigma-examples/../src/rendering/webgl/shaders/node.fast.vert.glsl","webpack://sigma-examples/./node_modules/seedrandom/index.js","webpack://sigma-examples/./node_modules/seedrandom/lib/alea.js","webpack://sigma-examples/./node_modules/seedrandom/lib/tychei.js","webpack://sigma-examples/./node_modules/seedrandom/lib/xor128.js","webpack://sigma-examples/./node_modules/seedrandom/lib/xor4096.js","webpack://sigma-examples/./node_modules/seedrandom/lib/xorshift7.js","webpack://sigma-examples/./node_modules/seedrandom/lib/xorwow.js","webpack://sigma-examples/./node_modules/seedrandom/seedrandom.js","webpack://sigma-examples/./large-graphs/index.ts","webpack://sigma-examples/../src/core/camera.ts","webpack://sigma-examples/../src/core/captors/captor.ts","webpack://sigma-examples/../src/core/captors/mouse.ts","webpack://sigma-examples/../src/core/captors/touch.ts","webpack://sigma-examples/../src/core/labels.ts","webpack://sigma-examples/../src/core/quadtree.ts","webpack://sigma-examples/../src/index.ts","webpack://sigma-examples/../src/rendering/canvas/edge-label.ts","webpack://sigma-examples/../src/rendering/canvas/hover.ts","webpack://sigma-examples/../src/rendering/canvas/label.ts","webpack://sigma-examples/../src/rendering/webgl/programs/common/edge.ts","webpack://sigma-examples/../src/rendering/webgl/programs/common/node.ts","webpack://sigma-examples/../src/rendering/webgl/programs/common/program.ts","webpack://sigma-examples/../src/rendering/webgl/programs/edge.arrow.ts","webpack://sigma-examples/../src/rendering/webgl/programs/edge.arrowHead.ts","webpack://sigma-examples/../src/rendering/webgl/programs/edge.clamped.ts","webpack://sigma-examples/../src/rendering/webgl/programs/edge.fast.ts","webpack://sigma-examples/../src/rendering/webgl/programs/edge.ts","webpack://sigma-examples/../src/rendering/webgl/programs/node.fast.ts","webpack://sigma-examples/../src/rendering/webgl/shaders/utils.ts","webpack://sigma-examples/../src/settings.ts","webpack://sigma-examples/../src/sigma.ts","webpack://sigma-examples/../src/types.ts","webpack://sigma-examples/../src/utils/animate.ts","webpack://sigma-examples/../src/utils/data.ts","webpack://sigma-examples/../src/utils/easings.ts","webpack://sigma-examples/../src/utils/edge-collisions.ts","webpack://sigma-examples/../src/utils/index.ts","webpack://sigma-examples/../src/utils/matrices.ts","webpack://sigma-examples/../node_modules/@yomguithereal/helpers/extend.js","webpack://sigma-examples/../node_modules/events/events.js","webpack://sigma-examples/../node_modules/graphology-utils/is-graph.js","webpack://sigma-examples/webpack/bootstrap","webpack://sigma-examples/webpack/runtime/amd define","webpack://sigma-examples/webpack/runtime/amd options","webpack://sigma-examples/webpack/runtime/define property getters","webpack://sigma-examples/webpack/runtime/hasOwnProperty shorthand","webpack://sigma-examples/webpack/runtime/make namespace object","webpack://sigma-examples/webpack/runtime/node module decorator","webpack://sigma-examples/webpack/startup"],"sourcesContent":["/**\n * Graphology Random Clusters Graph Generator\n * ===========================================\n *\n * Function generating a graph containing the desired number of nodes & edges\n * and organized in the desired number of clusters.\n *\n * [Author]:\n * Alexis Jacomy\n */\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor');\n\n/**\n * Generates a random graph with clusters.\n *\n * @param  {Class}    GraphClass    - The Graph Class to instantiate.\n * @param  {object}   options       - Options:\n * @param  {number}     clusterDensity - Probability that an edge will link two\n *                                       nodes of the same cluster.\n * @param  {number}     order          - Number of nodes.\n * @param  {number}     size           - Number of edges.\n * @param  {number}     clusters       - Number of clusters.\n * @param  {function}   rng            - Custom RNG function.\n * @return {Graph}\n */\nmodule.exports = function (GraphClass, options) {\n  if (!isGraphConstructor(GraphClass))\n    throw new Error(\n      'graphology-generators/random/clusters: invalid Graph constructor.'\n    );\n\n  options = options || {};\n\n  var clusterDensity =\n      'clusterDensity' in options ? options.clusterDensity : 0.5,\n    rng = options.rng || Math.random,\n    N = options.order,\n    E = options.size,\n    C = options.clusters;\n\n  if (\n    typeof clusterDensity !== 'number' ||\n    clusterDensity > 1 ||\n    clusterDensity < 0\n  )\n    throw new Error(\n      'graphology-generators/random/clusters: `clusterDensity` option should be a number between 0 and 1.'\n    );\n\n  if (typeof rng !== 'function')\n    throw new Error(\n      'graphology-generators/random/clusters: `rng` option should be a function.'\n    );\n\n  if (typeof N !== 'number' || N <= 0)\n    throw new Error(\n      'graphology-generators/random/clusters: `order` option should be a positive number.'\n    );\n\n  if (typeof E !== 'number' || E <= 0)\n    throw new Error(\n      'graphology-generators/random/clusters: `size` option should be a positive number.'\n    );\n\n  if (typeof C !== 'number' || C <= 0)\n    throw new Error(\n      'graphology-generators/random/clusters: `clusters` option should be a positive number.'\n    );\n\n  // Creating graph\n  var graph = new GraphClass();\n\n  // Adding nodes\n  if (!N) return graph;\n\n  // Initializing clusters\n  var clusters = new Array(C),\n    cluster,\n    nodes,\n    i;\n\n  for (i = 0; i < C; i++) clusters[i] = [];\n\n  for (i = 0; i < N; i++) {\n    cluster = (rng() * C) | 0;\n    graph.addNode(i, {cluster: cluster});\n    clusters[cluster].push(i);\n  }\n\n  // Adding edges\n  if (!E) return graph;\n\n  var source, target, l;\n\n  for (i = 0; i < E; i++) {\n    // Adding a link between two random nodes\n    if (rng() < 1 - clusterDensity) {\n      source = (rng() * N) | 0;\n\n      do {\n        target = (rng() * N) | 0;\n      } while (source === target);\n    }\n\n    // Adding a link between two nodes from the same cluster\n    else {\n      cluster = (rng() * C) | 0;\n      nodes = clusters[cluster];\n      l = nodes.length;\n\n      if (!l || l < 2) {\n        // TODO: in those case we may have fewer edges than required\n        // TODO: check where E is over full clusterDensity\n        continue;\n      }\n\n      source = nodes[(rng() * l) | 0];\n\n      do {\n        target = nodes[(rng() * l) | 0];\n      } while (source === target);\n    }\n\n    if (!graph.multi) graph.mergeEdge(source, target);\n    else graph.addEdge(source, target);\n  }\n\n  return graph;\n};\n","/**\n * Graphology ForceAtlas2 Layout Default Settings\n * ===============================================\n */\nmodule.exports = {\n  linLogMode: false,\n  outboundAttractionDistribution: false,\n  adjustSizes: false,\n  edgeWeightInfluence: 1,\n  scalingRatio: 1,\n  strongGravityMode: false,\n  gravity: 1,\n  slowDown: 1,\n  barnesHutOptimize: false,\n  barnesHutTheta: 0.5\n};\n","/**\n * Graphology ForceAtlas2 Helpers\n * ===============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\n\n/**\n * Very simple Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexports.assign = function (target) {\n  target = target || {};\n\n  var objects = Array.prototype.slice.call(arguments).slice(1),\n    i,\n    k,\n    l;\n\n  for (i = 0, l = objects.length; i < l; i++) {\n    if (!objects[i]) continue;\n\n    for (k in objects[i]) target[k] = objects[i][k];\n  }\n\n  return target;\n};\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if ('linLogMode' in settings && typeof settings.linLogMode !== 'boolean')\n    return {message: 'the `linLogMode` setting should be a boolean.'};\n\n  if (\n    'outboundAttractionDistribution' in settings &&\n    typeof settings.outboundAttractionDistribution !== 'boolean'\n  )\n    return {\n      message:\n        'the `outboundAttractionDistribution` setting should be a boolean.'\n    };\n\n  if ('adjustSizes' in settings && typeof settings.adjustSizes !== 'boolean')\n    return {message: 'the `adjustSizes` setting should be a boolean.'};\n\n  if (\n    'edgeWeightInfluence' in settings &&\n    typeof settings.edgeWeightInfluence !== 'number'\n  )\n    return {\n      message: 'the `edgeWeightInfluence` setting should be a number.'\n    };\n\n  if (\n    'scalingRatio' in settings &&\n    !(typeof settings.scalingRatio === 'number' && settings.scalingRatio >= 0)\n  )\n    return {message: 'the `scalingRatio` setting should be a number >= 0.'};\n\n  if (\n    'strongGravityMode' in settings &&\n    typeof settings.strongGravityMode !== 'boolean'\n  )\n    return {message: 'the `strongGravityMode` setting should be a boolean.'};\n\n  if (\n    'gravity' in settings &&\n    !(typeof settings.gravity === 'number' && settings.gravity >= 0)\n  )\n    return {message: 'the `gravity` setting should be a number >= 0.'};\n\n  if (\n    'slowDown' in settings &&\n    !(typeof settings.slowDown === 'number' || settings.slowDown >= 0)\n  )\n    return {message: 'the `slowDown` setting should be a number >= 0.'};\n\n  if (\n    'barnesHutOptimize' in settings &&\n    typeof settings.barnesHutOptimize !== 'boolean'\n  )\n    return {message: 'the `barnesHutOptimize` setting should be a boolean.'};\n\n  if (\n    'barnesHutTheta' in settings &&\n    !(\n      typeof settings.barnesHutTheta === 'number' &&\n      settings.barnesHutTheta >= 0\n    )\n  )\n    return {message: 'the `barnesHutTheta` setting should be a number >= 0.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for both nodes & edges of the given graph.\n *\n * @param  {Graph}       graph           - Target graph.\n * @param  {string|null} weightAttribute - Name of the edge weight attribute.\n * @return {object}                      - Both matrices.\n */\nexports.graphToByteArrays = function (graph, weightAttribute) {\n  var order = graph.order;\n  var size = graph.size;\n  var index = {};\n  var j;\n\n  var NodeMatrix = new Float32Array(order * PPN);\n  var EdgeMatrix = new Float32Array(size * PPE);\n\n  // Iterate through nodes\n  j = 0;\n  graph.forEachNode(function (node, attr) {\n    // Node index\n    index[node] = j;\n\n    // Populating byte array\n    NodeMatrix[j] = attr.x;\n    NodeMatrix[j + 1] = attr.y;\n    NodeMatrix[j + 2] = 0;\n    NodeMatrix[j + 3] = 0;\n    NodeMatrix[j + 4] = 0;\n    NodeMatrix[j + 5] = 0;\n    NodeMatrix[j + 6] = 1 + graph.degree(node);\n    NodeMatrix[j + 7] = 1;\n    NodeMatrix[j + 8] = attr.size || 1;\n    NodeMatrix[j + 9] = attr.fixed ? 1 : 0;\n    j += PPN;\n  });\n\n  // Iterate through edges\n  var weightGetter = function (attr) {\n    if (!weightAttribute) return 1;\n\n    var w = attr[weightAttribute];\n\n    if (typeof w !== 'number' || isNaN(w)) w = 1;\n\n    return w;\n  };\n\n  j = 0;\n  graph.forEachEdge(function (_, attr, source, target) {\n    // Populating byte array\n    EdgeMatrix[j] = index[source];\n    EdgeMatrix[j + 1] = index[target];\n    EdgeMatrix[j + 2] = weightGetter(attr);\n    j += PPE;\n  });\n\n  return {\n    nodes: NodeMatrix,\n    edges: EdgeMatrix\n  };\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix) {\n  var i = 0;\n\n  graph.updateEachNodeAttributes(\n    function (node, attr) {\n      attr.x = NodeMatrix[i];\n      attr.y = NodeMatrix[i + 1];\n\n      i += PPN;\n\n      return attr;\n    },\n    {attributes: ['x', 'y']}\n  );\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}        graph      - Target graph.\n * @param  {Float32Array} NodeMatrix - Node matrix.\n * @return {object}                  - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix) {\n  var nodes = graph.nodes(),\n    positions = {};\n\n  for (var i = 0, j = 0, l = NodeMatrix.length; i < l; i += PPN) {\n    positions[nodes[j]] = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    j++;\n  }\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology ForceAtlas2 Layout\n * ==============================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph'),\n  iterate = require('./iterate.js'),\n  helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign       - Whether to assign positions.\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - If number, params.iterations, else:\n * @param  {object}          attributes - Attribute names:\n * @param  {string}            weight   - Name of the edge weight attribute.\n * @param  {boolean}         weighted   - Whether to take edge weights into account.\n * @param  {number}          iterations - Number of iterations.\n * @param  {object}          [settings] - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {iterations: params};\n\n  var iterations = params.iterations;\n\n  if (typeof iterations !== 'number')\n    throw new Error(\n      'graphology-layout-forceatlas2: invalid number of iterations.'\n    );\n\n  if (iterations <= 0)\n    throw new Error(\n      'graphology-layout-forceatlas2: you should provide a positive number of iterations.'\n    );\n\n  var attributes = params.attributes || {};\n  var weightAttribute = params.weighted ? attributes.weight || 'weight' : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2: ' + validationError.message\n    );\n\n  // Building matrices\n  var matrices = helpers.graphToByteArrays(graph, weightAttribute);\n\n  var i;\n\n  // Iterating\n  for (i = 0; i < iterations; i++)\n    iterate(settings, matrices.nodes, matrices.edges);\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrices.nodes);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrices.nodes);\n}\n\n/**\n * Function returning sane layout settings for the given graph.\n *\n * @param  {Graph|number} graph - Target graph or graph order.\n * @return {object}\n */\nfunction inferSettings(graph) {\n  var order = typeof graph === 'number' ? graph : graph.order;\n\n  return {\n    barnesHutOptimize: order > 2000,\n    strongGravityMode: true,\n    gravity: 0.05,\n    scalingRatio: 10,\n    slowDown: 1 + Math.log(order)\n  };\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\nsynchronousLayout.inferSettings = inferSettings;\n\nmodule.exports = synchronousLayout;\n","/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance = Math.sqrt(\n        Math.pow(xDist, 2) +\n          Math.pow(yDist, 2) -\n          NodeMatrix[n1 + NODE_SIZE] -\n          NodeMatrix[n2 + NODE_SIZE]\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n","/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nmodule.exports = function worker() {\n  var NODES, EDGES;\n\n  var moduleShim = {};\n\n  (function () {\n    /* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmoduleShim.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance = Math.sqrt(\n        Math.pow(xDist, 2) +\n          Math.pow(yDist, 2) -\n          NodeMatrix[n1 + NODE_SIZE] -\n          NodeMatrix[n2 + NODE_SIZE]\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n  })();\n\n  var iterate = moduleShim.exports;\n\n  self.addEventListener('message', function (event) {\n    var data = event.data;\n\n    NODES = new Float32Array(data.nodes);\n\n    if (data.edges) EDGES = new Float32Array(data.edges);\n\n    // Running the iteration\n    iterate(data.settings, NODES, EDGES);\n\n    // Sending result to supervisor\n    self.postMessage(\n      {\n        nodes: NODES.buffer\n      },\n      [NODES.buffer]\n    );\n  });\n};\n\n","/**\n * Graphology ForceAtlas2 Layout Supervisor\n * =========================================\n *\n * Supervisor class able to spawn a web worker to run the FA2 layout in a\n * separate thread not to block UI with heavy synchronous computations.\n */\nvar workerFunction = require('./webworker.js'),\n  isGraph = require('graphology-utils/is-graph'),\n  helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Class representing a FA2 layout run by a webworker.\n *\n * @constructor\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - Parameters:\n * @param  {object}          [settings] - Settings.\n */\nfunction FA2LayoutSupervisor(graph, params) {\n  params = params || {};\n\n  // Validation\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.'\n    );\n\n  var attributes = params.attributes || {};\n  var weightAttribute = params.weighted ? attributes.weight || 'weight' : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: ' + validationError.message\n    );\n\n  // Properties\n  this.worker = null;\n  this.graph = graph;\n  this.settings = settings;\n  this.weightAttribute = weightAttribute;\n  this.matrices = null;\n  this.running = false;\n  this.killed = false;\n\n  // Binding listeners\n  this.handleMessage = this.handleMessage.bind(this);\n\n  var respawnFrame = undefined;\n  var self = this;\n\n  this.handleGraphUpdate = function () {\n    if (self.worker) self.worker.terminate();\n\n    if (respawnFrame) clearTimeout(respawnFrame);\n\n    respawnFrame = setTimeout(function () {\n      respawnFrame = undefined;\n      self.spawnWorker();\n    }, 0);\n  };\n\n  graph.on('nodeAdded', this.handleGraphUpdate);\n  graph.on('edgeAdded', this.handleGraphUpdate);\n  graph.on('nodeDropped', this.handleGraphUpdate);\n  graph.on('edgeDropped', this.handleGraphUpdate);\n\n  // Spawning worker\n  this.spawnWorker();\n}\n\nFA2LayoutSupervisor.prototype.isRunning = function () {\n  return this.running;\n};\n\n/**\n * Internal method used to spawn the web worker.\n */\nFA2LayoutSupervisor.prototype.spawnWorker = function () {\n  if (this.worker) this.worker.terminate();\n\n  this.worker = helpers.createWorker(workerFunction);\n  this.worker.addEventListener('message', this.handleMessage);\n\n  if (this.running) {\n    this.running = false;\n    this.start();\n  }\n};\n\n/**\n * Internal method used to handle the worker's messages.\n *\n * @param {object} event - Event to handle.\n */\nFA2LayoutSupervisor.prototype.handleMessage = function (event) {\n  if (!this.running) return;\n\n  var matrix = new Float32Array(event.data.nodes);\n\n  helpers.assignLayoutChanges(this.graph, matrix);\n  this.matrices.nodes = matrix;\n\n  // Looping\n  this.askForIterations();\n};\n\n/**\n * Internal method used to ask for iterations from the worker.\n *\n * @param  {boolean} withEdges - Should we send edges along?\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.askForIterations = function (withEdges) {\n  var matrices = this.matrices;\n\n  var payload = {\n    settings: this.settings,\n    nodes: matrices.nodes.buffer\n  };\n\n  var buffers = [matrices.nodes.buffer];\n\n  if (withEdges) {\n    payload.edges = matrices.edges.buffer;\n    buffers.push(matrices.edges.buffer);\n  }\n\n  this.worker.postMessage(payload, buffers);\n\n  return this;\n};\n\n/**\n * Method used to start the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.start = function () {\n  if (this.killed)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker.start: layout was killed.'\n    );\n\n  if (this.running) return this;\n\n  // Building matrices\n  this.matrices = helpers.graphToByteArrays(this.graph, this.weightAttribute);\n\n  this.running = true;\n  this.askForIterations(true);\n\n  return this;\n};\n\n/**\n * Method used to stop the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.stop = function () {\n  this.running = false;\n\n  return this;\n};\n\n/**\n * Method used to kill the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.kill = function () {\n  if (this.killed) return this;\n\n  this.running = false;\n  this.killed = true;\n\n  // Clearing memory\n  this.matrices = null;\n\n  // Terminating worker\n  this.worker.terminate();\n\n  // Unbinding listeners\n  this.graph.removeListener('nodeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('edgeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('nodeDropped', this.handleGraphUpdate);\n  this.graph.removeListener('edgeDropped', this.handleGraphUpdate);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FA2LayoutSupervisor;\n","/**\n * Graphology CirclePack Layout\n * =============================\n *\n * Circlepack layout from d3-hierarchy/gephi.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar shuffle = require('pandemonium/shuffle-in-place');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  attributes: {\n    x: 'x',\n    y: 'y'\n  },\n  center: 0,\n  hierarchyAttributes: [],\n  rng: Math.random,\n  scale: 1\n};\n\n/**\n * Helpers.\n */\nfunction CircleWrap(id, x, y, r, circleWrap) {\n  this.wrappedCircle = circleWrap || null; //hacky d3 reference thing\n\n  this.children = {};\n  this.countChildren = 0;\n  this.id = id || null;\n  this.next = null;\n  this.previous = null;\n\n  this.x = x || null;\n  this.y = y || null;\n  if (circleWrap) this.r = 1010101;\n  // for debugging purposes - should not be used in this case\n  else this.r = r || 999;\n}\n\nCircleWrap.prototype.hasChildren = function () {\n  return this.countChildren > 0;\n};\n\nCircleWrap.prototype.addChild = function (id, child) {\n  this.children[id] = child;\n  ++this.countChildren;\n};\n\nCircleWrap.prototype.getChild = function (id) {\n  if (!this.children.hasOwnProperty(id)) {\n    var circleWrap = new CircleWrap();\n    this.children[id] = circleWrap;\n    ++this.countChildren;\n  }\n  return this.children[id];\n};\n\nCircleWrap.prototype.applyPositionToChildren = function () {\n  if (this.hasChildren()) {\n    var root = this; // using 'this' in Object.keys.forEach seems a bad idea\n    for (var key in root.children) {\n      var child = root.children[key];\n      child.x += root.x;\n      child.y += root.y;\n      child.applyPositionToChildren();\n    }\n  }\n};\n\nfunction setNode(/*Graph*/ graph, /*CircleWrap*/ parentCircle, /*Map*/ posMap) {\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    if (circle.hasChildren()) {\n      setNode(graph, circle, posMap);\n    } else {\n      posMap[circle.id] = {x: circle.x, y: circle.y};\n    }\n  }\n}\n\nfunction enclosesNot(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r + 1e-6;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(/*CircleWrap*/ a, /*Array<CircleWrap>*/ B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis1(/*CircleWrap*/ a) {\n  return new CircleWrap(null, a.x, a.y, a.r);\n}\n\nfunction encloseBasis2(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x21 = x2 - x1,\n    y21 = y2 - y1,\n    r21 = r2 - r1,\n    l = Math.sqrt(x21 * x21 + y21 * y21);\n  return new CircleWrap(\n    null,\n    (x1 + x2 + (x21 / l) * r21) / 2,\n    (y1 + y2 + (y21 / l) * r21) / 2,\n    (l + r1 + r2) / 2\n  );\n}\n\nfunction encloseBasis3(/*CircleWrap*/ a, /*CircleWrap*/ b, /*CircleWrap*/ c) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x3 = c.x,\n    y3 = c.y,\n    r3 = c.r,\n    a2 = x1 - x2,\n    a3 = x1 - x3,\n    b2 = y1 - y2,\n    b3 = y1 - y3,\n    c2 = r2 - r1,\n    c3 = r3 - r1,\n    d1 = x1 * x1 + y1 * y1 - r1 * r1,\n    d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n    d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n    ab = a3 * b2 - a2 * b3,\n    xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n    xb = (b3 * c2 - b2 * c3) / ab,\n    ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n    yb = (a2 * c3 - a3 * c2) / ab,\n    A = xb * xb + yb * yb - 1,\n    B = 2 * (r1 + xa * xb + ya * yb),\n    C = xa * xa + ya * ya - r1 * r1,\n    r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return new CircleWrap(null, x1 + xa + xb * r, y1 + ya + yb * r, r);\n}\n\nfunction encloseBasis(/*Array<CircleWrap>*/ B) {\n  switch (B.length) {\n    case 1:\n      return encloseBasis1(B[0]);\n    case 2:\n      return encloseBasis2(B[0], B[1]);\n    case 3:\n      return encloseBasis3(B[0], B[1], B[2]);\n    default:\n      throw new Error(\n        'graphology-layout/circlepack: Invalid basis length ' + B.length\n      );\n  }\n}\n\nfunction extendBasis(/*Array<CircleWrap>*/ B, /*CircleWrap*/ p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i]) && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (\n        enclosesNot(encloseBasis2(B[i], B[j]), p) &&\n        enclosesNot(encloseBasis2(B[i], p), B[j]) &&\n        enclosesNot(encloseBasis2(B[j], p), B[i]) &&\n        enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)\n      ) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error('graphology-layout/circlepack: extendBasis failure !');\n}\n\nfunction score(/*CircleWrap*/ node) {\n  var a = node.wrappedCircle;\n  var b = node.next.wrappedCircle;\n  var ab = a.r + b.r;\n  var dx = (a.x * b.r + b.x * a.r) / ab;\n  var dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction enclose(circles, shuffleFunc) {\n  var i = 0;\n  var circlesLoc = circles.slice();\n\n  var n = circles.length;\n  var B = [];\n  var p;\n  var e;\n  shuffleFunc(circlesLoc);\n  while (i < n) {\n    p = circlesLoc[i];\n    if (e && enclosesWeak(e, p)) {\n      ++i;\n    } else {\n      B = extendBasis(B, p);\n      e = encloseBasis(B);\n      i = 0;\n    }\n  }\n  return e;\n}\n\nfunction place(/*CircleWrap*/ b, /*CircleWrap*/ a, /*CircleWrap*/ c) {\n  var dx = b.x - a.x,\n    x,\n    a2,\n    dy = b.y - a.y,\n    y,\n    b2,\n    d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r;\n    a2 *= a2;\n    b2 = b.r + c.r;\n    b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r + b.r - 1e-6,\n    dx = b.x - a.x,\n    dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction packEnclose(/*Array<CircleWrap>*/ circles, shuffleFunc) {\n  var n = circles.length;\n  if (n === 0) return 0;\n\n  var a, b, c, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0];\n  a.x = 0;\n  a.y = 0;\n  if (n <= 1) return a.r;\n\n  // Place the second circle.\n  b = circles[1];\n  a.x = -b.r;\n  b.x = a.r;\n  b.y = 0;\n  if (n <= 2) return a.r + b.r;\n\n  // Place the third circle.\n  c = circles[2];\n  place(b, a, c);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new CircleWrap(null, null, null, null, a);\n  b = new CircleWrap(null, null, null, null, b);\n  c = new CircleWrap(null, null, null, null, c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    c = circles[i];\n    place(a.wrappedCircle, b.wrappedCircle, c);\n    c = new CircleWrap(null, null, null, null, c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next;\n    k = a.previous;\n    sj = b.wrappedCircle.r;\n    sk = a.wrappedCircle.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j.wrappedCircle, c.wrappedCircle)) {\n          b = j;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sj += j.wrappedCircle.r;\n        j = j.next;\n      } else {\n        if (intersects(k.wrappedCircle, c.wrappedCircle)) {\n          a = k;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sk += k.wrappedCircle.r;\n        k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a;\n    c.next = b;\n    a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c;\n        aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b.wrappedCircle];\n  c = b;\n  var safety = 10000;\n  while ((c = c.next) !== b) {\n    if (--safety === 0) {\n      break;\n    }\n    a.push(c.wrappedCircle);\n  }\n  c = enclose(a, shuffleFunc);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) {\n    a = circles[i];\n    a.x -= c.x;\n    a.y -= c.y;\n  }\n  return c.r;\n}\n\nfunction packHierarchy(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  var r = 0;\n  if (parentCircle.hasChildren()) {\n    //pack the children first because the radius is determined by how the children get packed (recursive)\n    for (var key in parentCircle.children) {\n      var circle = parentCircle.children[key];\n      if (circle.hasChildren()) {\n        circle.r = packHierarchy(circle, shuffleFunc);\n      }\n    }\n    //now that each circle has a radius set by its children, pack the circles at this level\n    r = packEnclose(Object.values(parentCircle.children), shuffleFunc);\n  }\n  return r;\n}\n\nfunction packHierarchyAndShift(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  packHierarchy(parentCircle, shuffleFunc);\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    circle.applyPositionToChildren();\n  }\n}\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph                   - Target  graph.\n * @param  {object}   [options]               - Options:\n * @param  {object}     [attributes]          - Attributes names to map.\n * @param  {number}     [center]              - Center of the layout.\n * @param  {string[]}   [hierarchyAttributes] - List of attributes used for the layout in decreasing order.\n * @param  {function}   [rng]                 - Custom RNG function to be used.\n * @param  {number}     [scale]               - Scale of the layout.\n * @return {object}                           - The positions by node.\n */\nfunction genericCirclePackLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/circlepack: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var posMap = {},\n    positions = {},\n    nodes = graph.nodes(),\n    center = options.center,\n    hierarchyAttributes = options.hierarchyAttributes,\n    shuffleFunc = shuffle.createShuffleInPlace(options.rng),\n    scale = options.scale;\n\n  var container = new CircleWrap();\n\n  graph.forEachNode(function (key, attributes) {\n    var r = attributes.size ? attributes.size : 1;\n    var newCircleWrap = new CircleWrap(key, null, null, r);\n    var parentContainer = container;\n\n    hierarchyAttributes.forEach(function (v) {\n      var attr = attributes[v];\n      parentContainer = parentContainer.getChild(attr);\n    });\n\n    parentContainer.addChild(key, newCircleWrap);\n  });\n  packHierarchyAndShift(container, shuffleFunc);\n  setNode(graph, container, posMap);\n  var l = nodes.length,\n    x,\n    y,\n    i;\n  for (i = 0; i < l; i++) {\n    var node = nodes[i];\n\n    x = center + scale * posMap[node].x;\n    y = center + scale * posMap[node].y;\n\n    positions[node] = {\n      x: x,\n      y: y\n    };\n\n    if (assign) {\n      graph.setNodeAttribute(node, options.attributes.x, x);\n      graph.setNodeAttribute(node, options.attributes.y, y);\n    }\n  }\n  return positions;\n}\n\nvar circlePackLayout = genericCirclePackLayout.bind(null, false);\ncirclePackLayout.assign = genericCirclePackLayout.bind(null, true);\n\nmodule.exports = circlePackLayout;\n","/**\n * Graphology Defaults\n * ====================\n *\n * Helper function used throughout the standard lib to resolve defaults.\n */\nfunction isLeaf(o) {\n  return (\n    !o ||\n    typeof o !== 'object' ||\n    typeof o === 'function' ||\n    Array.isArray(o) ||\n    o instanceof Set ||\n    o instanceof Map ||\n    o instanceof RegExp ||\n    o instanceof Date\n  );\n}\n\nfunction resolveDefaults(target, defaults) {\n  target = target || {};\n\n  var output = {};\n\n  for (var k in defaults) {\n    var existing = target[k];\n    var def = defaults[k];\n\n    // Recursion\n    if (!isLeaf(def)) {\n      output[k] = resolveDefaults(existing, def);\n\n      continue;\n    }\n\n    // Leaf\n    if (existing === undefined) {\n      output[k] = def;\n    } else {\n      output[k] = existing;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = resolveDefaults;\n","/**\n * Graphology isGraphConstructor\n * ==============================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology constructor.\n */\n\n/**\n * Checking the value is a graphology constructor.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraphConstructor(value) {\n  return (\n    value !== null &&\n    typeof value === 'function' &&\n    typeof value.prototype === 'object' &&\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.prototype.dropNode === 'function'\n  );\n};\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var c=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return null!==e&&\"object\"===t(e)&&\"function\"==typeof e.addUndirectedEdgeWithKey&&\"function\"==typeof e.dropNode}function h(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function f(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function l(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function g(t){return!!h(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(c=Object.assign);var y,v={exports:{}},b=\"object\"==typeof Reflect?Reflect:null,w=b&&\"function\"==typeof b.apply?b.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};y=b&&\"function\"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};function _(){_.init.call(this)}v.exports=_,v.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&U(t,\"error\",e,n)}(t,i,{once:!0})}))},_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var k=10;function G(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function x(t){return void 0===t._maxListeners?_.defaultMaxListeners:t._maxListeners}function E(t,e,n,r){var i,o,a,u;if(G(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=t,c.type=e,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return t}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=S.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):N(i,i.length)}function D(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function N(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function j(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(_,\"defaultMaxListeners\",{enumerable:!0,get:function(){return k},set:function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");k=t}}),_.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},_.prototype.getMaxListeners=function(){return x(this)},_.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var u=i[t];if(void 0===u)return!1;if(\"function\"==typeof u)w(u,this,e);else{var c=u.length,d=N(u,c);for(n=0;n<c;++n)w(d[n],this,e)}return!0},_.prototype.addListener=function(t,e){return E(this,t,e,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(t,e){return E(this,t,e,!0)},_.prototype.once=function(t,e){return G(e),this.on(t,A(this,t,e)),this},_.prototype.prependOnceListener=function(t,e){return G(e),this.prependListener(t,A(this,t,e)),this},_.prototype.removeListener=function(t,e){var n,r,i,o,a;if(G(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},_.prototype.listeners=function(t){return L(this,t,!0)},_.prototype.rawListeners=function(t){return L(this,t,!1)},_.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):D.call(t,e)},_.prototype.listenerCount=D,_.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]},\"undefined\"!=typeof Symbol&&(j.prototype[Symbol.iterator]=function(){return this}),j.of=function(){var t=arguments,e=t.length,n=0;return new j((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},j.empty=function(){return new j((function(){return{done:!0}}))},j.fromSequence=function(t){var e=0,n=t.length;return new j((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},j.is=function(t){return t instanceof j||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=j,C={};C.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,C.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var z=O,M=C,P=M.ARRAY_BUFFER_SUPPORT,T=M.SYMBOL_SUPPORT;var R=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||P&&ArrayBuffer.isView(t)?z.fromSequence(t):\"object\"!=typeof t||null===t?null:T&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},W=R,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=W(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},I=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(I),Y=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(I),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(I);function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e){this.key=t,this.attributes=e,this.clear()}function H(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}function Q(t,e,n,r,i,o,a){var u,c,d=\"out\",s=\"in\";if(e&&(d=s=\"undirected\"),t.multi){if(void 0===(c=(u=o[d])[i])&&(c=new Set,u[i]=c),c.add(n),r===i&&e)return;void 0===(u=a[s])[r]&&(u[r]=c)}else{if(o[d][i]=n,r===i&&e)return;a[s][r]=n}}function X(t,e,n){var r=t.multi,i=n.source,o=n.target,a=i.key,u=o.key,c=i[e?\"undirected\":\"out\"],d=e?\"undirected\":\"in\";if(u in c)if(r){var s=c[u];1===s.size?(delete c[u],delete o[d][a]):s.delete(n)}else delete c[u];r||delete o[d][a]}q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}},J.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}},J.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},V.prototype.clear=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},V.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};function Z(t,e,n,r,i,o,a){var u,c,d,s;if(r=\"\"+r,0===n){if(!(u=t._nodes.get(r)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));d=i,s=o}else if(3===n){if(i=\"\"+i,!(c=t._edges.get(i)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=c.source.key,f=c.target.key;if(r===h)u=c.target;else{if(r!==f)throw new Y(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(f,\").\"));u=c.source}d=o,s=a}else{if(!(c=t._edges.get(r)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));u=1===n?c.source:c.target,d=i,s=o}return[u,d,s]}var $=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes[u]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return Z(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes.hasOwnProperty(u)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Z(this,e,n,t,r,i,o),u=a[0],c=a[1],d=a[2];return u.attributes[c]=d,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Z(this,e,n,t,r,i,o),u=a[0],c=a[1],d=a[2];if(\"function\"!=typeof d)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));var s=u.attributes,h=d(s[c]);return s[c]=h,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];return delete a.attributes[u],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:u}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=u,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(a.attributes,u),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Z(this,e,n,t,r,i),a=o[0],u=o[1];if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=u(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var tt=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=d(this,i,o,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else if(t=\"\"+t,!(r=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"mixed\"!==n&&r.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,u,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else if(t=\"\"+t,!(o=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"mixed\"!==n&&o.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,u,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else if(t=\"\"+t,!(o=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"function\"!=typeof i)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));if(\"mixed\"!==n&&o.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return c(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new B(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new B(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new Y(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else if(t=\"\"+t,!(i=this._edges.get(t)))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'));if(\"function\"!=typeof r)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));if(\"mixed\"!==n&&i.undirected!==(\"undirected\"===n))throw new Y(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" ').concat(n,\" edge in the graph.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var et=O,nt=R,rt=function(){var t=arguments,e=null,n=-1;return new et((function r(){if(null===e){if(++n>=t.length)return{done:!0};e=nt(t[n])}var i=e.next();return i.done?(e=null,r()):i}))},it=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function ot(t,e){for(var n in e)t.push(e[n].key)}function at(t,e){for(var n in e)e[n].forEach((function(e){return t.push(e.key)}))}function ut(t,e,n){for(var r in t)if(r!==n){var i=t[r];e(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected)}}function ct(t,e,n){for(var r in t)r!==n&&t[r].forEach((function(t){return e(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes,t.undirected)}))}function dt(t,e,n){for(var r in t)if(r!==n){var i=t[r];if(e(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected))return i.key}}function st(t,e,n){var r,i,o,a,u;for(var c in t)if(c!==n)for(r=t[c].values();!0!==(i=r.next()).done;)if(a=(o=i.value).source,u=o.target,e(o.key,o.attributes,a.key,u.key,a.attributes,u.attributes,o.undirected))return o.key}function ht(t,e){var n=Object.keys(t),r=n.length,i=null,o=0;return new O((function a(){var u;if(i){var c=i.next();if(c.done)return i=null,o++,a();u=c.value}else{if(o>=r)return{done:!0};var d=n[o];if(d===e)return o++,a();if((u=t[d])instanceof Set)return i=u.values(),a();o++}return{done:!1,value:{edge:u.key,attributes:u.attributes,source:u.source.key,target:u.target.key,sourceAttributes:u.source.attributes,targetAttributes:u.target.attributes,undirected:u.undirected}}}))}function ft(t,e,n){var r=e[n];r&&t.push(r.key)}function pt(t,e,n){var r=e[n];r&&r.forEach((function(e){return t.push(e.key)}))}function lt(t,e,n){var r=t[e];if(r){var i=r.source,o=r.target;n(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected)}}function gt(t,e,n){var r=t[e];r&&r.forEach((function(t){return n(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes,t.undirected)}))}function yt(t,e,n){var r=t[e];if(r){var i=r.source,o=r.target;return n(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected)?r.key:void 0}}function vt(t,e,n){var r=t[e];if(r)for(var i,o,a=r.values();!0!==(i=a.next()).done;)if(n((o=i.value).key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected))return o.key}function bt(t,e){var n=t[e];if(n instanceof Set){var r=n.values();return new O((function(){var t=r.next();if(t.done)return t;var e=t.value;return{done:!1,value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected}}}))}return O.of([n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes])}function wt(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,u=t._edges.values(),c=0;!0!==(n=u.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}function mt(t,e,n){if(0!==t.size)for(var r,i,o=\"mixed\"!==e&&e!==t.type,a=\"undirected\"===e,u=t._edges.values();!0!==(r=u.next()).done;)if(i=r.value,!o||i.undirected===a){var c=i,d=c.key,s=c.attributes,h=c.source,f=c.target;n(d,s,h.key,f.key,h.attributes,f.attributes,i.undirected)}}function _t(t,e,n){if(0!==t.size)for(var r,i,o=\"mixed\"!==e&&e!==t.type,a=\"undirected\"===e,u=t._edges.values();!0!==(r=u.next()).done;)if(i=r.value,!o||i.undirected===a){var c=i,d=c.key,s=c.attributes,h=c.source,f=c.target;if(n(d,s,h.key,f.key,h.attributes,f.attributes,i.undirected))return d}}function kt(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function Gt(t,e,n,r){var i=[],o=t?at:ot;return\"undirected\"!==e&&(\"out\"!==n&&o(i,r.in),\"in\"!==n&&o(i,r.out),!n&&r.directedSelfLoops>0&&i.splice(i.lastIndexOf(r.key),1)),\"directed\"!==e&&o(i,r.undirected),i}function xt(t,e,n,r,i){var o=t?ct:ut;\"undirected\"!==e&&(\"out\"!==n&&o(r.in,i),\"in\"!==n&&o(r.out,i,n?null:r.key)),\"directed\"!==e&&o(r.undirected,i)}function Et(t,e,n,r,i){var o,a=t?st:dt;if(\"undirected\"!==e){if(\"out\"!==n&&(o=a(r.in,i)))return o;if(\"in\"!==n&&(o=a(r.out,i,n?null:r.key)))return o}if(\"directed\"!==e&&(o=a(r.undirected,i)))return o}function St(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=rt(r,ht(n.in))),\"in\"!==e&&void 0!==n.out&&(r=rt(r,ht(n.out,e?null:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=rt(r,ht(n.undirected))),r}function At(t,e,n,r,i){var o=e?pt:ft,a=[];return\"undirected\"!==t&&(void 0!==r.in&&\"out\"!==n&&o(a,r.in,i),void 0!==r.out&&\"in\"!==n&&o(a,r.out,i),!n&&r.directedSelfLoops>0&&a.splice(a.lastIndexOf(r.key),1)),\"directed\"!==t&&void 0!==r.undirected&&o(a,r.undirected,i),a}function Lt(t,e,n,r,i,o){var a=e?gt:lt;\"undirected\"!==t&&(void 0!==r.in&&\"out\"!==n&&a(r.in,i,o),r.key!==i&&void 0!==r.out&&\"in\"!==n&&a(r.out,i,o)),\"directed\"!==t&&void 0!==r.undirected&&a(r.undirected,i,o)}function Dt(t,e,n,r,i,o){var a,u=e?vt:yt;if(\"undirected\"!==t){if(void 0!==r.in&&\"out\"!==n&&(a=u(r.in,i,o)))return a;if(r.key!==i&&void 0!==r.out&&\"in\"!==n&&(a=u(r.out,i,o,n?null:r.key)))return a}if(\"directed\"!==t&&void 0!==r.undirected&&(a=u(r.undirected,i,o)))return a}function Nt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=rt(i,bt(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(i=rt(i,bt(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=rt(i,bt(n.undirected,r))),i}var Ut=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function jt(t,e){if(void 0!==e)for(var n in e)t.add(n)}function Ot(t,e,n){for(var r in e){var i=e[r];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=i.target,u=o===t?a:o;n(u.key,u.attributes)}}function Ct(t,e,n,r){for(var i in n){var o=n[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,u=o.target,c=a===e?u:a;t.has(c.key)||(t.add(c.key),r(c.key,c.attributes))}}function zt(t,e,n){for(var r in e){var i=e[r];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=i.target,u=o===t?a:o;if(n(u.key,u.attributes))return u.key}}function Mt(t,e,n,r){for(var i in n){var o=n[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,u=o.target,c=a===e?u:a;if(!t.has(c.key))if(t.add(c.key),r(c.key,c.attributes))return c.key}}function Pt(t,e){var n=Object.keys(e),r=n.length,i=0;return new O((function(){if(i>=r)return{done:!0};var o=e[n[i++]];o instanceof Set&&(o=o.values().next().value);var a=o.source,u=o.target,c=a===t?u:a;return{done:!1,value:{neighbor:c.key,attributes:c.attributes}}}))}function Tt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function a(){if(o>=i)return{done:!0};var u=n[r[o++]];u instanceof Set&&(u=u.values().next().value);var c=u.source,d=u.target,s=c===e?d:c;return t.has(s.key)?a():(t.add(s.key),{done:!1,value:{neighbor:s.key,attributes:s.attributes}})}))}function Rt(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new Y(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=new Set;return\"undirected\"!==t&&(\"out\"!==e&&jt(r,n.in),\"in\"!==e&&jt(r,n.out)),\"directed\"!==t&&jt(r,n.undirected),K(r.values(),r.size)}(\"mixed\"===r?this.type:r,i,e)}}function Wt(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new Y(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));!function(t,e,n,r){if(\"mixed\"!==t){if(\"undirected\"===t)return Ot(n,n.undirected,r);if(\"string\"==typeof e)return Ot(n,n[e],r)}var i=new Set;\"undirected\"!==t&&(\"out\"!==e&&Ct(i,n,n.in,r),\"in\"!==e&&Ct(i,n,n.out,r)),\"directed\"!==t&&Ct(i,n,n.undirected,r)}(\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e,n){if(arguments.length<3)throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}function Kt(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new Y(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n,r){if(\"mixed\"!==t){if(\"undirected\"===t)return zt(n,n.undirected,r);if(\"string\"==typeof e)return zt(n,n[e],r)}var i,o=new Set;if(\"undirected\"!==t){if(\"out\"!==e&&(i=Mt(o,n,n.in,r)))return i;if(\"in\"!==e&&(i=Mt(o,n,n.out,r)))return i}if(\"directed\"!==t&&(i=Mt(o,n,n.undirected,r)))return i}(\"mixed\"===r?this.type:r,i,n,e)}};var u=\"some\"+o;t.prototype[u]=function(t,e){return!!this[a](t,e)};var c=\"every\"+o;t.prototype[c]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}function It(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new Y(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Pt(n,n.undirected);if(\"string\"==typeof e)return Pt(n,n[e])}var r=O.empty(),i=new Set;return\"undirected\"!==t&&(\"out\"!==e&&(r=rt(r,Tt(i,n,n.in))),\"in\"!==e&&(r=rt(r,Tt(i,n,n.out)))),\"directed\"!==t&&(r=rt(r,Tt(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function Ft(t,e,n,r,i){for(var o,a,u,c,d,s,h,f=r._nodes.values(),p=r.type;!0!==(o=f.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==p)for(u in c=a.out)if(s=(d=c[u]).target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;if(\"directed\"!==p)for(u in c=a.undirected)if(!(e&&a.key>u)&&((s=(d=c[u]).target).key!==u&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h))return d;if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Yt(t,e,n,r,i){for(var o,a,u,c,d,s,h,f,p,l=r._nodes.values(),g=r.type;!0!==(o=l.next()).done;){var y=!1;if(a=o.value,\"undirected\"!==g)for(u in s=a.out)for(c=s[u].values();!0!==(d=c.next()).done;)if(f=(h=d.value).target,y=!0,p=i(a.key,f.key,a.attributes,f.attributes,h.key,h.attributes,h.undirected),t&&p)return h;if(\"directed\"!==g)for(u in s=a.undirected)if(!(e&&a.key>u))for(c=s[u].values();!0!==(d=c.next()).done;)if((f=(h=d.value).target).key!==u&&(f=h.source),y=!0,p=i(a.key,f.key,a.attributes,f.attributes,h.key,h.attributes,h.undirected),t&&p)return h;if(n&&!y&&(p=i(a.key,null,a.attributes,null,null,null,null),t&&p))return null}}function Bt(t,e){var n={key:t};return f(e.attributes)||(n.attributes=c({},e.attributes)),n}function qt(t,e){var n={key:t,source:e.source.key,target:e.target.key};return f(e.attributes)||(n.attributes=c({},e.attributes)),e.undirected&&(n.undirected=!0),n}function Jt(t){return h(t)?\"key\"in t?!(\"attributes\"in t)||h(t.attributes)&&null!==t.attributes?null:\"invalid-attributes\":\"no-key\":\"not-object\"}function Vt(t){return h(t)?\"source\"in t?\"target\"in t?!(\"attributes\"in t)||h(t.attributes)&&null!==t.attributes?\"undirected\"in t&&\"boolean\"!=typeof t.undirected?\"invalid-undirected\":null:\"invalid-attributes\":\"no-target\":\"no-source\":\"not-object\"}var Ht,Qt=(Ht=255&Math.floor(256*Math.random()),function(){return Ht++}),Xt=new Set([\"directed\",\"undirected\",\"mixed\"]),Zt=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),$t={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function te(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function ee(t,e,n,r,i,o,a,u){if(!r&&\"undirected\"===t.type)throw new B(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new B(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(u&&!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));if(o=\"\"+o,a=\"\"+a,u=u||{},!t.allowSelfLoops&&o===a)throw new B(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var c=t._nodes.get(o),d=t._nodes.get(a);if(!c)throw new Y(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!d)throw new Y(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var s={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new B(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new B(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var f=new H(r,i,c,d,u);return t._edges.set(i,f),o===a?r?(c.undirectedSelfLoops++,t._undirectedSelfLoopCount++):(c.directedSelfLoops++,t._directedSelfLoopCount++):r?(c.undirectedDegree++,d.undirectedDegree++):(c.outDegree++,d.inDegree++),Q(t,r,f,o,a,c,d),r?t._undirectedSize++:t._directedSize++,s.key=i,t.emit(\"edgeAdded\",s),i}function ne(t,e,n,r,i,o,a,u,d){if(!r&&\"undirected\"===t.type)throw new B(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new B(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(u)if(d){if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(u,'\"'))}else if(!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));var s;if(o=\"\"+o,a=\"\"+a,d&&(s=u,u=void 0),!t.allowSelfLoops&&o===a)throw new B(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var f,p,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(f=t._edges.get(i))){if(!(f.source.key===o&&f.target.key===a||r&&f.source.key===a&&f.target.key===o))throw new B(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(f.source.key,'\", \"').concat(f.target.key,'\").'));p=f}if(p||t.multi||!l||(p=r?l.undirected[a]:l.out[a]),p){var y=[p.key,!1,!1,!1];if(d?!s:!u)return y;if(d){var v=p.attributes;p.attributes=s(v),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:p.key,attributes:p.attributes})}else c(p.attributes,u),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:p.key,attributes:p.attributes,data:u});return y}u=u||{},d&&s&&(u=s(u));var b={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new B(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var w=!1,m=!1;return l||(l=te(t,o,{}),w=!0,o===a&&(g=l,m=!0)),g||(g=te(t,a,{}),m=!0),f=new H(r,i,l,g,u),t._edges.set(i,f),o===a?r?(l.undirectedSelfLoops++,t._undirectedSelfLoopCount++):(l.directedSelfLoops++,t._directedSelfLoopCount++):r?(l.undirectedDegree++,g.undirectedDegree++):(l.outDegree++,g.inDegree++),Q(t,r,f,o,a,l,g),r?t._undirectedSize++:t._directedSize++,b.key=i,t.emit(\"edgeAdded\",b),[i,!0,w,m]}var re=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=c({},$t,t)).multi)throw new F(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Xt.has(t.type))throw new F('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new F(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?q:\"directed\"===t.type?J:V;p(u(e),\"NodeDataClass\",r);var i=Qt(),o=0;return p(u(e),\"_attributes\",{}),p(u(e),\"_nodes\",new Map),p(u(e),\"_edges\",new Map),p(u(e),\"_directedSize\",0),p(u(e),\"_undirectedSize\",0),p(u(e),\"_directedSelfLoopCount\",0),p(u(e),\"_undirectedSelfLoopCount\",0),p(u(e),\"_edgeKeyGenerator\",(function(){var t;do{t=\"geid_\"+i+\"_\"+o++}while(e._edges.has(t));return t})),p(u(e),\"_options\",t),Zt.forEach((function(t){return p(u(e),t,e[t])})),l(u(e),\"order\",(function(){return e._nodes.size})),l(u(e),\"size\",(function(){return e._edges.size})),l(u(e),\"directedSize\",(function(){return e._directedSize})),l(u(e),\"undirectedSize\",(function(){return e._undirectedSize})),l(u(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),l(u(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),l(u(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),l(u(e),\"multi\",e._options.multi),l(u(e),\"type\",e._options.type),l(u(e),\"allowSelfLoops\",e._options.allowSelfLoops),l(u(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);if(!r)return!1;var i=void 0!==r.out&&r.out[e];return i||(i=void 0!==r.undirected&&r.undirected[e]),!!i&&(!this.multi||!!i.size)}throw new F(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new B(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new Y('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new B(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new Y('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new B(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new Y('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.directedSelfLoops},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree+e.directedSelfLoops},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.directedSelfLoops;return e.inDegree+n+(e.outDegree+n)},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));if(\"directed\"===this.type)return 0;var n=e.undirectedSelfLoops;return e.undirectedDegree+2*n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree+2*e.undirectedSelfLoops),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree+2*e.directedSelfLoops),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new Y('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new Y('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new Y('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!h(n))throw new F('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new B('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!h(e))throw new F('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(c(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new F('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){var e=this;t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new Y('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));this.forEachEdge(t,(function(t){e.dropEdge(t)})),this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=d(this,n,r,this.type)))throw new Y('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new Y('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));this._edges.delete(e.key);var i=e,o=i.source,a=i.target,u=i.attributes,c=e.undirected;return o===a?c?(o.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(o.directedSelfLoops--,this._directedSelfLoopCount--):c?(o.undirectedDegree--,a.undirectedDegree--):(o.outDegree--,a.inDegree--),X(this,c,e),c?this._undirectedSize--:this._directedSize--,this.emit(\"edgeDropped\",{key:t,attributes:u,source:o.key,target:a.key,undirected:c}),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){!function(t){for(var e,n=t._nodes.values();!0!==(e=n.next()).done;)e.value.clear()}(this),this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new F(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!h(t))throw new F(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!h(t))throw new F(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return c(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntry: expecting a callback.\");this.multi?Yt(!1,!1,!1,this,t):Ft(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");this.multi?Yt(!1,!1,!0,this,t):Ft(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");this.multi?Yt(!1,!0,!1,this,t):Ft(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");this.multi?Yt(!1,!0,!0,this,t):Ft(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new F(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.exportNode=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new Y('Graph.exportNode: could not find the \"'.concat(t,'\" node in the graph.'));return Bt(t,e)},i.exportEdge=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new Y('Graph.exportEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return qt(t,e)},i.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach((function(n,r){t[e++]=Bt(r,n)}));var n=new Array(this._edges.size);return e=0,this._edges.forEach((function(t,r){n[e++]=qt(r,t)})),{attributes:this.getAttributes(),nodes:t,edges:n,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},i.importNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jt(t);if(n){if(\"not-object\"===n)throw new F('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(\"no-key\"===n)throw new F(\"Graph.importNode: no key provided.\");if(\"invalid-attributes\"===n)throw new F(\"Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.\")}var r=t.key,i=t.attributes,o=void 0===i?{}:i;return e?this.mergeNode(r,o):this.addNode(r,o),this},i.importEdge=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Vt(t);if(n){if(\"not-object\"===n)throw new F('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(\"no-source\"===n)throw new F(\"Graph.importEdge: missing souce.\");if(\"no-target\"===n)throw new F(\"Graph.importEdge: missing target.\");if(\"invalid-attributes\"===n)throw new F(\"Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"invalid-undirected\"===n)throw new F(\"Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.\")}var r=t.source,i=t.target,o=t.attributes,a=void 0===o?{}:o,u=t.undirected,c=void 0!==u&&u;return\"key\"in t?(e?c?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:c?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,t.key,r,i,a):(e?c?this.mergeUndirectedEdge:this.mergeDirectedEdge:c?this.addUndirectedEdge:this.addDirectedEdge).call(this,r,i,a),this},i.import=function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s(t))return this.import(t.export(),i),this;if(!h(t))throw new F(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!h(t.attributes))throw new F(\"Graph.import: invalid attributes. Expecting a plain object.\");i?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(r=t.nodes,!Array.isArray(r))throw new F(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=r.length;e<n;e++)this.importNode(r[e],i)}if(t.edges){if(r=t.edges,!Array.isArray(r))throw new F(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=r.length;e<n;e++)this.importEdge(r[e],i)}return this},i.nullCopy=function(t){var e=new r(c({},this._options,t));return e.replaceAttributes(c({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=c({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(){for(var t,e,n=this.emptyCopy(),r=this._edges.values();!0!==(t=r.next()).done;)ee(n,\"copy\",!1,(e=t.value).undirected,e.key,e.source.key,e.target.key,c({},e.attributes));return n},i.upgradeToMixed=function(){return\"mixed\"===this.type||(this._nodes.forEach((function(t){return t.upgradeToMixed()})),this._options.type=\"mixed\",l(this,\"type\",this._options.type),p(this,\"NodeDataClass\",q)),this},i.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,l(this,\"multi\",!0),(t=this)._nodes.forEach((function(e,n){if(e.out)for(var r in e.out){var i=new Set;i.add(e.out[r]),e.out[r]=i,t._nodes.get(r).in[n]=i}if(e.undirected)for(var o in e.undirected)if(!(o>n)){var a=new Set;a.add(e.undirected[o]),e.undirected[o]=a,t._nodes.get(o).undirected[n]=a}}))),this;var t},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",u=\"\",c=t.source.key,d=t.target.key;t.undirected&&c>d&&(o=c,c=d,d=o);var s=\"(\".concat(c,\")\").concat(a,\"(\").concat(d,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,u+=\"\".concat(i[s],\". \")):u+=\"[\".concat(n,\"]: \"),r[u+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Zt.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,\"constructor\",this.constructor),o},r}(v.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(re.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=re.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?ee:ne;t.generateKey?re.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:re.prototype[n]=function(i,o,a,u){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,u,\"update\"===e)}}))})),function(t){$.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(re),function(t){tt.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(re),function(t){it.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return wt(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new Y(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return Gt(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new Y(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return At(r,this.multi,i,a,e)}throw new F(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return mt(this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new Y(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return xt(this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return Lt(r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,u,c,d){t[a++]=n(e,r,i,o,u,c,d)}))}else t=[],e.push((function(e,r,i,o,a,u,c){t.push(n(e,r,i,o,a,u,c))}));return this[o].apply(this,e),t};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,u,c){e(t,r,i,o,a,u,c)&&n.push(t)})),this[o].apply(this,t),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new F(\"Graph.\".concat(c,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,u,c){r=t(r,e,n,i,o,a,u,c)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return _t(this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new Y(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return Et(this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return Dt(r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return e(t,n,r,i,o,a,u)})),!!this[o].apply(this,t)};var u=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return!e(t,n,r,i,o,a,u)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return kt(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new Y(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return St(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new Y(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return Nt(r,i,a,e)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(re),function(t){Ut.forEach((function(e){Rt(t,e),Wt(t,e),Kt(t,e),It(t,e)}))}(re);var ie=function(t){function n(e){var n=c({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new F('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(re),oe=function(t){function n(e){var n=c({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new F('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(re),ae=function(t){function n(e){var n=c({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(re),ue=function(t){function n(e){var n=c({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new F('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(re),ce=function(t){function n(e){var n=c({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new F('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(re);function de(t){t.from=function(e,n){var r=c({},e.options,n),i=new t(r);return i.import(e),i}}return de(re),de(ie),de(oe),de(ae),de(ue),de(ce),re.Graph=re,re.DirectedGraph=ie,re.UndirectedGraph=oe,re.MultiGraph=ae,re.MultiDirectedGraph=ue,re.MultiUndirectedGraph=ce,re.InvalidArgumentsGraphError=F,re.NotFoundGraphError=Y,re.UsageGraphError=B,re}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/**\n * Pandemonium Random\n * ===================\n *\n * Random function.\n */\n\n/**\n * Creating a function returning a random integer such as a <= N <= b.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandom(rng) {\n\n  /**\n   * Random function.\n   *\n   * @param  {number} a - From.\n   * @param  {number} b - To.\n   * @return {number}\n   */\n  return function(a, b) {\n    return a + Math.floor(rng() * (b - a + 1));\n  };\n}\n\n/**\n * Default random using `Math.random`.\n */\nvar random = createRandom(Math.random);\n\n/**\n * Exporting.\n */\nrandom.createRandom = createRandom;\nmodule.exports = random;\n","/**\n * Pandemonium Shuffle In Place\n * =============================\n *\n * Shuffle function applying the Fisher-Yates algorithm to the provided array.\n */\nvar createRandom = require('./random.js').createRandom;\n\n/**\n * Creating a function returning the given array shuffled.\n *\n * @param  {function} rng - The RNG to use.\n * @return {function}     - The created function.\n */\nfunction createShuffleInPlace(rng) {\n  var customRandom = createRandom(rng);\n\n  /**\n   * Function returning the shuffled array.\n   *\n   * @param  {array}  sequence - Target sequence.\n   * @return {array}           - The shuffled sequence.\n   */\n  return function(sequence) {\n    var length = sequence.length,\n        lastIndex = length - 1;\n\n    var index = -1;\n\n    while (++index < length) {\n      var r = customRandom(index, lastIndex),\n          value = sequence[r];\n\n      sequence[r] = sequence[index];\n      sequence[index] = value;\n    }\n  };\n}\n\n/**\n * Default shuffle in place using `Math.random`.\n */\nvar shuffleInPlace = createShuffleInPlace(Math.random);\n\n/**\n * Exporting.\n */\nshuffleInPlace.createShuffleInPlace = createShuffleInPlace;\nmodule.exports = shuffleInPlace;\n","export default \"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";","export default \"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";","export default \"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";","export default \"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";","export default \"attribute vec2 a_position;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\n\\nvoid main() {\\n  // Scale from [[-1 1] [-1 1]] to the container:\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Extract the color:\\n  v_color = a_color;\\n}\\n\";","export default \"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";","export default \"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the SQRT zoom ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \\\"magic\\\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n\\n  // Finally, we adapt the edge thickness to the \\\"SQRT rule\\\" in sigma (so that\\n  // items are not too big when zoomed in, and not too small when zoomed out).\\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\\n  // it's simpler like this:\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \\\"magic\\\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasint effect does not depend on the zoom level. So here's yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";","export default \"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";","export default \"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baage.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// Franois Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","/**\n * This example aims at showcasing sigma's performances.\n */\n\nimport Sigma from \"sigma\";\nimport Graph from \"graphology\";\nimport seedrandom from \"seedrandom\";\n\nimport EdgesDefaultProgram from \"sigma/rendering/webgl/programs/edge\";\nimport EdgesFastProgram from \"sigma/rendering/webgl/programs/edge.fast\";\n\nimport circlepack from \"graphology-layout/circlepack\";\nimport clusters from \"graphology-generators/random/clusters\";\nimport FA2Layout from \"graphology-layout-forceatlas2/worker\";\nimport forceAtlas2 from \"graphology-layout-forceatlas2\";\n\nconst rng = seedrandom(\"sigma\");\n\n// 1. Read query string, and set form values accordingly:\nconst query = new URLSearchParams(location.search).entries();\nfor (const [key, value] of query) {\n  const domList = document.getElementsByName(key);\n  if (domList.length === 1) {\n    (domList[0] as HTMLInputElement).value = value;\n  } else if (domList.length > 1) {\n    domList.forEach((dom: HTMLElement) => {\n      const input = dom as HTMLInputElement;\n      input.checked = input.value === value;\n    });\n  }\n}\n\n// 2. Read form values to build a full state:\nconst state = {\n  order: +document.querySelector<HTMLInputElement>(\"#order\")?.value,\n  size: +document.querySelector<HTMLInputElement>(\"#size\")?.value,\n  clusters: +document.querySelector<HTMLInputElement>(\"#clusters\")?.value,\n  edgesRenderer: document.querySelector<HTMLInputElement>('[name=\"edges-renderer\"]:checked')?.value,\n};\n\n// 3. Generate a graph:\nconst graph = clusters(Graph, { ...state, rng });\ncirclepack.assign(graph, {\n  hierarchyAttributes: [\"cluster\"],\n});\nconst colors: Record<string, string> = {};\nfor (let i = 0; i < +state.clusters; i++) {\n  colors[i] = \"#\" + Math.floor(rng() * 16777215).toString(16);\n}\nlet i = 0;\ngraph.forEachNode((node, { cluster }) => {\n  graph.mergeNodeAttributes(node, {\n    size: graph.degree(node) / 3,\n    label: `Node n${++i}, in cluster n${cluster}`,\n    color: colors[cluster + \"\"],\n  });\n});\n\n// 4. Render the graph:\nconst container = document.getElementById(\"sigma-container\") as HTMLElement;\nconst renderer = new Sigma(graph, container, {\n  defaultEdgeColor: \"#e6e6e6\",\n  defaultEdgeType: state.edgesRenderer,\n  edgeProgramClasses: {\n    \"edges-default\": EdgesDefaultProgram,\n    \"edges-fast\": EdgesFastProgram,\n  },\n});\n\n// 5. Enable FA2 button:\nconst fa2Button = document.getElementById(\"fa2\") as HTMLButtonElement;\nconst sensibleSettings = forceAtlas2.inferSettings(graph);\nconst fa2Layout = new FA2Layout(graph, {\n  settings: sensibleSettings,\n});\nfunction toggleFA2Layout() {\n  if (fa2Layout.isRunning()) {\n    fa2Layout.stop();\n    fa2Button.innerHTML = `Start layout `;\n  } else {\n    fa2Layout.start();\n    fa2Button.innerHTML = `Stop layout `;\n  }\n}\nfa2Button.addEventListener(\"click\", toggleFA2Layout);\n\n// Cheap trick: tilt the camera a bit to make labels more readable:\nrenderer.getCamera().setState({\n  angle: 0.2,\n});\n","/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nimport { ANIMATE_DEFAULTS, AnimateOptions } from \"../utils/animate\";\nimport easings from \"../utils/easings\";\nimport { cancelFrame, requestFrame } from \"../utils\";\nimport { CameraState, TypedEventEmitter } from \"../types\";\n\n/**\n * Defaults.\n */\nconst DEFAULT_ZOOMING_RATIO = 1.5;\n\n/**\n * Event types.\n */\nexport type CameraEvents = {\n  updated(state: CameraState): void;\n};\n\n/**\n * Camera class\n *\n * @constructor\n */\nexport default class Camera extends TypedEventEmitter<CameraEvents> implements CameraState {\n  x = 0.5;\n  y = 0.5;\n  angle = 0;\n  ratio = 1;\n\n  minRatio: number | null = null;\n  maxRatio: number | null = null;\n\n  private nextFrame: number | null = null;\n  private previousState: CameraState | null = null;\n  private enabled = true;\n\n  animationCallback?: () => void;\n\n  constructor() {\n    super();\n\n    // State\n    this.previousState = this.getState();\n  }\n\n  /**\n   * Static method used to create a Camera object with a given state.\n   *\n   * @param state\n   * @return {Camera}\n   */\n  static from(state: CameraState): Camera {\n    const camera = new Camera();\n    return camera.setState(state);\n  }\n\n  /**\n   * Method used to enable the camera.\n   *\n   * @return {Camera}\n   */\n  enable(): this {\n    this.enabled = true;\n    return this;\n  }\n\n  /**\n   * Method used to disable the camera.\n   *\n   * @return {Camera}\n   */\n  disable(): this {\n    this.enabled = false;\n    return this;\n  }\n\n  /**\n   * Method used to retrieve the camera's current state.\n   *\n   * @return {object}\n   */\n  getState(): CameraState {\n    return {\n      x: this.x,\n      y: this.y,\n      angle: this.angle,\n      ratio: this.ratio,\n    };\n  }\n\n  /**\n   * Method used to check whether the camera has the given state.\n   *\n   * @return {object}\n   */\n  hasState(state: CameraState): boolean {\n    return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n  }\n\n  /**\n   * Method used to retrieve the camera's previous state.\n   *\n   * @return {object}\n   */\n  getPreviousState(): CameraState | null {\n    const state = this.previousState;\n\n    if (!state) return null;\n\n    return {\n      x: state.x,\n      y: state.y,\n      angle: state.angle,\n      ratio: state.ratio,\n    };\n  }\n\n  /**\n   * Method used to check minRatio and maxRatio values.\n   *\n   * @param ratio\n   * @return {number}\n   */\n  getBoundedRatio(ratio: number): number {\n    let r = ratio;\n    if (typeof this.minRatio === \"number\") r = Math.max(r, this.minRatio);\n    if (typeof this.maxRatio === \"number\") r = Math.min(r, this.maxRatio);\n    return r;\n  }\n\n  /**\n   * Method used to check various things to return a legit state candidate.\n   *\n   * @param state\n   * @return {object}\n   */\n  validateState(state: Partial<CameraState>): Partial<CameraState> {\n    const validatedState: Partial<CameraState> = {};\n    if (typeof state.x === \"number\") validatedState.x = state.x;\n    if (typeof state.y === \"number\") validatedState.y = state.y;\n    if (typeof state.angle === \"number\") validatedState.angle = state.angle;\n    if (typeof state.ratio === \"number\") validatedState.ratio = this.getBoundedRatio(state.ratio);\n    return validatedState;\n  }\n\n  /**\n   * Method used to check whether the camera is currently being animated.\n   *\n   * @return {boolean}\n   */\n  isAnimated(): boolean {\n    return !!this.nextFrame;\n  }\n\n  /**\n   * Method used to set the camera's state.\n   *\n   * @param  {object} state - New state.\n   * @return {Camera}\n   */\n  setState(state: Partial<CameraState>): this {\n    if (!this.enabled) return this;\n\n    // TODO: update by function\n\n    // Keeping track of last state\n    this.previousState = this.getState();\n\n    const validState = this.validateState(state);\n    if (typeof validState.x === \"number\") this.x = validState.x;\n    if (typeof validState.y === \"number\") this.y = validState.y;\n    if (typeof validState.angle === \"number\") this.angle = validState.angle;\n    if (typeof validState.ratio === \"number\") this.ratio = validState.ratio;\n\n    // Emitting\n    if (!this.hasState(this.previousState)) this.emit(\"updated\", this.getState());\n\n    return this;\n  }\n\n  /**\n   * Method used to animate the camera.\n   *\n   * @param  {object}                    state      - State to reach eventually.\n   * @param  {object}                    opts       - Options:\n   * @param  {number}                      duration - Duration of the animation.\n   * @param  {string | number => number}   easing   - Easing function or name of an existing one\n   * @param  {function}                  callback   - Callback\n   */\n  animate(state: Partial<CameraState>, opts?: Partial<AnimateOptions>, callback?: () => void): void {\n    if (!this.enabled) return;\n\n    const options: AnimateOptions = Object.assign({}, ANIMATE_DEFAULTS, opts);\n    const validState = this.validateState(state);\n\n    const easing: (k: number) => number =\n      typeof options.easing === \"function\" ? options.easing : easings[options.easing];\n\n    // State\n    const start = Date.now(),\n      initialState = this.getState();\n\n    // Function performing the animation\n    const fn = () => {\n      const t = (Date.now() - start) / options.duration;\n\n      // The animation is over:\n      if (t >= 1) {\n        this.nextFrame = null;\n        this.setState(validState);\n\n        if (this.animationCallback) {\n          this.animationCallback.call(null);\n          this.animationCallback = undefined;\n        }\n\n        return;\n      }\n\n      const coefficient = easing(t);\n\n      const newState: Partial<CameraState> = {};\n\n      if (typeof validState.x === \"number\") newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n      if (typeof validState.y === \"number\") newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n      if (typeof validState.angle === \"number\")\n        newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n      if (typeof validState.ratio === \"number\")\n        newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n\n      this.setState(newState);\n\n      this.nextFrame = requestFrame(fn);\n    };\n\n    if (this.nextFrame) {\n      cancelFrame(this.nextFrame);\n      if (this.animationCallback) this.animationCallback.call(null);\n      this.nextFrame = requestFrame(fn);\n    } else {\n      fn();\n    }\n    this.animationCallback = callback;\n  }\n\n  /**\n   * Method used to zoom the camera.\n   *\n   * @param  {number|object} factorOrOptions - Factor or options.\n   * @return {function}\n   */\n  animatedZoom(factorOrOptions?: number | (Partial<AnimateOptions> & { factor?: number })): void {\n    if (!factorOrOptions) {\n      this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n    } else {\n      if (typeof factorOrOptions === \"number\") return this.animate({ ratio: this.ratio / factorOrOptions });\n      else\n        this.animate(\n          {\n            ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n          },\n          factorOrOptions,\n        );\n    }\n  }\n\n  /**\n   * Method used to unzoom the camera.\n   *\n   * @param  {number|object} factorOrOptions - Factor or options.\n   */\n  animatedUnzoom(factorOrOptions?: number | (Partial<AnimateOptions> & { factor?: number })): void {\n    if (!factorOrOptions) {\n      this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n    } else {\n      if (typeof factorOrOptions === \"number\") return this.animate({ ratio: this.ratio * factorOrOptions });\n      else\n        this.animate(\n          {\n            ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n          },\n          factorOrOptions,\n        );\n    }\n  }\n\n  /**\n   * Method used to reset the camera.\n   *\n   * @param  {object} options - Options.\n   */\n  animatedReset(options?: Partial<AnimateOptions>): void {\n    this.animate(\n      {\n        x: 0.5,\n        y: 0.5,\n        ratio: 1,\n        angle: 0,\n      },\n      options,\n    );\n  }\n\n  /**\n   * Returns a new Camera instance, with the same state as the current camera.\n   *\n   * @return {Camera}\n   */\n  copy(): Camera {\n    return Camera.from(this.getState());\n  }\n}\n","/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nimport { Coordinates, MouseCoords, TouchCoords, WheelCoords, TypedEventEmitter, EventsMapping } from \"../../types\";\nimport Sigma from \"../../sigma\";\n\n/**\n * Captor utils functions\n * ======================\n */\n\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nexport function getPosition(e: MouseEvent | Touch, dom: HTMLElement): Coordinates {\n  const bbox = dom.getBoundingClientRect();\n\n  return {\n    x: e.clientX - bbox.left,\n    y: e.clientY - bbox.top,\n  };\n}\n\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nexport function getMouseCoords(e: MouseEvent, dom: HTMLElement): MouseCoords {\n  const res: MouseCoords = {\n    ...getPosition(e, dom),\n    sigmaDefaultPrevented: false,\n    preventSigmaDefault(): void {\n      res.sigmaDefaultPrevented = true;\n    },\n    original: e,\n  };\n\n  return res;\n}\n\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nexport function getWheelCoords(e: WheelEvent, dom: HTMLElement): WheelCoords {\n  return {\n    ...getMouseCoords(e, dom),\n    delta: getWheelDelta(e),\n  };\n}\n\nconst MAX_TOUCHES = 2;\nexport function getTouchesArray(touches: TouchList): Touch[] {\n  const arr = [];\n  for (let i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++) arr.push(touches[i]);\n  return arr;\n}\n\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nexport function getTouchCoords(e: TouchEvent, dom: HTMLElement): TouchCoords {\n  return {\n    touches: getTouchesArray(e.touches).map((touch) => getPosition(touch, dom)),\n    original: e,\n  };\n}\n\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nexport function getWheelDelta(e: WheelEvent): number {\n  // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n  if (typeof e.deltaY !== \"undefined\") return (e.deltaY * -3) / 360;\n\n  if (typeof e.detail !== \"undefined\") return e.detail / -9;\n\n  throw new Error(\"Captor: could not extract delta from event.\");\n}\n\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nexport default abstract class Captor<Events extends EventsMapping> extends TypedEventEmitter<Events> {\n  container: HTMLElement;\n  renderer: Sigma;\n\n  constructor(container: HTMLElement, renderer: Sigma) {\n    super();\n\n    // Properties\n    this.container = container;\n    this.renderer = renderer;\n  }\n\n  abstract kill(): void;\n}\n","/**\n * Sigma.js Mouse Captor\n * ======================\n *\n * Sigma's captor dealing with the user's mouse.\n * @module\n */\nimport { CameraState, MouseCoords, WheelCoords } from \"../../types\";\nimport Sigma from \"../../sigma\";\nimport Captor, { getWheelDelta, getMouseCoords, getPosition, getWheelCoords } from \"./captor\";\n\n/**\n * Constants.\n */\nconst DRAG_TIMEOUT = 100;\nconst DRAGGED_EVENTS_TOLERANCE = 3;\nconst MOUSE_INERTIA_DURATION = 200;\nconst MOUSE_INERTIA_RATIO = 3;\nconst MOUSE_ZOOM_DURATION = 250;\nconst ZOOMING_RATIO = 1.7;\nconst DOUBLE_CLICK_TIMEOUT = 300;\nconst DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nconst DOUBLE_CLICK_ZOOMING_DURATION = 200;\n\n/**\n * Event types.\n */\nexport type MouseCaptorEvents = {\n  click(coordinates: MouseCoords): void;\n  rightClick(coordinates: MouseCoords): void;\n  doubleClick(coordinates: MouseCoords): void;\n  mouseup(coordinates: MouseCoords): void;\n  mousedown(coordinates: MouseCoords): void;\n  mousemove(coordinates: MouseCoords): void;\n  mousemovebody(coordinates: MouseCoords): void;\n  wheel(coordinates: WheelCoords): void;\n};\n\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nexport default class MouseCaptor extends Captor<MouseCaptorEvents> {\n  // State\n  enabled = true;\n  draggedEvents = 0;\n  downStartTime: number | null = null;\n  lastMouseX: number | null = null;\n  lastMouseY: number | null = null;\n  isMouseDown = false;\n  isMoving = false;\n  movingTimeout: number | null = null;\n  startCameraState: CameraState | null = null;\n  clicks = 0;\n  doubleClickTimeout: number | null = null;\n\n  currentWheelDirection: -1 | 0 | 1 = 0;\n  lastWheelTriggerTime?: number;\n\n  constructor(container: HTMLElement, renderer: Sigma) {\n    super(container, renderer);\n\n    // Binding methods\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRightClick = this.handleRightClick.bind(this);\n    this.handleDown = this.handleDown.bind(this);\n    this.handleUp = this.handleUp.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleWheel = this.handleWheel.bind(this);\n    this.handleOut = this.handleOut.bind(this);\n\n    // Binding events\n    container.addEventListener(\"click\", this.handleClick, false);\n    container.addEventListener(\"contextmenu\", this.handleRightClick, false);\n    container.addEventListener(\"mousedown\", this.handleDown, false);\n    container.addEventListener(\"wheel\", this.handleWheel, false);\n    container.addEventListener(\"mouseout\", this.handleOut, false);\n\n    document.addEventListener(\"mousemove\", this.handleMove, false);\n    document.addEventListener(\"mouseup\", this.handleUp, false);\n  }\n\n  kill(): void {\n    const container = this.container;\n\n    container.removeEventListener(\"click\", this.handleClick);\n    container.removeEventListener(\"contextmenu\", this.handleRightClick);\n    container.removeEventListener(\"mousedown\", this.handleDown);\n    container.removeEventListener(\"wheel\", this.handleWheel);\n    container.removeEventListener(\"mouseout\", this.handleOut);\n\n    document.removeEventListener(\"mousemove\", this.handleMove);\n    document.removeEventListener(\"mouseup\", this.handleUp);\n  }\n\n  handleClick(e: MouseEvent): void {\n    if (!this.enabled) return;\n\n    this.clicks++;\n\n    if (this.clicks === 2) {\n      this.clicks = 0;\n      if (typeof this.doubleClickTimeout === \"number\") {\n        clearTimeout(this.doubleClickTimeout);\n        this.doubleClickTimeout = null;\n      }\n      return this.handleDoubleClick(e);\n    }\n\n    setTimeout(() => {\n      this.clicks = 0;\n      this.doubleClickTimeout = null;\n    }, DOUBLE_CLICK_TIMEOUT);\n\n    // NOTE: this is here to prevent click events on drag\n    if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE) this.emit(\"click\", getMouseCoords(e, this.container));\n  }\n\n  handleRightClick(e: MouseEvent): void {\n    if (!this.enabled) return;\n\n    this.emit(\"rightClick\", getMouseCoords(e, this.container));\n  }\n\n  handleDoubleClick(e: MouseEvent): void {\n    if (!this.enabled) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const mouseCoords = getMouseCoords(e, this.container);\n    this.emit(\"doubleClick\", mouseCoords);\n\n    if (mouseCoords.sigmaDefaultPrevented) return;\n\n    // default behavior\n    const camera = this.renderer.getCamera();\n    const newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n\n    camera.animate(this.renderer.getViewportZoomedState(getPosition(e, this.container), newRatio), {\n      easing: \"quadraticInOut\",\n      duration: DOUBLE_CLICK_ZOOMING_DURATION,\n    });\n  }\n\n  handleDown(e: MouseEvent): void {\n    if (!this.enabled) return;\n\n    this.startCameraState = this.renderer.getCamera().getState();\n\n    const { x, y } = getPosition(e, this.container);\n    this.lastMouseX = x;\n    this.lastMouseY = y;\n\n    this.draggedEvents = 0;\n\n    this.downStartTime = Date.now();\n\n    // TODO: dispatch events\n    // Left button pressed\n    this.isMouseDown = true;\n    this.emit(\"mousedown\", getMouseCoords(e, this.container));\n  }\n\n  handleUp(e: MouseEvent): void {\n    if (!this.enabled || !this.isMouseDown) return;\n\n    const camera = this.renderer.getCamera();\n    this.isMouseDown = false;\n\n    if (typeof this.movingTimeout === \"number\") {\n      clearTimeout(this.movingTimeout);\n      this.movingTimeout = null;\n    }\n\n    const { x, y } = getPosition(e, this.container);\n\n    const cameraState = camera.getState(),\n      previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n\n    if (this.isMoving) {\n      camera.animate(\n        {\n          x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n          y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n        },\n        {\n          duration: MOUSE_INERTIA_DURATION,\n          easing: \"quadraticOut\",\n        },\n      );\n    } else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n      camera.setState({\n        x: cameraState.x,\n        y: cameraState.y,\n      });\n    }\n\n    this.isMoving = false;\n    setTimeout(() => {\n      this.draggedEvents = 0;\n      this.renderer.refresh();\n    }, 0);\n    this.emit(\"mouseup\", getMouseCoords(e, this.container));\n  }\n\n  handleMove(e: MouseEvent): void {\n    if (!this.enabled) return;\n\n    const mouseCoords = getMouseCoords(e, this.container);\n\n    // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n    // a drag-and-drop effect that works even when the mouse is out of the\n    // container:\n    this.emit(\"mousemovebody\", mouseCoords);\n\n    // Only trigger the \"mousemove\" event when the mouse is actually hovering\n    // the container, to avoid weirdly hovering nodes and/or edges when the\n    // mouse is not hover the container:\n    if (e.target === this.container) {\n      this.emit(\"mousemove\", mouseCoords);\n    }\n\n    if (mouseCoords.sigmaDefaultPrevented) return;\n\n    // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n    // stage while the mouse is not hover the container:\n    if (this.isMouseDown) {\n      this.isMoving = true;\n      this.draggedEvents++;\n\n      if (typeof this.movingTimeout === \"number\") {\n        clearTimeout(this.movingTimeout);\n      }\n\n      this.movingTimeout = window.setTimeout(() => {\n        this.movingTimeout = null;\n        this.isMoving = false;\n      }, DRAG_TIMEOUT);\n\n      const camera = this.renderer.getCamera();\n\n      const { x: eX, y: eY } = getPosition(e, this.container);\n\n      const lastMouse = this.renderer.viewportToFramedGraph({\n        x: this.lastMouseX as number,\n        y: this.lastMouseY as number,\n      });\n\n      const mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n\n      const offsetX = lastMouse.x - mouse.x,\n        offsetY = lastMouse.y - mouse.y;\n\n      const cameraState = camera.getState();\n\n      const x = cameraState.x + offsetX,\n        y = cameraState.y + offsetY;\n\n      camera.setState({ x, y });\n\n      this.lastMouseX = eX;\n      this.lastMouseY = eY;\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  handleWheel(e: WheelEvent): void {\n    if (!this.enabled) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const delta = getWheelDelta(e);\n\n    if (!delta) return;\n\n    const wheelCoords = getWheelCoords(e, this.container);\n    this.emit(\"wheel\", wheelCoords);\n\n    if (wheelCoords.sigmaDefaultPrevented) return;\n\n    // Default behavior\n    const ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n    const camera = this.renderer.getCamera();\n    const newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n    const wheelDirection = delta > 0 ? 1 : -1;\n    const now = Date.now();\n\n    // Cancel events that are too close too each other and in the same direction:\n    if (\n      this.currentWheelDirection === wheelDirection &&\n      this.lastWheelTriggerTime &&\n      now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5\n    ) {\n      return;\n    }\n\n    camera.animate(\n      this.renderer.getViewportZoomedState(getPosition(e, this.container), newRatio),\n      {\n        easing: \"quadraticOut\",\n        duration: MOUSE_ZOOM_DURATION,\n      },\n      () => {\n        this.currentWheelDirection = 0;\n      },\n    );\n\n    this.currentWheelDirection = wheelDirection;\n    this.lastWheelTriggerTime = now;\n  }\n\n  handleOut(): void {\n    // TODO: dispatch event\n  }\n}\n","/**\n * Sigma.js Touch Captor\n * ======================\n *\n * Sigma's captor dealing with touch.\n * @module\n */\nimport { CameraState, Coordinates, Dimensions, TouchCoords } from \"../../types\";\nimport Captor, { getPosition, getTouchCoords, getTouchesArray } from \"./captor\";\nimport Sigma from \"../../sigma\";\n\nconst DRAG_TIMEOUT = 200;\nconst TOUCH_INERTIA_RATIO = 3;\nconst TOUCH_INERTIA_DURATION = 200;\n\nexport type FakeSigmaMouseEvent = MouseEvent & { isFakeSigmaMouseEvent?: true };\n\n/**\n * Event types.\n */\nexport type TouchCaptorEvents = {\n  touchdown(coordinates: TouchCoords): void;\n  touchup(coordinates: TouchCoords): void;\n  touchmove(coordinates: TouchCoords): void;\n};\n\n/**\n * Touch captor class.\n *\n * @constructor\n */\nexport default class TouchCaptor extends Captor<TouchCaptorEvents> {\n  enabled = true;\n  isMoving = false;\n  startCameraState?: CameraState;\n  touchMode = 0; // number of touches down\n  movingTimeout?: number;\n\n  startTouchesAngle?: number;\n  startTouchesDistance?: number;\n  startTouchesPositions?: Coordinates[];\n  lastTouchesPositions?: Coordinates[];\n\n  constructor(container: HTMLElement, renderer: Sigma) {\n    super(container, renderer);\n\n    // Binding methods:\n    this.handleStart = this.handleStart.bind(this);\n    this.handleLeave = this.handleLeave.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n\n    // Binding events\n    container.addEventListener(\"touchstart\", this.handleStart, false);\n    container.addEventListener(\"touchend\", this.handleLeave, false);\n    container.addEventListener(\"touchcancel\", this.handleLeave, false);\n    container.addEventListener(\"touchmove\", this.handleMove, false);\n  }\n\n  kill(): void {\n    const container = this.container;\n\n    container.removeEventListener(\"touchstart\", this.handleStart);\n    container.removeEventListener(\"touchend\", this.handleLeave);\n    container.removeEventListener(\"touchcancel\", this.handleLeave);\n    container.removeEventListener(\"touchmove\", this.handleMove);\n  }\n\n  getDimensions(): Dimensions {\n    return {\n      width: this.container.offsetWidth,\n      height: this.container.offsetHeight,\n    };\n  }\n\n  dispatchRelatedMouseEvent(type: string, e: TouchEvent, position?: Coordinates, emitter?: EventTarget): void {\n    const mousePosition = position || getPosition(e.touches[0], this.container);\n    const mouseEvent = new MouseEvent(type, {\n      clientX: mousePosition.x,\n      clientY: mousePosition.y,\n      altKey: e.altKey,\n      ctrlKey: e.ctrlKey,\n    });\n\n    (mouseEvent as FakeSigmaMouseEvent).isFakeSigmaMouseEvent = true;\n\n    (emitter || this.container).dispatchEvent(mouseEvent);\n  }\n\n  handleStart(e: TouchEvent): void {\n    if (!this.enabled) return;\n\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 1) this.dispatchRelatedMouseEvent(\"mousedown\", e);\n\n    const touches = getTouchesArray(e.touches);\n    this.isMoving = true;\n    this.touchMode = touches.length;\n\n    this.startCameraState = this.renderer.getCamera().getState();\n    this.startTouchesPositions = touches.map((touch) => getPosition(touch, this.container));\n    this.lastTouchesPositions = this.startTouchesPositions;\n\n    // When there are two touches down, let's record distance and angle as well:\n    if (this.touchMode === 2) {\n      const [{ x: x0, y: y0 }, { x: x1, y: y1 }] = this.startTouchesPositions;\n      this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n      this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n    }\n\n    this.emit(\"touchdown\", getTouchCoords(e, this.container));\n  }\n\n  handleLeave(e: TouchEvent): void {\n    if (!this.enabled) return;\n\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 0 && this.lastTouchesPositions && this.lastTouchesPositions.length) {\n      this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouchesPositions[0], document);\n      this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouchesPositions[0]);\n    }\n\n    if (this.movingTimeout) {\n      this.isMoving = false;\n      clearTimeout(this.movingTimeout);\n    }\n\n    switch (this.touchMode) {\n      case 2:\n        if (e.touches.length === 1) {\n          this.handleStart(e);\n\n          e.preventDefault();\n          break;\n        }\n      /* falls through */\n      case 1:\n        // TODO\n        // Dispatch event\n\n        if (this.isMoving) {\n          const camera = this.renderer.getCamera();\n          const cameraState = camera.getState(),\n            previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n\n          camera.animate(\n            {\n              x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n              y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            },\n            {\n              duration: TOUCH_INERTIA_DURATION,\n              easing: \"quadraticOut\",\n            },\n          );\n        }\n\n        this.isMoving = false;\n        this.touchMode = 0;\n        break;\n    }\n\n    this.emit(\"touchup\", getTouchCoords(e, this.container));\n  }\n\n  handleMove(e: TouchEvent): void {\n    if (!this.enabled) return;\n\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 1) this.dispatchRelatedMouseEvent(\"mousemove\", e);\n\n    const camera = this.renderer.getCamera();\n    const startCameraState = this.startCameraState as CameraState;\n    const touches = getTouchesArray(e.touches);\n    const touchesPositions = touches.map((touch) => getPosition(touch, this.container));\n    this.lastTouchesPositions = touchesPositions;\n    this.isMoving = true;\n\n    if (this.movingTimeout) clearTimeout(this.movingTimeout);\n\n    this.movingTimeout = window.setTimeout(() => {\n      this.isMoving = false;\n    }, DRAG_TIMEOUT);\n\n    switch (this.touchMode) {\n      case 1: {\n        const { x: xStart, y: yStart } = this.renderer.viewportToFramedGraph(\n          (this.startTouchesPositions || [])[0] as Coordinates,\n        );\n        const { x, y } = this.renderer.viewportToFramedGraph(touchesPositions[0]);\n\n        camera.setState({\n          x: startCameraState.x + xStart - x,\n          y: startCameraState.y + yStart - y,\n        });\n        break;\n      }\n      case 2: {\n        /**\n         * Here is the thinking here:\n         *\n         * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n         *    of the d'n'd and now\n         *\n         * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n         *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n         *    position of this same touch now\n         */\n        const newCameraState: Partial<CameraState> = {};\n\n        const { x: x0, y: y0 } = touchesPositions[0];\n        const { x: x1, y: y1 } = touchesPositions[1];\n\n        const angleDiff = Math.atan2(y1 - y0, x1 - x0) - (this.startTouchesAngle as number);\n        const ratioDiff = Math.hypot(y1 - y0, x1 - x0) / (this.startTouchesDistance as number);\n\n        // 1.\n        const newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n        newCameraState.ratio = newRatio;\n        newCameraState.angle = startCameraState.angle + angleDiff;\n\n        // 2.\n        const dimensions = this.getDimensions();\n        const touchGraphPosition = this.renderer.viewportToFramedGraph(\n          (this.startTouchesPositions || [])[0] as Coordinates,\n          { cameraState: startCameraState },\n        );\n        const smallestDimension = Math.min(dimensions.width, dimensions.height);\n\n        const dx = smallestDimension / dimensions.width;\n        const dy = smallestDimension / dimensions.height;\n        const ratio = newRatio / smallestDimension;\n\n        // Align with center of the graph:\n        let x = x0 - smallestDimension / 2 / dx;\n        let y = y0 - smallestDimension / 2 / dy;\n\n        // Rotate:\n        [x, y] = [\n          x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n          y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n        ];\n\n        newCameraState.x = touchGraphPosition.x - x * ratio;\n        newCameraState.y = touchGraphPosition.y + y * ratio;\n\n        camera.setState(newCameraState);\n\n        break;\n      }\n    }\n\n    this.emit(\"touchmove\", getTouchCoords(e, this.container));\n  }\n}\n","/**\n * Sigma.js Labels Heuristics\n * ===========================\n *\n * Miscelleneous heuristics related to label display.\n * @module\n */\nimport Graph from \"graphology-types\";\n\nimport { Dimensions, Coordinates } from \"../types\";\n\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nclass LabelCandidate {\n  key: string;\n  size: number;\n\n  constructor(key: string, size: number) {\n    this.key = key;\n    this.size = size;\n  }\n\n  static compare(first: LabelCandidate, second: LabelCandidate): number {\n    // First we compare by size\n    if (first.size > second.size) return -1;\n    if (first.size < second.size) return 1;\n\n    // Then since no two nodes can have the same key, we use it to\n    // deterministically tie-break by key\n    if (first.key > second.key) return 1;\n\n    // NOTE: this comparator cannot return 0\n    return -1;\n  }\n}\n\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nexport class LabelGrid {\n  width = 0;\n  height = 0;\n  cellSize = 0;\n  columns = 0;\n  rows = 0;\n  cells: Record<number, Array<LabelCandidate>> = {};\n\n  resizeAndClear(dimensions: Dimensions, cellSize: number): void {\n    this.width = dimensions.width;\n    this.height = dimensions.height;\n\n    this.cellSize = cellSize;\n\n    this.columns = Math.ceil(dimensions.width / cellSize);\n    this.rows = Math.ceil(dimensions.height / cellSize);\n\n    this.cells = {};\n  }\n\n  private getIndex(pos: Coordinates): number {\n    const xIndex = Math.floor(pos.x / this.cellSize);\n    const yIndex = Math.floor(pos.y / this.cellSize);\n\n    return yIndex * this.columns + xIndex;\n  }\n\n  add(key: string, size: number, pos: Coordinates): void {\n    const candidate = new LabelCandidate(key, size);\n\n    const index = this.getIndex(pos);\n    let cell = this.cells[index];\n\n    if (!cell) {\n      cell = [];\n      this.cells[index] = cell;\n    }\n\n    cell.push(candidate);\n  }\n\n  organize(): void {\n    for (const k in this.cells) {\n      const cell = this.cells[k];\n      cell.sort(LabelCandidate.compare);\n    }\n  }\n\n  getLabelsToDisplay(ratio: number, density: number): Array<string> {\n    // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n    // TODO: adjust threshold lower, but increase cells a bit?\n    // TODO: hunt for geom issue in disguise\n    // TODO: memoize while ratio does not move. method to force recompute\n    const cellArea = this.cellSize * this.cellSize;\n    const scaledCellArea = cellArea / ratio / ratio;\n    const scaledDensity = (scaledCellArea * density) / cellArea;\n\n    const labelsToDisplayPerCell = Math.ceil(scaledDensity);\n\n    const labels = [];\n\n    for (const k in this.cells) {\n      const cell = this.cells[k];\n\n      for (let i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n        labels.push(cell[i].key);\n      }\n    }\n\n    return labels;\n  }\n}\n\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nexport function edgeLabelsToDisplayFromNodes(params: {\n  displayedNodeLabels: Set<string>;\n  highlightedNodes: Set<string>;\n  graph: Graph;\n  hoveredNode: string | null;\n}): Array<string> {\n  const { graph, hoveredNode, highlightedNodes, displayedNodeLabels } = params;\n\n  const worthyEdges: Array<string> = [];\n\n  // TODO: the code below can be optimized using #.forEach and batching the code per adj\n\n  // We should display an edge's label if:\n  //   - Any of its extremities is highlighted or hovered\n  //   - Both of its extremities has its label shown\n  graph.forEachEdge((edge, _, source, target) => {\n    if (\n      source === hoveredNode ||\n      target === hoveredNode ||\n      highlightedNodes.has(source) ||\n      highlightedNodes.has(target) ||\n      (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))\n    ) {\n      worthyEdges.push(edge);\n    }\n  });\n\n  return worthyEdges;\n}\n","/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nimport extend from \"@yomguithereal/helpers/extend\";\nimport { PlainObject } from \"../types\";\n\n// TODO: should not ask the quadtree when the camera has the whole graph in\n// sight.\n\n// TODO: a square can be represented as topleft + width, saying for the quad blocks (reduce mem)\n\n// TODO: jsdoc\n\n// TODO: be sure we can handle cases overcoming boundaries (because of size) or use a maxed size\n\n// TODO: filtering unwanted labels beforehand through the filter function\n\n// NOTE: this is basically a MX-CIF Quadtree at this point\n// NOTE: need to explore R-Trees for edges\n// NOTE: need to explore 2d segment tree for edges\n\n// NOTE: probably can do faster using spatial hashing\n\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nconst BLOCKS = 4,\n  MAX_LEVEL = 5;\n\nconst OUTSIDE_BLOCK = \"outside\";\n\nconst X_OFFSET = 0,\n  Y_OFFSET = 1,\n  WIDTH_OFFSET = 2,\n  HEIGHT_OFFSET = 3;\n\nconst TOP_LEFT = 1,\n  TOP_RIGHT = 2,\n  BOTTOM_LEFT = 3,\n  BOTTOM_RIGHT = 4;\n\nlet hasWarnedTooMuchOutside = false;\n\nexport interface Boundaries {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport interface Rectangle {\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n  height: number;\n}\n\nexport interface Vector {\n  x: number;\n  y: number;\n}\n\n/**\n * Geometry helpers.\n */\n\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nexport function isRectangleAligned(rect: Rectangle): boolean {\n  return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\n\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nexport function getCircumscribedAlignedRectangle(rect: Rectangle): Rectangle {\n  const width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n  const heightVector = {\n    x: ((rect.y1 - rect.y2) * rect.height) / width,\n    y: ((rect.x2 - rect.x1) * rect.height) / width,\n  };\n\n  // Compute all corners:\n  const tl: Vector = { x: rect.x1, y: rect.y1 };\n  const tr: Vector = { x: rect.x2, y: rect.y2 };\n  const bl: Vector = {\n    x: rect.x1 + heightVector.x,\n    y: rect.y1 + heightVector.y,\n  };\n  const br: Vector = {\n    x: rect.x2 + heightVector.x,\n    y: rect.y2 + heightVector.y,\n  };\n\n  const xL = Math.min(tl.x, tr.x, bl.x, br.x);\n  const xR = Math.max(tl.x, tr.x, bl.x, br.x);\n  const yT = Math.min(tl.y, tr.y, bl.y, br.y);\n  const yB = Math.max(tl.y, tr.y, bl.y, br.y);\n\n  return {\n    x1: xL,\n    y1: yT,\n    x2: xR,\n    y2: yT,\n    height: yB - yT,\n  };\n}\n\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nexport function squareCollidesWithQuad(\n  x1: number,\n  y1: number,\n  w: number,\n  qx: number,\n  qy: number,\n  qw: number,\n  qh: number,\n): boolean {\n  return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\n\nexport function rectangleCollidesWithQuad(\n  x1: number,\n  y1: number,\n  w: number,\n  h: number,\n  qx: number,\n  qy: number,\n  qw: number,\n  qh: number,\n): boolean {\n  return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\n\nfunction pointIsInQuad(x: number, y: number, qx: number, qy: number, qw: number, qh: number): number {\n  const xmp = qx + qw / 2,\n    ymp = qy + qh / 2,\n    top = y < ymp,\n    left = x < xmp;\n\n  return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel: number, data: Float32Array): void {\n  // [block, level]\n  const stack: Array<number> = [0, 0];\n\n  while (stack.length) {\n    const level = stack.pop() as number,\n      block = stack.pop() as number;\n\n    const topLeftBlock = 4 * block + BLOCKS,\n      topRightBlock = 4 * block + 2 * BLOCKS,\n      bottomLeftBlock = 4 * block + 3 * BLOCKS,\n      bottomRightBlock = 4 * block + 4 * BLOCKS;\n\n    const x = data[block + X_OFFSET],\n      y = data[block + Y_OFFSET],\n      width = data[block + WIDTH_OFFSET],\n      height = data[block + HEIGHT_OFFSET],\n      hw = width / 2,\n      hh = height / 2;\n\n    data[topLeftBlock + X_OFFSET] = x;\n    data[topLeftBlock + Y_OFFSET] = y;\n    data[topLeftBlock + WIDTH_OFFSET] = hw;\n    data[topLeftBlock + HEIGHT_OFFSET] = hh;\n\n    data[topRightBlock + X_OFFSET] = x + hw;\n    data[topRightBlock + Y_OFFSET] = y;\n    data[topRightBlock + WIDTH_OFFSET] = hw;\n    data[topRightBlock + HEIGHT_OFFSET] = hh;\n\n    data[bottomLeftBlock + X_OFFSET] = x;\n    data[bottomLeftBlock + Y_OFFSET] = y + hh;\n    data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n    data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n\n    data[bottomRightBlock + X_OFFSET] = x + hw;\n    data[bottomRightBlock + Y_OFFSET] = y + hh;\n    data[bottomRightBlock + WIDTH_OFFSET] = hw;\n    data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n\n    if (level < maxLevel - 1) {\n      stack.push(bottomRightBlock, level + 1);\n      stack.push(bottomLeftBlock, level + 1);\n      stack.push(topRightBlock, level + 1);\n      stack.push(topLeftBlock, level + 1);\n    }\n  }\n}\n\nfunction insertNode(\n  maxLevel: number,\n  data: Float32Array,\n  containers: PlainObject<string[]>,\n  key: string,\n  x: number,\n  y: number,\n  size: number,\n) {\n  const x1 = x - size,\n    y1 = y - size,\n    w = size * 2;\n\n  let level = 0,\n    block = 0;\n\n  while (true) {\n    // If we reached max level\n    if (level >= maxLevel) {\n      containers[block] = containers[block] || [];\n      containers[block].push(key);\n      return;\n    }\n\n    const topLeftBlock = 4 * block + BLOCKS,\n      topRightBlock = 4 * block + 2 * BLOCKS,\n      bottomLeftBlock = 4 * block + 3 * BLOCKS,\n      bottomRightBlock = 4 * block + 4 * BLOCKS;\n\n    const collidingWithTopLeft = squareCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      data[topLeftBlock + X_OFFSET],\n      data[topLeftBlock + Y_OFFSET],\n      data[topLeftBlock + WIDTH_OFFSET],\n      data[topLeftBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithTopRight = squareCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      data[topRightBlock + X_OFFSET],\n      data[topRightBlock + Y_OFFSET],\n      data[topRightBlock + WIDTH_OFFSET],\n      data[topRightBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithBottomLeft = squareCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      data[bottomLeftBlock + X_OFFSET],\n      data[bottomLeftBlock + Y_OFFSET],\n      data[bottomLeftBlock + WIDTH_OFFSET],\n      data[bottomLeftBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithBottomRight = squareCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      data[bottomRightBlock + X_OFFSET],\n      data[bottomRightBlock + Y_OFFSET],\n      data[bottomRightBlock + WIDTH_OFFSET],\n      data[bottomRightBlock + HEIGHT_OFFSET],\n    );\n\n    const collisions: number = [\n      collidingWithTopLeft,\n      collidingWithTopRight,\n      collidingWithBottomLeft,\n      collidingWithBottomRight,\n    ].reduce((acc: number, current: boolean) => {\n      if (current) return acc + 1;\n      else return acc;\n    }, 0);\n\n    // If we have no collision at root level, inject node in the outside block\n    if (collisions === 0 && level === 0) {\n      containers[OUTSIDE_BLOCK].push(key);\n\n      if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n        hasWarnedTooMuchOutside = true;\n        console.warn(\n          \"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n            \"You might have a problem with the normalization function or the custom bounding box.\",\n        );\n      }\n\n      return;\n    }\n\n    // If we don't have at least a collision but deeper, there is an issue\n    if (collisions === 0)\n      throw new Error(\n        `sigma/quadtree.insertNode: no collision (level: ${level}, key: ${key}, x: ${x}, y: ${y}, size: ${size}).`,\n      );\n\n    // If we have 3 collisions, we have a geometry problem obviously\n    if (collisions === 3)\n      throw new Error(\n        `sigma/quadtree.insertNode: 3 impossible collisions (level: ${level}, key: ${key}, x: ${x}, y: ${y}, size: ${size}).`,\n      );\n\n    // If we have more that one collision, we stop here and store the node\n    // in the relevant containers\n    if (collisions > 1) {\n      containers[block] = containers[block] || [];\n      containers[block].push(key);\n\n      return;\n    } else {\n      level++;\n    }\n\n    // Else we recurse into the correct quads\n    if (collidingWithTopLeft) block = topLeftBlock;\n\n    if (collidingWithTopRight) block = topRightBlock;\n\n    if (collidingWithBottomLeft) block = bottomLeftBlock;\n\n    if (collidingWithBottomRight) block = bottomRightBlock;\n  }\n}\n\nfunction getNodesInAxisAlignedRectangleArea(\n  maxLevel: number,\n  data: Float32Array,\n  containers: PlainObject<string[]>,\n  x1: number,\n  y1: number,\n  w: number,\n  h: number,\n): string[] {\n  // [block, level]\n  const stack = [0, 0];\n\n  const collectedNodes: string[] = [];\n\n  let container;\n\n  while (stack.length) {\n    const level = stack.pop() as number,\n      block = stack.pop() as number;\n\n    // Collecting nodes\n    container = containers[block];\n\n    if (container) extend(collectedNodes, container);\n\n    // If we reached max level\n    if (level >= maxLevel) continue;\n\n    const topLeftBlock = 4 * block + BLOCKS,\n      topRightBlock = 4 * block + 2 * BLOCKS,\n      bottomLeftBlock = 4 * block + 3 * BLOCKS,\n      bottomRightBlock = 4 * block + 4 * BLOCKS;\n\n    const collidingWithTopLeft = rectangleCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      h,\n      data[topLeftBlock + X_OFFSET],\n      data[topLeftBlock + Y_OFFSET],\n      data[topLeftBlock + WIDTH_OFFSET],\n      data[topLeftBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithTopRight = rectangleCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      h,\n      data[topRightBlock + X_OFFSET],\n      data[topRightBlock + Y_OFFSET],\n      data[topRightBlock + WIDTH_OFFSET],\n      data[topRightBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithBottomLeft = rectangleCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      h,\n      data[bottomLeftBlock + X_OFFSET],\n      data[bottomLeftBlock + Y_OFFSET],\n      data[bottomLeftBlock + WIDTH_OFFSET],\n      data[bottomLeftBlock + HEIGHT_OFFSET],\n    );\n\n    const collidingWithBottomRight = rectangleCollidesWithQuad(\n      x1,\n      y1,\n      w,\n      h,\n      data[bottomRightBlock + X_OFFSET],\n      data[bottomRightBlock + Y_OFFSET],\n      data[bottomRightBlock + WIDTH_OFFSET],\n      data[bottomRightBlock + HEIGHT_OFFSET],\n    );\n\n    if (collidingWithTopLeft) stack.push(topLeftBlock, level + 1);\n\n    if (collidingWithTopRight) stack.push(topRightBlock, level + 1);\n\n    if (collidingWithBottomLeft) stack.push(bottomLeftBlock, level + 1);\n\n    if (collidingWithBottomRight) stack.push(bottomRightBlock, level + 1);\n  }\n\n  return collectedNodes;\n}\n\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nexport default class QuadTree {\n  data: Float32Array;\n  containers: PlainObject<string[]> = { [OUTSIDE_BLOCK]: [] };\n  cache: string[] | null = null;\n  lastRectangle: Rectangle | null = null;\n\n  constructor(params: { boundaries?: Boundaries } = {}) {\n    // Allocating the underlying byte array\n    const L = Math.pow(4, MAX_LEVEL);\n    this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n\n    if (params.boundaries) this.resize(params.boundaries);\n    else\n      this.resize({\n        x: 0,\n        y: 0,\n        width: 1,\n        height: 1,\n      });\n  }\n\n  add(key: string, x: number, y: number, size: number): QuadTree {\n    insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n\n    return this;\n  }\n\n  resize(boundaries: Boundaries): void {\n    this.clear();\n\n    // Building the quadrants\n    this.data[X_OFFSET] = boundaries.x;\n    this.data[Y_OFFSET] = boundaries.y;\n    this.data[WIDTH_OFFSET] = boundaries.width;\n    this.data[HEIGHT_OFFSET] = boundaries.height;\n\n    buildQuadrants(MAX_LEVEL, this.data);\n  }\n\n  clear(): QuadTree {\n    this.containers = { [OUTSIDE_BLOCK]: [] };\n\n    return this;\n  }\n\n  point(x: number, y: number): string[] {\n    const nodes: string[] = this.containers[OUTSIDE_BLOCK];\n\n    let block = 0,\n      level = 0;\n\n    do {\n      if (this.containers[block]) nodes.push(...this.containers[block]);\n\n      const quad = pointIsInQuad(\n        x,\n        y,\n        this.data[block + X_OFFSET],\n        this.data[block + Y_OFFSET],\n        this.data[block + WIDTH_OFFSET],\n        this.data[block + HEIGHT_OFFSET],\n      );\n\n      block = 4 * block + quad * BLOCKS;\n      level++;\n    } while (level <= MAX_LEVEL);\n\n    return nodes;\n  }\n\n  rectangle(x1: number, y1: number, x2: number, y2: number, height: number): string[] {\n    const lr = this.lastRectangle;\n\n    if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n      return this.cache as string[];\n    }\n\n    this.lastRectangle = {\n      x1,\n      y1,\n      x2,\n      y2,\n      height,\n    };\n\n    // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n    if (!isRectangleAligned(this.lastRectangle))\n      this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n\n    this.cache = getNodesInAxisAlignedRectangleArea(\n      MAX_LEVEL,\n      this.data,\n      this.containers,\n      x1,\n      y1,\n      Math.abs(x1 - x2) || Math.abs(y1 - y2),\n      height,\n    );\n\n    // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n    this.cache.push(...this.containers[OUTSIDE_BLOCK]);\n\n    return this.cache;\n  }\n}\n","/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nimport Sigma from \"./sigma\";\nimport Camera from \"./core/camera\";\nimport QuadTree from \"./core/quadtree\";\nimport MouseCaptor from \"./core/captors/mouse\";\n\nexport default Sigma;\nexport { Camera, QuadTree, MouseCaptor, Sigma };\n","/**\n * Sigma.js Canvas Renderer Edge Label Component\n * =============================================\n *\n * Function used by the canvas renderer to display a single edge's label.\n * @module\n */\nimport { Settings } from \"../../settings\";\nimport { EdgeDisplayData, NodeDisplayData, PartialButFor } from \"../../types\";\n\nexport default function drawEdgeLabel(\n  context: CanvasRenderingContext2D,\n  edgeData: PartialButFor<EdgeDisplayData, \"label\" | \"color\" | \"size\">,\n  sourceData: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\">,\n  targetData: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\">,\n  settings: Settings,\n): void {\n  const size = settings.edgeLabelSize,\n    font = settings.edgeLabelFont,\n    weight = settings.edgeLabelWeight,\n    color = settings.edgeLabelColor.attribute\n      ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n      : settings.edgeLabelColor.color;\n\n  let label = edgeData.label;\n\n  if (!label) return;\n\n  context.fillStyle = color;\n  context.font = `${weight} ${size}px ${font}`;\n\n  // Computing positions without considering nodes sizes:\n  const sSize = sourceData.size;\n  const tSize = targetData.size;\n  let sx = sourceData.x;\n  let sy = sourceData.y;\n  let tx = targetData.x;\n  let ty = targetData.y;\n  let cx = (sx + tx) / 2;\n  let cy = (sy + ty) / 2;\n  let dx = tx - sx;\n  let dy = ty - sy;\n  let d = Math.sqrt(dx * dx + dy * dy);\n\n  if (d < sSize + tSize) return;\n\n  // Adding nodes sizes:\n  sx += (dx * sSize) / d;\n  sy += (dy * sSize) / d;\n  tx -= (dx * tSize) / d;\n  ty -= (dy * tSize) / d;\n  cx = (sx + tx) / 2;\n  cy = (sy + ty) / 2;\n  dx = tx - sx;\n  dy = ty - sy;\n  d = Math.sqrt(dx * dx + dy * dy);\n\n  // Handling ellipsis\n  let textLength = context.measureText(label).width;\n\n  if (textLength > d) {\n    const ellipsis = \"\";\n    label = label + ellipsis;\n    textLength = context.measureText(label).width;\n\n    while (textLength > d && label.length > 1) {\n      label = label.slice(0, -2) + ellipsis;\n      textLength = context.measureText(label).width;\n    }\n\n    if (label.length < 4) return;\n  }\n\n  let angle;\n  if (dx > 0) {\n    if (dy > 0) angle = Math.acos(dx / d);\n    else angle = Math.asin(dy / d);\n  } else {\n    if (dy > 0) angle = Math.acos(dx / d) + Math.PI;\n    else angle = Math.asin(dx / d) + Math.PI / 2;\n  }\n\n  context.save();\n  context.translate(cx, cy);\n  context.rotate(angle);\n\n  context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n\n  context.restore();\n}\n","/**\n * Sigma.js Canvas Renderer Hover Component\n * =========================================\n *\n * Function used by the canvas renderer to display a single node's hovered\n * state.\n * @module\n */\nimport { Settings } from \"../../settings\";\nimport { NodeDisplayData, PartialButFor } from \"../../types\";\nimport drawLabel from \"./label\";\n\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nexport default function drawHover(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\" | \"label\" | \"color\">,\n  settings: Settings,\n): void {\n  const size = settings.labelSize,\n    font = settings.labelFont,\n    weight = settings.labelWeight;\n\n  context.font = `${weight} ${size}px ${font}`;\n\n  // Then we draw the label background\n  context.fillStyle = \"#FFF\";\n  context.shadowOffsetX = 0;\n  context.shadowOffsetY = 0;\n  context.shadowBlur = 8;\n  context.shadowColor = \"#000\";\n\n  const PADDING = 2;\n\n  if (typeof data.label === \"string\") {\n    const textWidth = context.measureText(data.label).width,\n      boxWidth = Math.round(textWidth + 5),\n      boxHeight = Math.round(size + 2 * PADDING),\n      radius = Math.max(data.size, size / 2) + PADDING;\n\n    const angleRadian = Math.asin(boxHeight / 2 / radius);\n    const xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n\n    context.beginPath();\n    context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n    context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n    context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n    context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n    context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n    context.closePath();\n    context.fill();\n  } else {\n    context.beginPath();\n    context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n    context.closePath();\n    context.fill();\n  }\n\n  context.shadowOffsetX = 0;\n  context.shadowOffsetY = 0;\n  context.shadowBlur = 0;\n\n  // And finally we draw the label\n  drawLabel(context, data, settings);\n}\n","/**\n * Sigma.js Canvas Renderer Label Component\n * =========================================\n *\n * Function used by the canvas renderer to display a single node's label.\n * @module\n */\nimport { Settings } from \"../../settings\";\nimport { NodeDisplayData, PartialButFor } from \"../../types\";\n\nexport default function drawLabel(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\" | \"label\" | \"color\">,\n  settings: Settings,\n): void {\n  if (!data.label) return;\n\n  const size = settings.labelSize,\n    font = settings.labelFont,\n    weight = settings.labelWeight,\n    color = settings.labelColor.attribute\n      ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n      : settings.labelColor.color;\n\n  context.fillStyle = color;\n  context.font = `${weight} ${size}px ${font}`;\n\n  context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\n","/**\n * Sigma.js WebGL Abstract Edge Program\n * =====================================\n *\n * @module\n */\nimport { AbstractProgram, IProgram, RenderParams } from \"./program\";\nimport { EdgeDisplayData, NodeDisplayData } from \"../../../../types\";\nimport Sigma from \"../../../../sigma\";\n\nexport interface IEdgeProgram extends IProgram {\n  computeIndices(): void;\n  process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void;\n  render(params: RenderParams): void;\n}\n\n/**\n * Edge Program class.\n *\n * @constructor\n */\nexport abstract class AbstractEdgeProgram extends AbstractProgram implements IEdgeProgram {\n  constructor(\n    gl: WebGLRenderingContext,\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n    points: number,\n    attributes: number,\n  ) {\n    super(gl, vertexShaderSource, fragmentShaderSource, points, attributes);\n  }\n\n  abstract bind(): void;\n  abstract computeIndices(): void;\n  abstract process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void;\n  abstract render(params: RenderParams): void;\n}\n\nexport interface EdgeProgramConstructor {\n  new (gl: WebGLRenderingContext, renderer: Sigma): IEdgeProgram;\n}\n\nexport function createEdgeCompoundProgram(programClasses: Array<EdgeProgramConstructor>): EdgeProgramConstructor {\n  return class EdgeCompoundProgram implements IEdgeProgram {\n    programs: Array<IEdgeProgram>;\n\n    constructor(gl: WebGLRenderingContext, renderer: Sigma) {\n      this.programs = programClasses.map((ProgramClass) => new ProgramClass(gl, renderer));\n    }\n\n    bufferData(): void {\n      this.programs.forEach((program) => program.bufferData());\n    }\n\n    allocate(capacity: number): void {\n      this.programs.forEach((program) => program.allocate(capacity));\n    }\n\n    bind(): void {\n      // nothing todo, it's already done in each program constructor\n    }\n\n    computeIndices(): void {\n      this.programs.forEach((program) => program.computeIndices());\n    }\n\n    render(params: RenderParams): void {\n      this.programs.forEach((program) => {\n        program.bind();\n        program.bufferData();\n        program.render(params);\n      });\n    }\n\n    process(\n      sourceData: NodeDisplayData,\n      targetData: NodeDisplayData,\n      data: EdgeDisplayData,\n      hidden: boolean,\n      offset: number,\n    ): void {\n      this.programs.forEach((program) => program.process(sourceData, targetData, data, hidden, offset));\n    }\n  };\n}\n","/**\n * Sigma.js WebGL Abstract Node Program\n * =====================================\n *\n * @module\n */\nimport { AbstractProgram, IProgram, RenderParams } from \"./program\";\nimport { NodeDisplayData } from \"../../../../types\";\nimport Sigma from \"../../../../sigma\";\n\nexport interface INodeProgram extends IProgram {\n  process(data: NodeDisplayData, hidden: boolean, offset: number): void;\n  render(params: RenderParams): void;\n}\n\n/**\n * Node Program class.\n *\n * @constructor\n */\nexport abstract class AbstractNodeProgram extends AbstractProgram implements INodeProgram {\n  positionLocation: GLint;\n  sizeLocation: GLint;\n  colorLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n  ratioLocation: WebGLUniformLocation;\n  scaleLocation: WebGLUniformLocation;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n    points: number,\n    attributes: number,\n  ) {\n    super(gl, vertexShaderSource, fragmentShaderSource, points, attributes);\n\n    // Locations\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.sizeLocation = gl.getAttribLocation(this.program, \"a_size\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n\n    // Uniform Location\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"AbstractNodeProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    const ratioLocation = gl.getUniformLocation(this.program, \"u_ratio\");\n    if (ratioLocation === null) throw new Error(\"AbstractNodeProgram: error while getting ratioLocation\");\n    this.ratioLocation = ratioLocation;\n\n    const scaleLocation = gl.getUniformLocation(this.program, \"u_scale\");\n    if (scaleLocation === null) throw new Error(\"AbstractNodeProgram: error while getting scaleLocation\");\n    this.scaleLocation = scaleLocation;\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.sizeLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n    gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      gl.FLOAT,\n      false,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      0,\n    );\n    gl.vertexAttribPointer(this.sizeLocation, 1, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 8);\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      12,\n    );\n  }\n\n  abstract process(data: NodeDisplayData, hidden: boolean, offset: number): void;\n}\n\nexport interface NodeProgramConstructor {\n  new (gl: WebGLRenderingContext, renderer: Sigma): INodeProgram;\n}\n\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nexport function createNodeCompoundProgram(programClasses: Array<NodeProgramConstructor>): NodeProgramConstructor {\n  return class NodeCompoundProgram implements INodeProgram {\n    programs: Array<INodeProgram>;\n\n    constructor(gl: WebGLRenderingContext, renderer: Sigma) {\n      this.programs = programClasses.map((ProgramClass) => new ProgramClass(gl, renderer));\n    }\n\n    bufferData(): void {\n      this.programs.forEach((program) => program.bufferData());\n    }\n\n    allocate(capacity: number): void {\n      this.programs.forEach((program) => program.allocate(capacity));\n    }\n\n    bind(): void {\n      // nothing todo, it's already done in each program constructor\n    }\n\n    render(params: RenderParams): void {\n      this.programs.forEach((program) => {\n        program.bind();\n        program.bufferData();\n        program.render(params);\n      });\n    }\n\n    process(data: NodeDisplayData, hidden: boolean, offset: number): void {\n      this.programs.forEach((program) => program.process(data, hidden, offset));\n    }\n  };\n}\n","/**\n * Sigma.js WebGL Renderer Program\n * ================================\n *\n * Class representing a single WebGL program used by sigma's WebGL renderer.\n * @module\n */\nimport { loadVertexShader, loadFragmentShader, loadProgram } from \"../../shaders/utils\";\n\nexport interface RenderParams {\n  width: number;\n  height: number;\n  ratio: number;\n  matrix: Float32Array;\n  scalingRatio: number;\n  correctionRatio: number;\n}\n\nexport interface IProgram {\n  bufferData(): void;\n  allocate(capacity: number): void;\n  bind(): void;\n  render(params: RenderParams): void;\n}\n\n/**\n * Abstract Program class.\n *\n * @constructor\n */\nexport abstract class AbstractProgram implements IProgram {\n  points: number;\n  attributes: number;\n  gl: WebGLRenderingContext;\n  array: Float32Array = new Float32Array();\n  buffer: WebGLBuffer;\n  vertexShaderSource: string;\n  vertexShader: WebGLShader;\n  fragmentShaderSource: string;\n  fragmentShader: WebGLShader;\n  program: WebGLProgram;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n    points: number,\n    attributes: number,\n  ) {\n    this.points = points;\n    this.attributes = attributes;\n    this.gl = gl;\n    this.vertexShaderSource = vertexShaderSource;\n    this.fragmentShaderSource = fragmentShaderSource;\n    const buffer = gl.createBuffer();\n    if (buffer === null) throw new Error(\"AbstractProgram: error while creating the buffer\");\n    this.buffer = buffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n\n    this.vertexShader = loadVertexShader(gl, this.vertexShaderSource);\n    this.fragmentShader = loadFragmentShader(gl, this.fragmentShaderSource);\n    this.program = loadProgram(gl, [this.vertexShader, this.fragmentShader]);\n  }\n\n  bufferData(): void {\n    const gl = this.gl;\n    gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n  }\n\n  allocate(capacity: number): void {\n    this.array = new Float32Array(this.points * this.attributes * capacity);\n  }\n\n  hasNothingToRender(): boolean {\n    return this.array.length === 0;\n  }\n\n  abstract bind(): void;\n  abstract render(params: RenderParams): void;\n}\n","/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nimport { createEdgeCompoundProgram } from \"./common/edge\";\nimport EdgeArrowHeadProgram from \"./edge.arrowHead\";\nimport EdgeClampedProgram from \"./edge.clamped\";\n\nconst EdgeArrowProgram = createEdgeCompoundProgram([EdgeClampedProgram, EdgeArrowHeadProgram]);\n\nexport default EdgeArrowProgram;\n","/**\n * Sigma.js WebGL Renderer Arrow Program\n * ======================================\n *\n * Program rendering direction arrows as a simple triangle.\n * @module\n */\nimport { EdgeDisplayData, NodeDisplayData } from \"../../../types\";\nimport { floatColor } from \"../../../utils\";\nimport vertexShaderSource from \"../shaders/edge.arrowHead.vert.glsl\";\nimport fragmentShaderSource from \"../shaders/edge.arrowHead.frag.glsl\";\nimport { AbstractEdgeProgram } from \"./common/edge\";\nimport { RenderParams } from \"./common/program\";\n\nconst POINTS = 3,\n  ATTRIBUTES = 9,\n  STRIDE = POINTS * ATTRIBUTES;\n\nexport default class EdgeArrowHeadProgram extends AbstractEdgeProgram {\n  // Locations\n  positionLocation: GLint;\n  colorLocation: GLint;\n  normalLocation: GLint;\n  radiusLocation: GLint;\n  barycentricLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n  sqrtZoomRatioLocation: WebGLUniformLocation;\n  correctionRatioLocation: WebGLUniformLocation;\n\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n\n    // Locations\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n    this.normalLocation = gl.getAttribLocation(this.program, \"a_normal\");\n    this.radiusLocation = gl.getAttribLocation(this.program, \"a_radius\");\n    this.barycentricLocation = gl.getAttribLocation(this.program, \"a_barycentric\");\n\n    // Uniform locations\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"EdgeArrowHeadProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    const sqrtZoomRatioLocation = gl.getUniformLocation(this.program, \"u_sqrtZoomRatio\");\n    if (sqrtZoomRatioLocation === null)\n      throw new Error(\"EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation\");\n    this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n\n    const correctionRatioLocation = gl.getUniformLocation(this.program, \"u_correctionRatio\");\n    if (correctionRatioLocation === null)\n      throw new Error(\"EdgeArrowHeadProgram: error while getting correctionRatioLocation\");\n    this.correctionRatioLocation = correctionRatioLocation;\n\n    this.bind();\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    // Bindings\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.normalLocation);\n    gl.enableVertexAttribArray(this.radiusLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n    gl.enableVertexAttribArray(this.barycentricLocation);\n\n    gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n    gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n    gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT,\n      20,\n    );\n\n    // TODO: maybe we can optimize here by packing this in a bit mask\n    gl.vertexAttribPointer(\n      this.barycentricLocation,\n      3,\n      gl.FLOAT,\n      false,\n      ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT,\n      24,\n    );\n  }\n\n  computeIndices(): void {\n    // nothing to do\n  }\n\n  process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void {\n    if (hidden) {\n      for (let i = offset * STRIDE, l = i + STRIDE; i < l; i++) this.array[i] = 0;\n\n      return;\n    }\n\n    const thickness = data.size || 1,\n      radius = targetData.size || 1,\n      x1 = sourceData.x,\n      y1 = sourceData.y,\n      x2 = targetData.x,\n      y2 = targetData.y,\n      color = floatColor(data.color);\n\n    // Computing normals\n    const dx = x2 - x1,\n      dy = y2 - y1;\n\n    let len = dx * dx + dy * dy,\n      n1 = 0,\n      n2 = 0;\n\n    if (len) {\n      len = 1 / Math.sqrt(len);\n\n      n1 = -dy * len * thickness;\n      n2 = dx * len * thickness;\n    }\n\n    let i = POINTS * ATTRIBUTES * offset;\n\n    const array = this.array;\n\n    // First point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = radius;\n    array[i++] = color;\n    array[i++] = 1;\n    array[i++] = 0;\n    array[i++] = 0;\n\n    // Second point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = radius;\n    array[i++] = color;\n    array[i++] = 0;\n    array[i++] = 1;\n    array[i++] = 0;\n\n    // Third point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = radius;\n    array[i++] = color;\n    array[i++] = 0;\n    array[i++] = 0;\n    array[i] = 1;\n  }\n\n  render(params: RenderParams): void {\n    if (this.hasNothingToRender()) return;\n\n    const gl = this.gl;\n\n    const program = this.program;\n    gl.useProgram(program);\n\n    // Binding uniforms\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n    gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n    gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n\n    // Drawing:\n    gl.drawArrays(gl.TRIANGLES, 0, this.array.length / ATTRIBUTES);\n  }\n}\n","/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines but with a twist: the end of edge\n * does not sit in the middle of target node but instead stays by some margin.\n *\n * This is useful when combined with arrows to draw directed edges.\n * @module\n */\nimport { EdgeDisplayData, NodeDisplayData } from \"../../../types\";\nimport { AbstractEdgeProgram } from \"./common/edge\";\nimport { floatColor, canUse32BitsIndices } from \"../../../utils\";\nimport vertexShaderSource from \"../shaders/edge.clamped.vert.glsl\";\nimport fragmentShaderSource from \"../shaders/edge.frag.glsl\";\nimport { RenderParams } from \"./common/program\";\n\nconst POINTS = 4,\n  ATTRIBUTES = 6,\n  STRIDE = POINTS * ATTRIBUTES;\n\nexport default class EdgeClampedProgram extends AbstractEdgeProgram {\n  IndicesArray: Uint32ArrayConstructor | Uint16ArrayConstructor;\n  indicesArray: Uint32Array | Uint16Array;\n  indicesBuffer: WebGLBuffer;\n  indicesType: GLenum;\n  positionLocation: GLint;\n  colorLocation: GLint;\n  normalLocation: GLint;\n  radiusLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n  sqrtZoomRatioLocation: WebGLUniformLocation;\n  correctionRatioLocation: WebGLUniformLocation;\n  canUse32BitsIndices: boolean;\n\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n\n    // Initializing indices buffer\n    const indicesBuffer = gl.createBuffer();\n    if (indicesBuffer === null) throw new Error(\"EdgeClampedProgram: error while getting resolutionLocation\");\n    this.indicesBuffer = indicesBuffer;\n\n    // Locations:\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n    this.normalLocation = gl.getAttribLocation(this.program, \"a_normal\");\n    this.radiusLocation = gl.getAttribLocation(this.program, \"a_radius\");\n\n    // Uniform locations\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"EdgeClampedProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    const sqrtZoomRatioLocation = gl.getUniformLocation(this.program, \"u_sqrtZoomRatio\");\n    if (sqrtZoomRatioLocation === null) throw new Error(\"EdgeClampedProgram: error while getting cameraRatioLocation\");\n    this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n\n    const correctionRatioLocation = gl.getUniformLocation(this.program, \"u_correctionRatio\");\n    if (correctionRatioLocation === null)\n      throw new Error(\"EdgeClampedProgram: error while getting viewportRatioLocation\");\n    this.correctionRatioLocation = correctionRatioLocation;\n\n    // Enabling the OES_element_index_uint extension\n    // NOTE: on older GPUs, this means that really large graphs won't\n    // have all their edges rendered. But it seems that the\n    // `OES_element_index_uint` is quite everywhere so we'll handle\n    // the potential issue if it really arises.\n    // NOTE: when using webgl2, the extension is enabled by default\n    this.canUse32BitsIndices = canUse32BitsIndices(gl);\n    this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n    this.indicesArray = new this.IndicesArray();\n    this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n\n    this.bind();\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n\n    // Bindings\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.normalLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n    gl.enableVertexAttribArray(this.radiusLocation);\n\n    gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n    gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT,\n      16,\n    );\n    gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n  }\n\n  process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void {\n    if (hidden) {\n      for (let i = offset * STRIDE, l = i + STRIDE; i < l; i++) this.array[i] = 0;\n      return;\n    }\n\n    const thickness = data.size || 1,\n      x1 = sourceData.x,\n      y1 = sourceData.y,\n      x2 = targetData.x,\n      y2 = targetData.y,\n      radius = targetData.size || 1,\n      color = floatColor(data.color);\n\n    // Computing normals\n    const dx = x2 - x1,\n      dy = y2 - y1;\n\n    let len = dx * dx + dy * dy,\n      n1 = 0,\n      n2 = 0;\n\n    if (len) {\n      len = 1 / Math.sqrt(len);\n\n      n1 = -dy * len * thickness;\n      n2 = dx * len * thickness;\n    }\n\n    let i = POINTS * ATTRIBUTES * offset;\n\n    const array = this.array;\n\n    // First point\n    array[i++] = x1;\n    array[i++] = y1;\n    array[i++] = n1;\n    array[i++] = n2;\n    array[i++] = color;\n    array[i++] = 0;\n\n    // First point flipped\n    array[i++] = x1;\n    array[i++] = y1;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = color;\n    array[i++] = 0;\n\n    // Second point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = n1;\n    array[i++] = n2;\n    array[i++] = color;\n    array[i++] = radius;\n\n    // Second point flipped\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = color;\n    array[i] = -radius;\n  }\n\n  computeIndices(): void {\n    const l = this.array.length / ATTRIBUTES;\n    const size = l + l / 2;\n    const indices = new this.IndicesArray(size);\n\n    for (let i = 0, c = 0; i < l; i += 4) {\n      indices[c++] = i;\n      indices[c++] = i + 1;\n      indices[c++] = i + 2;\n      indices[c++] = i + 2;\n      indices[c++] = i + 1;\n      indices[c++] = i + 3;\n    }\n\n    this.indicesArray = indices;\n  }\n\n  bufferData(): void {\n    super.bufferData();\n\n    // Indices data\n    const gl = this.gl;\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n  }\n\n  render(params: RenderParams): void {\n    if (this.hasNothingToRender()) return;\n\n    const gl = this.gl;\n\n    const program = this.program;\n    gl.useProgram(program);\n\n    // Binding uniforms\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n    gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n    gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n\n    // Drawing:\n    gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n  }\n}\n","/**\n * Sigma.js WebGL Renderer Fast Edge Program\n * ==========================================\n *\n * Program rendering edges using GL_LINES which is presumably very fast but\n * won't render thickness correctly on some GPUs and has some quirks.\n * @module\n */\nimport { EdgeDisplayData, NodeDisplayData } from \"../../../types\";\nimport { floatColor } from \"../../../utils\";\nimport vertexShaderSource from \"../shaders/edge.fast.vert.glsl\";\nimport fragmentShaderSource from \"../shaders/edge.fast.frag.glsl\";\nimport { AbstractEdgeProgram } from \"./common/edge\";\nimport { RenderParams } from \"./common/program\";\n\nconst POINTS = 2,\n  ATTRIBUTES = 3;\n\nexport default class EdgeFastProgram extends AbstractEdgeProgram {\n  positionLocation: GLint;\n  colorLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n\n    // Locations:\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n\n    // Uniform locations:\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"EdgeFastProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    this.bind();\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    // Bindings\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n\n    gl.vertexAttribPointer(\n      this.positionLocation,\n      2,\n      gl.FLOAT,\n      false,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      0,\n    );\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      this.attributes * Float32Array.BYTES_PER_ELEMENT,\n      8,\n    );\n  }\n\n  computeIndices(): void {\n    //nothing to do\n  }\n\n  process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void {\n    const array = this.array;\n\n    let i = 0;\n    if (hidden) {\n      for (let l = i + POINTS * ATTRIBUTES; i < l; i++) array[i] = 0;\n    }\n\n    const x1 = sourceData.x,\n      y1 = sourceData.y,\n      x2 = targetData.x,\n      y2 = targetData.y,\n      color = floatColor(data.color);\n\n    i = POINTS * ATTRIBUTES * offset;\n\n    // First point\n    array[i++] = x1;\n    array[i++] = y1;\n    array[i++] = color;\n\n    // Second point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i] = color;\n  }\n\n  render(params: RenderParams): void {\n    if (this.hasNothingToRender()) return;\n\n    const gl = this.gl;\n    const program = this.program;\n\n    gl.useProgram(program);\n\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n\n    gl.drawArrays(gl.LINES, 0, this.array.length / ATTRIBUTES);\n  }\n}\n","/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines using four points translated\n * orthogonally from the source & target's centers by half thickness.\n *\n * Rendering two triangles by using only four points is made possible through\n * the use of indices.\n *\n * This method should be faster than the 6 points / 2 triangles approach and\n * should handle thickness better than with gl.LINES.\n *\n * This version of the shader balances geometry computation evenly between\n * the CPU & GPU (normals are computed on the CPU side).\n * @module\n */\nimport { floatColor, canUse32BitsIndices } from \"../../../utils\";\nimport { EdgeDisplayData, NodeDisplayData } from \"../../../types\";\nimport vertexShaderSource from \"../shaders/edge.vert.glsl\";\nimport fragmentShaderSource from \"../shaders/edge.frag.glsl\";\nimport { AbstractEdgeProgram } from \"./common/edge\";\nimport { RenderParams } from \"./common/program\";\n\nconst POINTS = 4,\n  ATTRIBUTES = 5,\n  STRIDE = POINTS * ATTRIBUTES;\n\nexport default class EdgeProgram extends AbstractEdgeProgram {\n  IndicesArray: Uint32ArrayConstructor | Uint16ArrayConstructor;\n  indicesArray: Uint32Array | Uint16Array;\n  indicesBuffer: WebGLBuffer;\n  indicesType: GLenum;\n  canUse32BitsIndices: boolean;\n  positionLocation: GLint;\n  colorLocation: GLint;\n  normalLocation: GLint;\n  matrixLocation: WebGLUniformLocation;\n  sqrtZoomRatioLocation: WebGLUniformLocation;\n  correctionRatioLocation: WebGLUniformLocation;\n\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n\n    // Initializing indices buffer\n    const indicesBuffer = gl.createBuffer();\n    if (indicesBuffer === null) throw new Error(\"EdgeProgram: error while creating indicesBuffer\");\n    this.indicesBuffer = indicesBuffer;\n\n    // Locations\n    this.positionLocation = gl.getAttribLocation(this.program, \"a_position\");\n    this.colorLocation = gl.getAttribLocation(this.program, \"a_color\");\n    this.normalLocation = gl.getAttribLocation(this.program, \"a_normal\");\n\n    const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\n    if (matrixLocation === null) throw new Error(\"EdgeProgram: error while getting matrixLocation\");\n    this.matrixLocation = matrixLocation;\n\n    const correctionRatioLocation = gl.getUniformLocation(this.program, \"u_correctionRatio\");\n    if (correctionRatioLocation === null) throw new Error(\"EdgeProgram: error while getting correctionRatioLocation\");\n    this.correctionRatioLocation = correctionRatioLocation;\n\n    const sqrtZoomRatioLocation = gl.getUniformLocation(this.program, \"u_sqrtZoomRatio\");\n    if (sqrtZoomRatioLocation === null) throw new Error(\"EdgeProgram: error while getting sqrtZoomRatioLocation\");\n    this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n\n    // Enabling the OES_element_index_uint extension\n    // NOTE: on older GPUs, this means that really large graphs won't\n    // have all their edges rendered. But it seems that the\n    // `OES_element_index_uint` is quite everywhere so we'll handle\n    // the potential issue if it really arises.\n    // NOTE: when using webgl2, the extension is enabled by default\n    this.canUse32BitsIndices = canUse32BitsIndices(gl);\n    this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n    this.indicesArray = new this.IndicesArray();\n    this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n\n    this.bind();\n  }\n\n  bind(): void {\n    const gl = this.gl;\n\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n\n    // Bindings\n    gl.enableVertexAttribArray(this.positionLocation);\n    gl.enableVertexAttribArray(this.normalLocation);\n    gl.enableVertexAttribArray(this.colorLocation);\n\n    gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n    gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n    gl.vertexAttribPointer(\n      this.colorLocation,\n      4,\n      gl.UNSIGNED_BYTE,\n      true,\n      ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT,\n      16,\n    );\n  }\n\n  computeIndices(): void {\n    const l = this.array.length / ATTRIBUTES;\n    const size = l + l / 2;\n    const indices = new this.IndicesArray(size);\n\n    for (let i = 0, c = 0; i < l; i += 4) {\n      indices[c++] = i;\n      indices[c++] = i + 1;\n      indices[c++] = i + 2;\n      indices[c++] = i + 2;\n      indices[c++] = i + 1;\n      indices[c++] = i + 3;\n    }\n\n    this.indicesArray = indices;\n  }\n\n  bufferData(): void {\n    super.bufferData();\n\n    // Indices data\n    const gl = this.gl;\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n  }\n\n  process(\n    sourceData: NodeDisplayData,\n    targetData: NodeDisplayData,\n    data: EdgeDisplayData,\n    hidden: boolean,\n    offset: number,\n  ): void {\n    if (hidden) {\n      for (let i = offset * STRIDE, l = i + STRIDE; i < l; i++) this.array[i] = 0;\n      return;\n    }\n\n    const thickness = data.size || 1,\n      x1 = sourceData.x,\n      y1 = sourceData.y,\n      x2 = targetData.x,\n      y2 = targetData.y,\n      color = floatColor(data.color);\n\n    // Computing normals\n    const dx = x2 - x1,\n      dy = y2 - y1;\n\n    let len = dx * dx + dy * dy,\n      n1 = 0,\n      n2 = 0;\n\n    if (len) {\n      len = 1 / Math.sqrt(len);\n\n      n1 = -dy * len * thickness;\n      n2 = dx * len * thickness;\n    }\n\n    let i = POINTS * ATTRIBUTES * offset;\n\n    const array = this.array;\n\n    // First point\n    array[i++] = x1;\n    array[i++] = y1;\n    array[i++] = n1;\n    array[i++] = n2;\n    array[i++] = color;\n\n    // First point flipped\n    array[i++] = x1;\n    array[i++] = y1;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i++] = color;\n\n    // Second point\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = n1;\n    array[i++] = n2;\n    array[i++] = color;\n\n    // Second point flipped\n    array[i++] = x2;\n    array[i++] = y2;\n    array[i++] = -n1;\n    array[i++] = -n2;\n    array[i] = color;\n  }\n\n  render(params: RenderParams): void {\n    if (this.hasNothingToRender()) return;\n\n    const gl = this.gl;\n    const program = this.program;\n\n    gl.useProgram(program);\n\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n    gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n    gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n\n    // Drawing:\n    gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n  }\n}\n","/**\n * Sigma.js WebGL Renderer Node Program\n * =====================================\n *\n * Simple program rendering nodes using GL_POINTS. This is faster than the\n * three triangle option but has some quirks and is not supported equally by\n * every GPU.\n * @module\n */\nimport { NodeDisplayData } from \"../../../types\";\nimport { floatColor } from \"../../../utils\";\nimport vertexShaderSource from \"../shaders/node.fast.vert.glsl\";\nimport fragmentShaderSource from \"../shaders/node.fast.frag.glsl\";\nimport { AbstractNodeProgram } from \"./common/node\";\nimport { RenderParams } from \"./common/program\";\n\nconst POINTS = 1,\n  ATTRIBUTES = 4;\n\nexport default class NodeFastProgram extends AbstractNodeProgram {\n  constructor(gl: WebGLRenderingContext) {\n    super(gl, vertexShaderSource, fragmentShaderSource, POINTS, ATTRIBUTES);\n    this.bind();\n  }\n\n  process(data: NodeDisplayData, hidden: boolean, offset: number): void {\n    const array = this.array;\n    let i = offset * POINTS * ATTRIBUTES;\n\n    if (hidden) {\n      array[i++] = 0;\n      array[i++] = 0;\n      array[i++] = 0;\n      array[i++] = 0;\n      return;\n    }\n\n    const color = floatColor(data.color);\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = data.size;\n    array[i] = color;\n  }\n\n  render(params: RenderParams): void {\n    if (this.hasNothingToRender()) return;\n\n    const gl = this.gl;\n\n    const program = this.program;\n    gl.useProgram(program);\n\n    gl.uniform1f(this.ratioLocation, 1 / Math.sqrt(params.ratio));\n    gl.uniform1f(this.scaleLocation, params.scalingRatio);\n    gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n\n    gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n  }\n}\n","/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\n\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type: string, gl: WebGLRenderingContext, source: string): WebGLShader {\n  const glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n\n  // Creating the shader\n  const shader = gl.createShader(glType);\n  if (shader === null) {\n    throw new Error(`loadShader: error while creating the shader`);\n  }\n\n  // Loading source\n  gl.shaderSource(shader, source);\n\n  // Compiling the shader\n  gl.compileShader(shader);\n\n  // Retrieving compilation status\n  const successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  // Throwing if something went awry\n  if (!successfullyCompiled) {\n    const infoLog = gl.getShaderInfoLog(shader);\n\n    gl.deleteShader(shader);\n    throw new Error(`loadShader: error while compiling the shader:\\n${infoLog}\\n${source}`);\n  }\n\n  return shader;\n}\n\nexport function loadVertexShader(gl: WebGLRenderingContext, source: string): WebGLShader {\n  return loadShader(\"VERTEX\", gl, source);\n}\nexport function loadFragmentShader(gl: WebGLRenderingContext, source: string): WebGLShader {\n  return loadShader(\"FRAGMENT\", gl, source);\n}\n\n/**\n * Function used to load a program.\n */\nexport function loadProgram(gl: WebGLRenderingContext, shaders: Array<WebGLShader>): WebGLProgram {\n  const program = gl.createProgram();\n  if (program === null) {\n    throw new Error(\"loadProgram: error while creating the program.\");\n  }\n\n  let i, l;\n\n  // Attaching the shaders\n  for (i = 0, l = shaders.length; i < l; i++) gl.attachShader(program, shaders[i]);\n\n  gl.linkProgram(program);\n\n  // Checking status\n  const successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n  if (!successfullyLinked) {\n    gl.deleteProgram(program);\n    throw new Error(\"loadProgram: error while linking the program.\");\n  }\n\n  return program;\n}\n","/**\n * Sigma.js Settings\n * =================================\n *\n * The list of settings and some handy functions.\n * @module\n */\n\nimport { Attributes } from \"graphology-types\";\n\nimport drawLabel from \"./rendering/canvas/label\";\nimport drawHover from \"./rendering/canvas/hover\";\nimport drawEdgeLabel from \"./rendering/canvas/edge-label\";\nimport { EdgeDisplayData, NodeDisplayData } from \"./types\";\nimport CircleNodeProgram from \"./rendering/webgl/programs/node.fast\";\nimport LineEdgeProgram from \"./rendering/webgl/programs/edge\";\nimport ArrowEdgeProgram from \"./rendering/webgl/programs/edge.arrow\";\nimport { EdgeProgramConstructor } from \"./rendering/webgl/programs/common/edge\";\nimport { NodeProgramConstructor } from \"./rendering/webgl/programs/common/node\";\n\nexport function validateSettings(settings: Settings): void {\n  if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n    throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n  }\n\n  const { minCameraRatio, maxCameraRatio } = settings;\n  if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n    throw new Error(\n      \"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\",\n    );\n  }\n}\n\n/**\n * Sigma.js settings\n * =================================\n */\nexport interface Settings {\n  // Performance\n  hideEdgesOnMove: boolean;\n  hideLabelsOnMove: boolean;\n  renderLabels: boolean;\n  renderEdgeLabels: boolean;\n  enableEdgeClickEvents: boolean;\n  enableEdgeWheelEvents: boolean;\n  enableEdgeHoverEvents: boolean | \"debounce\";\n  // Component rendering\n  defaultNodeColor: string;\n  defaultNodeType: string;\n  defaultEdgeColor: string;\n  defaultEdgeType: string;\n  labelFont: string;\n  labelSize: number;\n  labelWeight: string;\n  labelColor: { attribute: string; color?: string } | { color: string; attribute?: undefined };\n  edgeLabelFont: string;\n  edgeLabelSize: number;\n  edgeLabelWeight: string;\n  edgeLabelColor: { attribute: string; color?: string } | { color: string; attribute?: undefined };\n  stagePadding: number;\n  // Labels\n  labelDensity: number;\n  labelGridCellSize: number;\n  labelRenderedSizeThreshold: number;\n  // Reducers\n  nodeReducer: null | ((node: string, data: Attributes) => Partial<NodeDisplayData>);\n  edgeReducer: null | ((edge: string, data: Attributes) => Partial<EdgeDisplayData>);\n  // Features\n  zIndex: boolean;\n  minCameraRatio: null | number;\n  maxCameraRatio: null | number;\n  // Renderers\n  labelRenderer: typeof drawLabel;\n  hoverRenderer: typeof drawHover;\n  edgeLabelRenderer: typeof drawEdgeLabel;\n  // Lifecycle\n  allowInvalidContainer: boolean;\n\n  // Program classes\n  nodeProgramClasses: { [key: string]: NodeProgramConstructor };\n  edgeProgramClasses: { [key: string]: EdgeProgramConstructor };\n}\n\nexport const DEFAULT_SETTINGS: Settings = {\n  // Performance\n  hideEdgesOnMove: false,\n  hideLabelsOnMove: false,\n  renderLabels: true,\n  renderEdgeLabels: false,\n  enableEdgeClickEvents: false,\n  enableEdgeWheelEvents: false,\n  enableEdgeHoverEvents: false,\n\n  // Component rendering\n  defaultNodeColor: \"#999\",\n  defaultNodeType: \"circle\",\n  defaultEdgeColor: \"#ccc\",\n  defaultEdgeType: \"line\",\n  labelFont: \"Arial\",\n  labelSize: 14,\n  labelWeight: \"normal\",\n  labelColor: { color: \"#000\" },\n  edgeLabelFont: \"Arial\",\n  edgeLabelSize: 14,\n  edgeLabelWeight: \"normal\",\n  edgeLabelColor: { attribute: \"color\" },\n  stagePadding: 30,\n\n  // Labels\n  labelDensity: 1,\n  labelGridCellSize: 100,\n  labelRenderedSizeThreshold: 6,\n\n  // Reducers\n  nodeReducer: null,\n  edgeReducer: null,\n\n  // Features\n  zIndex: false,\n  minCameraRatio: null,\n  maxCameraRatio: null,\n\n  // Renderers\n  labelRenderer: drawLabel,\n  hoverRenderer: drawHover,\n  edgeLabelRenderer: drawEdgeLabel,\n\n  // Lifecycle\n  allowInvalidContainer: false,\n\n  // Program classes\n  nodeProgramClasses: {\n    circle: CircleNodeProgram,\n  },\n  edgeProgramClasses: {\n    arrow: ArrowEdgeProgram,\n    line: LineEdgeProgram,\n  },\n};\n","/**\n * Sigma.js\n * ========\n * @module\n */\nimport Graph from \"graphology-types\";\n\nimport Camera from \"./core/camera\";\nimport MouseCaptor from \"./core/captors/mouse\";\nimport QuadTree from \"./core/quadtree\";\nimport {\n  CameraState,\n  Coordinates,\n  Dimensions,\n  EdgeDisplayData,\n  Extent,\n  Listener,\n  MouseCoords,\n  NodeDisplayData,\n  PlainObject,\n  CoordinateConversionOverride,\n  TypedEventEmitter,\n  MouseInteraction,\n} from \"./types\";\nimport {\n  createElement,\n  getPixelRatio,\n  createNormalizationFunction,\n  NormalizationFunction,\n  assign,\n  cancelFrame,\n  matrixFromCamera,\n  requestFrame,\n  validateGraph,\n  zIndexOrdering,\n  getMatrixImpact,\n  graphExtent,\n} from \"./utils\";\nimport { edgeLabelsToDisplayFromNodes, LabelGrid } from \"./core/labels\";\nimport { Settings, DEFAULT_SETTINGS, validateSettings } from \"./settings\";\nimport { INodeProgram } from \"./rendering/webgl/programs/common/node\";\nimport { IEdgeProgram } from \"./rendering/webgl/programs/common/edge\";\nimport TouchCaptor, { FakeSigmaMouseEvent } from \"./core/captors/touch\";\nimport { identity, multiplyVec2 } from \"./utils/matrices\";\nimport { doEdgeCollideWithPoint, isPixelColored } from \"./utils/edge-collisions\";\n\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings: Settings, key: string, data: Partial<NodeDisplayData>): NodeDisplayData {\n  if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n    throw new Error(\n      `Sigma: could not find a valid position (x, y) for node \"${key}\". All your nodes must have a number \"x\" and \"y\". Maybe your forgot to apply a layout or your \"nodeReducer\" is not returning the correct data?`,\n    );\n\n  if (!data.color) data.color = settings.defaultNodeColor;\n\n  if (!data.label && data.label !== \"\") data.label = null;\n\n  if (data.label !== undefined && data.label !== null) data.label = \"\" + data.label;\n  else data.label = null;\n\n  if (!data.size) data.size = 2;\n\n  if (!data.hasOwnProperty(\"hidden\")) data.hidden = false;\n\n  if (!data.hasOwnProperty(\"highlighted\")) data.highlighted = false;\n\n  if (!data.hasOwnProperty(\"forceLabel\")) data.forceLabel = false;\n\n  if (!data.type || data.type === \"\") data.type = settings.defaultNodeType;\n\n  if (!data.zIndex) data.zIndex = 0;\n\n  return data as NodeDisplayData;\n}\n\nfunction applyEdgeDefaults(settings: Settings, key: string, data: Partial<EdgeDisplayData>): EdgeDisplayData {\n  if (!data.color) data.color = settings.defaultEdgeColor;\n\n  if (!data.label) data.label = \"\";\n\n  if (!data.size) data.size = 0.5;\n\n  if (!data.hasOwnProperty(\"hidden\")) data.hidden = false;\n\n  if (!data.hasOwnProperty(\"forceLabel\")) data.forceLabel = false;\n\n  if (!data.type || data.type === \"\") data.type = settings.defaultEdgeType;\n\n  if (!data.zIndex) data.zIndex = 0;\n\n  return data as EdgeDisplayData;\n}\n\n/**\n * Event types.\n */\nexport interface SigmaEventPayload {\n  event: MouseCoords;\n  preventSigmaDefault(): void;\n}\n\nexport interface SigmaStageEventPayload extends SigmaEventPayload {}\nexport interface SigmaNodeEventPayload extends SigmaEventPayload {\n  node: string;\n}\nexport interface SigmaEdgeEventPayload extends SigmaEventPayload {\n  edge: string;\n}\n\nexport type SigmaStageEvents = {\n  [E in MouseInteraction as `${E}Stage`]: (payload: SigmaStageEventPayload) => void;\n};\n\nexport type SigmaNodeEvents = {\n  [E in MouseInteraction as `${E}Node`]: (payload: SigmaNodeEventPayload) => void;\n};\n\nexport type SigmaEdgeEvents = {\n  [E in MouseInteraction as `${E}Edge`]: (payload: SigmaEdgeEventPayload) => void;\n};\n\nexport type SigmaAdditionalEvents = {\n  // Lifecycle events\n  beforeRender(): void;\n  afterRender(): void;\n  resize(): void;\n  kill(): void;\n\n  // Additional node events\n  enterNode(payload: SigmaNodeEventPayload): void;\n  leaveNode(payload: SigmaNodeEventPayload): void;\n\n  // Additional edge events\n  enterEdge(payload: SigmaEdgeEventPayload): void;\n  leaveEdge(payload: SigmaEdgeEventPayload): void;\n};\n\nexport type SigmaEvents = SigmaStageEvents & SigmaNodeEvents & SigmaEdgeEvents & SigmaAdditionalEvents;\n\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nexport default class Sigma extends TypedEventEmitter<SigmaEvents> {\n  private settings: Settings;\n  private graph: Graph;\n  private mouseCaptor: MouseCaptor;\n  private touchCaptor: TouchCaptor;\n  private container: HTMLElement;\n  private elements: PlainObject<HTMLCanvasElement> = {};\n  private canvasContexts: PlainObject<CanvasRenderingContext2D> = {};\n  private webGLContexts: PlainObject<WebGLRenderingContext> = {};\n  private activeListeners: PlainObject<Listener> = {};\n  private quadtree: QuadTree = new QuadTree();\n  private labelGrid: LabelGrid = new LabelGrid();\n  private nodeDataCache: Record<string, NodeDisplayData> = {};\n  private edgeDataCache: Record<string, EdgeDisplayData> = {};\n  private nodesWithForcedLabels: string[] = [];\n  private edgesWithForcedLabels: string[] = [];\n  private nodeExtent: { x: Extent; y: Extent } = { x: [0, 1], y: [0, 1] };\n\n  private matrix: Float32Array = identity();\n  private invMatrix: Float32Array = identity();\n  private correctionRatio = 1;\n  private customBBox: { x: Extent; y: Extent } | null = null;\n  private normalizationFunction: NormalizationFunction = createNormalizationFunction({\n    x: [0, 1],\n    y: [0, 1],\n  });\n\n  // Cache:\n  private cameraSizeRatio = 1;\n\n  // Starting dimensions and pixel ratio\n  private width = 0;\n  private height = 0;\n  private pixelRatio = getPixelRatio();\n\n  // State\n  private displayedLabels: Set<string> = new Set();\n  private highlightedNodes: Set<string> = new Set();\n  private hoveredNode: string | null = null;\n  private hoveredEdge: string | null = null;\n  private renderFrame: number | null = null;\n  private renderHighlightedNodesFrame: number | null = null;\n  private needToProcess = false;\n  private needToSoftProcess = false;\n  private checkEdgesEventsFrame: number | null = null;\n\n  // Programs\n  private nodePrograms: { [key: string]: INodeProgram } = {};\n  private hoverNodePrograms: { [key: string]: INodeProgram } = {};\n  private edgePrograms: { [key: string]: IEdgeProgram } = {};\n\n  private camera: Camera;\n\n  constructor(graph: Graph, container: HTMLElement, settings: Partial<Settings> = {}) {\n    super();\n\n    this.settings = assign<Settings>({}, DEFAULT_SETTINGS, settings);\n\n    // Validating\n    validateSettings(this.settings);\n    validateGraph(graph);\n    if (!(container instanceof HTMLElement)) throw new Error(\"Sigma: container should be an html element.\");\n\n    // Properties\n    this.graph = graph;\n    this.container = container;\n\n    // Initializing contexts\n    this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n    this.createCanvasContext(\"edgeLabels\");\n    this.createWebGLContext(\"nodes\");\n    this.createCanvasContext(\"labels\");\n    this.createCanvasContext(\"hovers\");\n    this.createWebGLContext(\"hoverNodes\");\n    this.createCanvasContext(\"mouse\");\n\n    // Blending\n    for (const key in this.webGLContexts) {\n      const gl = this.webGLContexts[key];\n\n      gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n      gl.enable(gl.BLEND);\n    }\n\n    // Loading programs\n    for (const type in this.settings.nodeProgramClasses) {\n      const NodeProgramClass = this.settings.nodeProgramClasses[type];\n      this.nodePrograms[type] = new NodeProgramClass(this.webGLContexts.nodes, this);\n      this.hoverNodePrograms[type] = new NodeProgramClass(this.webGLContexts.hoverNodes, this);\n    }\n    for (const type in this.settings.edgeProgramClasses) {\n      const EdgeProgramClass = this.settings.edgeProgramClasses[type];\n      this.edgePrograms[type] = new EdgeProgramClass(this.webGLContexts.edges, this);\n    }\n\n    // Initial resize\n    this.resize();\n\n    // Initializing the camera\n    this.camera = new Camera();\n\n    // Binding camera events\n    this.bindCameraHandlers();\n\n    // Initializing captors\n    this.mouseCaptor = new MouseCaptor(this.elements.mouse, this);\n    this.touchCaptor = new TouchCaptor(this.elements.mouse, this);\n\n    // Binding event handlers\n    this.bindEventHandlers();\n\n    // Binding graph handlers\n    this.bindGraphHandlers();\n\n    // Trigger eventual settings-related things\n    this.handleSettingsUpdate();\n\n    // Processing data for the first time & render\n    this.process();\n    this.render();\n  }\n\n  /**---------------------------------------------------------------------------\n   * Internal methods.\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Internal function used to create a canvas element.\n   * @param  {string} id - Context's id.\n   * @return {Sigma}\n   */\n  private createCanvas(id: string): HTMLCanvasElement {\n    const canvas: HTMLCanvasElement = createElement<HTMLCanvasElement>(\n      \"canvas\",\n      {\n        position: \"absolute\",\n      },\n      {\n        class: `sigma-${id}`,\n      },\n    );\n\n    this.elements[id] = canvas;\n    this.container.appendChild(canvas);\n\n    return canvas;\n  }\n\n  /**\n   * Internal function used to create a canvas context and add the relevant\n   * DOM elements.\n   *\n   * @param  {string} id - Context's id.\n   * @return {Sigma}\n   */\n  private createCanvasContext(id: string): this {\n    const canvas = this.createCanvas(id);\n\n    const contextOptions = {\n      preserveDrawingBuffer: false,\n      antialias: false,\n    };\n\n    this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions) as CanvasRenderingContext2D;\n\n    return this;\n  }\n\n  /**\n   * Internal function used to create a canvas context and add the relevant\n   * DOM elements.\n   *\n   * @param  {string}  id      - Context's id.\n   * @param  {object?} options - #getContext params to override (optional)\n   * @return {Sigma}\n   */\n  private createWebGLContext(id: string, options?: { preserveDrawingBuffer?: boolean; antialias?: boolean }): this {\n    const canvas = this.createCanvas(id);\n\n    const contextOptions = {\n      preserveDrawingBuffer: false,\n      antialias: false,\n      ...(options || {}),\n    };\n\n    let context;\n\n    // First we try webgl2 for an easy performance boost\n    context = canvas.getContext(\"webgl2\", contextOptions);\n\n    // Else we fall back to webgl\n    if (!context) context = canvas.getContext(\"webgl\", contextOptions);\n\n    // Edge, I am looking right at you...\n    if (!context) context = canvas.getContext(\"experimental-webgl\", contextOptions);\n\n    this.webGLContexts[id] = context as WebGLRenderingContext;\n\n    return this;\n  }\n\n  /**\n   * Method binding camera handlers.\n   *\n   * @return {Sigma}\n   */\n  private bindCameraHandlers(): this {\n    this.activeListeners.camera = () => {\n      this._scheduleRefresh();\n    };\n\n    this.camera.on(\"updated\", this.activeListeners.camera);\n\n    return this;\n  }\n\n  /**\n   * Method that checks whether or not a node collides with a given position.\n   */\n  private mouseIsOnNode({ x, y }: Coordinates, { x: nodeX, y: nodeY }: Coordinates, size: number): boolean {\n    return (\n      x > nodeX - size &&\n      x < nodeX + size &&\n      y > nodeY - size &&\n      y < nodeY + size &&\n      Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size\n    );\n  }\n\n  /**\n   * Method that returns all nodes in quad at a given position.\n   */\n  private getQuadNodes(position: Coordinates): string[] {\n    const mouseGraphPosition = this.viewportToFramedGraph(position);\n\n    return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n  }\n\n  /**\n   * Method that returns the closest node to a given position.\n   */\n  private getNodeAtPosition(position: Coordinates): string | null {\n    const { x, y } = position;\n    const quadNodes = this.getQuadNodes(position);\n\n    // We will hover the node whose center is closest to mouse\n    let minDistance = Infinity,\n      nodeAtPosition = null;\n\n    for (let i = 0, l = quadNodes.length; i < l; i++) {\n      const node = quadNodes[i];\n\n      const data = this.nodeDataCache[node];\n\n      const nodePosition = this.framedGraphToViewport(data);\n\n      const size = this.scaleSize(data.size);\n\n      if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n        const distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n\n        // TODO: sort by min size also for cases where center is the same\n        if (distance < minDistance) {\n          minDistance = distance;\n          nodeAtPosition = node;\n        }\n      }\n    }\n\n    return nodeAtPosition;\n  }\n\n  /**\n   * Method binding event handlers.\n   *\n   * @return {Sigma}\n   */\n  private bindEventHandlers(): this {\n    // Handling window resize\n    this.activeListeners.handleResize = () => {\n      this.needToSoftProcess = true;\n      this._scheduleRefresh();\n    };\n\n    window.addEventListener(\"resize\", this.activeListeners.handleResize);\n\n    // Handling mouse move\n    this.activeListeners.handleMove = (e: MouseCoords): void => {\n      const baseEvent = {\n        event: e,\n        preventSigmaDefault(): void {\n          e.preventSigmaDefault();\n        },\n      };\n\n      const nodeToHover = this.getNodeAtPosition(e);\n\n      if (nodeToHover && this.hoveredNode !== nodeToHover && !this.nodeDataCache[nodeToHover].hidden) {\n        // Handling passing from one node to the other directly\n        if (this.hoveredNode) this.emit(\"leaveNode\", { ...baseEvent, node: this.hoveredNode });\n\n        this.hoveredNode = nodeToHover;\n        this.emit(\"enterNode\", { ...baseEvent, node: nodeToHover });\n        this.scheduleHighlightedNodesRender();\n        return;\n      }\n\n      // Checking if the hovered node is still hovered\n      if (this.hoveredNode) {\n        const data = this.nodeDataCache[this.hoveredNode];\n\n        const pos = this.framedGraphToViewport(data);\n\n        const size = this.scaleSize(data.size);\n\n        if (!this.mouseIsOnNode(e, pos, size)) {\n          const node = this.hoveredNode;\n          this.hoveredNode = null;\n\n          this.emit(\"leaveNode\", { ...baseEvent, node });\n          this.scheduleHighlightedNodesRender();\n          return;\n        }\n      }\n\n      if (this.settings.enableEdgeHoverEvents === true) {\n        this.checkEdgeHoverEvents(baseEvent);\n      } else if (this.settings.enableEdgeHoverEvents === \"debounce\") {\n        if (!this.checkEdgesEventsFrame)\n          this.checkEdgesEventsFrame = requestFrame(() => {\n            this.checkEdgeHoverEvents(baseEvent);\n            this.checkEdgesEventsFrame = null;\n          });\n      }\n    };\n\n    // Handling click\n    const createMouseListener = (eventType: MouseInteraction): ((e: MouseCoords) => void) => {\n      return (e) => {\n        const baseEvent = {\n          event: e,\n          preventSigmaDefault(): void {\n            e.preventSigmaDefault();\n          },\n        };\n\n        const isFakeSigmaMouseEvent = (e.original as FakeSigmaMouseEvent).isFakeSigmaMouseEvent;\n        const nodeAtPosition = isFakeSigmaMouseEvent ? this.getNodeAtPosition(e) : this.hoveredNode;\n\n        if (nodeAtPosition)\n          return this.emit(`${eventType}Node`, {\n            ...baseEvent,\n            node: nodeAtPosition,\n          });\n\n        if (eventType === \"wheel\" ? this.settings.enableEdgeWheelEvents : this.settings.enableEdgeClickEvents) {\n          const edge = this.getEdgeAtPoint(e.x, e.y);\n          if (edge) return this.emit(`${eventType}Edge`, { ...baseEvent, edge });\n        }\n\n        return this.emit(`${eventType}Stage`, baseEvent);\n      };\n    };\n\n    this.activeListeners.handleClick = createMouseListener(\"click\");\n    this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n    this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n    this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n    this.activeListeners.handleDown = createMouseListener(\"down\");\n\n    this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n    this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n    this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n    this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n    this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n    this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n\n    // TODO\n    // Deal with Touch captor events\n\n    return this;\n  }\n\n  /**\n   * Method binding graph handlers\n   *\n   * @return {Sigma}\n   */\n  private bindGraphHandlers(): this {\n    const graph = this.graph;\n\n    this.activeListeners.graphUpdate = () => {\n      this.needToProcess = true;\n      this._scheduleRefresh();\n    };\n\n    this.activeListeners.softGraphUpdate = () => {\n      this.needToSoftProcess = true;\n      this._scheduleRefresh();\n    };\n\n    this.activeListeners.dropNodeGraphUpdate = (e: { key: string }): void => {\n      delete this.nodeDataCache[e.key];\n\n      if (this.hoveredNode === e.key) this.hoveredNode = null;\n\n      this.activeListeners.graphUpdate();\n    };\n\n    this.activeListeners.dropEdgeGraphUpdate = (e: { key: string }): void => {\n      delete this.edgeDataCache[e.key];\n\n      if (this.hoveredEdge === e.key) this.hoveredEdge = null;\n\n      this.activeListeners.graphUpdate();\n    };\n\n    this.activeListeners.clearEdgesGraphUpdate = (): void => {\n      this.edgeDataCache = {};\n      this.hoveredEdge = null;\n\n      this.activeListeners.graphUpdate();\n    };\n\n    this.activeListeners.clearGraphUpdate = (): void => {\n      this.nodeDataCache = {};\n      this.hoveredNode = null;\n\n      this.activeListeners.clearEdgesGraphUpdate();\n    };\n\n    graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n    graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n    graph.on(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n    graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n    graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n    graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n    graph.on(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n    graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n    graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n    graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n\n    return this;\n  }\n\n  /**\n   * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n   *\n   * @return {Sigma}\n   */\n  private checkEdgeHoverEvents(payload: SigmaEventPayload): this {\n    const edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n\n    if (edgeToHover !== this.hoveredEdge) {\n      if (this.hoveredEdge) this.emit(\"leaveEdge\", { ...payload, edge: this.hoveredEdge });\n      if (edgeToHover) this.emit(\"enterEdge\", { ...payload, edge: edgeToHover });\n      this.hoveredEdge = edgeToHover;\n    }\n\n    return this;\n  }\n\n  /**\n   * Method looking for an edge colliding with a given point at (x, y). Returns\n   * the key of the edge if any, or null else.\n   */\n  private getEdgeAtPoint(x: number, y: number): string | null {\n    const { edgeDataCache, nodeDataCache } = this;\n\n    // Check first that pixel is colored:\n    // Note that mouse positions must be corrected by pixel ratio to correctly\n    // index the drawing buffer.\n    if (!isPixelColored(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio)) return null;\n\n    // Check for each edge if it collides with the point:\n    const { x: graphX, y: graphY } = this.viewportToGraph({ x, y });\n\n    // To translate edge thicknesses to the graph system, we observe by how much\n    // the length of a non-null edge is transformed to between the graph system\n    // and the viewport system:\n    let transformationRatio = 0;\n    this.graph.someEdge((key, _, sourceId, targetId, { x: xs, y: ys }, { x: xt, y: yt }) => {\n      if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden) return false;\n\n      if (xs !== xt || ys !== yt) {\n        const graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n\n        const { x: vp_xs, y: vp_ys } = this.graphToViewport({ x: xs, y: ys });\n        const { x: vp_xt, y: vp_yt } = this.graphToViewport({ x: xt, y: yt });\n        const viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n\n        transformationRatio = graphLength / viewportLength;\n        return true;\n      }\n    });\n    // If no non-null edge has been found, return null:\n    if (!transformationRatio) return null;\n\n    // Now we can look for matching edges:\n    const edges = this.graph.filterEdges((key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) => {\n      if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden) return false;\n      if (\n        doEdgeCollideWithPoint(\n          graphX,\n          graphY,\n          sourcePosition.x,\n          sourcePosition.y,\n          targetPosition.x,\n          targetPosition.y,\n          // Adapt the edge size to the zoom ratio:\n          (edgeDataCache[key].size * transformationRatio) / this.cameraSizeRatio,\n        )\n      ) {\n        return true;\n      }\n    });\n\n    if (edges.length === 0) return null; // no edges found\n\n    // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n    let selectedEdge = edges[edges.length - 1];\n\n    // otherwise select edge with highest zIndex\n    let highestZIndex = -Infinity;\n    for (const edge of edges) {\n      const zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n      if (zIndex >= highestZIndex) {\n        selectedEdge = edge;\n        highestZIndex = zIndex;\n      }\n    }\n\n    return selectedEdge;\n  }\n\n  /**\n   * Method used to process the whole graph's data.\n   *\n   * @return {Sigma}\n   */\n  private process(keepArrays = false): this {\n    const graph = this.graph;\n    const settings = this.settings;\n    const dimensions = this.getDimensions();\n\n    const nodeZExtent: [number, number] = [Infinity, -Infinity];\n    const edgeZExtent: [number, number] = [Infinity, -Infinity];\n\n    // Clearing the quad\n    this.quadtree.clear();\n\n    // Resetting the label grid\n    // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n    this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n\n    // Clear the highlightedNodes\n    this.highlightedNodes = new Set();\n\n    // Computing extents\n    this.nodeExtent = graphExtent(graph);\n\n    // Resetting `forceLabel` indices\n    this.nodesWithForcedLabels = [];\n    this.edgesWithForcedLabels = [];\n\n    // NOTE: it is important to compute this matrix after computing the node's extent\n    // because #.getGraphDimensions relies on it\n    const nullCamera = new Camera();\n    const nullCameraMatrix = matrixFromCamera(\n      nullCamera.getState(),\n      this.getDimensions(),\n      this.getGraphDimensions(),\n      this.getSetting(\"stagePadding\") || 0,\n    );\n\n    // Rescaling function\n    this.normalizationFunction = createNormalizationFunction(this.customBBox || this.nodeExtent);\n\n    const nodesPerPrograms: Record<string, number> = {};\n\n    let nodes = graph.nodes();\n\n    for (let i = 0, l = nodes.length; i < l; i++) {\n      const node = nodes[i];\n\n      // Node display data resolution:\n      //   1. First we get the node's attributes\n      //   2. We optionally reduce them using the function provided by the user\n      //      Note that this function must return a total object and won't be merged\n      //   3. We apply our defaults, while running some vital checks\n      //   4. We apply the normalization function\n\n      // We shallow copy node data to avoid dangerous behaviors from reducers\n      let attr = Object.assign({}, graph.getNodeAttributes(node));\n\n      if (settings.nodeReducer) attr = settings.nodeReducer(node, attr);\n\n      const data = applyNodeDefaults(this.settings, node, attr);\n\n      nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n      this.nodeDataCache[node] = data;\n\n      this.normalizationFunction.applyTo(data);\n\n      if (data.forceLabel) this.nodesWithForcedLabels.push(node);\n\n      if (this.settings.zIndex) {\n        if (data.zIndex < nodeZExtent[0]) nodeZExtent[0] = data.zIndex;\n        if (data.zIndex > nodeZExtent[1]) nodeZExtent[1] = data.zIndex;\n      }\n    }\n\n    for (const type in this.nodePrograms) {\n      if (!this.nodePrograms.hasOwnProperty(type)) {\n        throw new Error(`Sigma: could not find a suitable program for node type \"${type}\"!`);\n      }\n\n      if (!keepArrays) this.nodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n      // We reset that count here, so that we can reuse it while calling the Program#process methods:\n      nodesPerPrograms[type] = 0;\n    }\n\n    // Handling node z-index\n    // TODO: z-index needs us to compute display data before hand\n    if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n      nodes = zIndexOrdering<string>(nodeZExtent, (node: string): number => this.nodeDataCache[node].zIndex, nodes);\n\n    for (let i = 0, l = nodes.length; i < l; i++) {\n      const node = nodes[i];\n      const data = this.nodeDataCache[node];\n\n      this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n\n      if (typeof data.label === \"string\" && !data.hidden)\n        this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n\n      this.nodePrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n\n      // Save the node in the highlighted set if needed\n      if (data.highlighted && !data.hidden) this.highlightedNodes.add(node);\n    }\n\n    this.labelGrid.organize();\n\n    const edgesPerPrograms: Record<string, number> = {};\n\n    let edges = graph.edges();\n\n    for (let i = 0, l = edges.length; i < l; i++) {\n      const edge = edges[i];\n\n      // Edge display data resolution:\n      //   1. First we get the edge's attributes\n      //   2. We optionally reduce them using the function provided by the user\n      //      Note that this function must return a total object and won't be merged\n      //   3. We apply our defaults, while running some vital checks\n\n      // We shallow copy edge data to avoid dangerous behaviors from reducers\n      let attr = Object.assign({}, graph.getEdgeAttributes(edge));\n\n      if (settings.edgeReducer) attr = settings.edgeReducer(edge, attr);\n\n      const data = applyEdgeDefaults(this.settings, edge, attr);\n\n      edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n      this.edgeDataCache[edge] = data;\n\n      if (data.forceLabel && !data.hidden) this.edgesWithForcedLabels.push(edge);\n\n      if (this.settings.zIndex) {\n        if (data.zIndex < edgeZExtent[0]) edgeZExtent[0] = data.zIndex;\n        if (data.zIndex > edgeZExtent[1]) edgeZExtent[1] = data.zIndex;\n      }\n    }\n\n    for (const type in this.edgePrograms) {\n      if (!this.edgePrograms.hasOwnProperty(type)) {\n        throw new Error(`Sigma: could not find a suitable program for edge type \"${type}\"!`);\n      }\n\n      if (!keepArrays) this.edgePrograms[type].allocate(edgesPerPrograms[type] || 0);\n      // We reset that count here, so that we can reuse it while calling the Program#process methods:\n      edgesPerPrograms[type] = 0;\n    }\n\n    // Handling edge z-index\n    if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n      edges = zIndexOrdering(edgeZExtent, (edge: string): number => this.edgeDataCache[edge].zIndex, edges);\n\n    for (let i = 0, l = edges.length; i < l; i++) {\n      const edge = edges[i];\n      const data = this.edgeDataCache[edge];\n\n      const extremities = graph.extremities(edge),\n        sourceData = this.nodeDataCache[extremities[0]],\n        targetData = this.nodeDataCache[extremities[1]];\n\n      const hidden = data.hidden || sourceData.hidden || targetData.hidden;\n      this.edgePrograms[data.type].process(sourceData, targetData, data, hidden, edgesPerPrograms[data.type]++);\n    }\n\n    for (const type in this.edgePrograms) {\n      const program = this.edgePrograms[type];\n\n      if (!keepArrays && typeof program.computeIndices === \"function\") program.computeIndices();\n    }\n\n    return this;\n  }\n\n  /**\n   * Method that backports potential settings updates where it's needed.\n   * @private\n   */\n  private handleSettingsUpdate(): this {\n    this.camera.minRatio = this.settings.minCameraRatio;\n    this.camera.maxRatio = this.settings.maxCameraRatio;\n    this.camera.setState(this.camera.validateState(this.camera.getState()));\n\n    return this;\n  }\n\n  /**\n   * Method that decides whether to reprocess graph or not, and then render the\n   * graph.\n   *\n   * @return {Sigma}\n   */\n  private _refresh(): this {\n    // Do we need to process data?\n    if (this.needToProcess) {\n      this.process();\n    } else if (this.needToSoftProcess) {\n      this.process(true);\n    }\n\n    // Resetting state\n    this.needToProcess = false;\n    this.needToSoftProcess = false;\n\n    // Rendering\n    this.render();\n\n    return this;\n  }\n\n  /**\n   * Method that schedules a `_refresh` call if none has been scheduled yet. It\n   * will then be processed next available frame.\n   *\n   * @return {Sigma}\n   */\n  private _scheduleRefresh(): this {\n    if (!this.renderFrame) {\n      this.renderFrame = requestFrame(() => {\n        this._refresh();\n        this.renderFrame = null;\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Method used to render labels.\n   *\n   * @return {Sigma}\n   */\n  private renderLabels(): this {\n    if (!this.settings.renderLabels) return this;\n\n    const cameraState = this.camera.getState();\n\n    // Finding visible nodes to display their labels\n    let visibleNodes: Set<string>;\n\n    if (cameraState.ratio >= 1) {\n      // Camera is unzoomed so no need to ask the quadtree for visible nodes\n      visibleNodes = new Set(this.graph.nodes());\n    } else {\n      // Let's ask the quadtree\n      const viewRectangle = this.viewRectangle();\n\n      visibleNodes = new Set(\n        this.quadtree.rectangle(\n          viewRectangle.x1,\n          1 - viewRectangle.y1,\n          viewRectangle.x2,\n          1 - viewRectangle.y2,\n          viewRectangle.height,\n        ),\n      );\n    }\n\n    // Selecting labels to draw\n    // TODO: drop gridsettings likewise\n    // TODO: optimize through visible nodes\n    const labelsToDisplay = this.labelGrid\n      .getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity)\n      .concat(this.nodesWithForcedLabels);\n    this.displayedLabels = new Set();\n\n    // Drawing labels\n    const context = this.canvasContexts.labels;\n\n    for (let i = 0, l = labelsToDisplay.length; i < l; i++) {\n      const node = labelsToDisplay[i];\n      const data = this.nodeDataCache[node];\n\n      // If the node was already drawn (like if it is eligible AND has\n      // `forceLabel`), we don't want to draw it again\n      if (this.displayedLabels.has(node)) continue;\n\n      // If the node is hidden, we don't need to display its label obviously\n      if (data.hidden) continue;\n\n      const { x, y } = this.framedGraphToViewport(data);\n\n      // TODO: we can cache the labels we need to render until the camera's ratio changes\n      // TODO: this should be computed in the canvas components?\n      const size = this.scaleSize(data.size);\n\n      if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold) continue;\n\n      if (!visibleNodes.has(node)) continue;\n\n      // TODO:\n      // Because displayed edge labels depend directly on actually rendered node\n      // labels, we need to only add to this.displayedLabels nodes whose label\n      // is rendered.\n      // This makes this.displayedLabels depend on viewport, which might become\n      // an issue once we start memoizing getLabelsToDisplay.\n      this.displayedLabels.add(node);\n\n      this.settings.labelRenderer(\n        context,\n        {\n          key: node,\n          ...data,\n          size,\n          x,\n          y,\n        },\n        this.settings,\n      );\n    }\n\n    return this;\n  }\n\n  /**\n   * Method used to render edge labels, based on which node labels were\n   * rendered.\n   *\n   * @return {Sigma}\n   */\n  private renderEdgeLabels(): this {\n    if (!this.settings.renderEdgeLabels) return this;\n\n    const context = this.canvasContexts.edgeLabels;\n\n    // Clearing\n    context.clearRect(0, 0, this.width, this.height);\n\n    const edgeLabelsToDisplay = edgeLabelsToDisplayFromNodes({\n      graph: this.graph,\n      hoveredNode: this.hoveredNode,\n      displayedNodeLabels: this.displayedLabels,\n      highlightedNodes: this.highlightedNodes,\n    }).concat(this.edgesWithForcedLabels);\n    const displayedLabels = new Set<string>();\n\n    for (let i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n      const edge = edgeLabelsToDisplay[i],\n        extremities = this.graph.extremities(edge),\n        sourceData = this.nodeDataCache[extremities[0]],\n        targetData = this.nodeDataCache[extremities[1]],\n        edgeData = this.edgeDataCache[edge];\n\n      // If the edge was already drawn (like if it is eligible AND has\n      // `forceLabel`), we don't want to draw it again\n      if (displayedLabels.has(edge)) continue;\n\n      // If the edge is hidden we don't need to display its label\n      // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n      if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n        continue;\n      }\n\n      this.settings.edgeLabelRenderer(\n        context,\n        {\n          key: edge,\n          ...edgeData,\n          size: this.scaleSize(edgeData.size),\n        },\n        {\n          key: extremities[0],\n          ...sourceData,\n          ...this.framedGraphToViewport(sourceData),\n          size: this.scaleSize(sourceData.size),\n        },\n        {\n          key: extremities[1],\n          ...targetData,\n          ...this.framedGraphToViewport(targetData),\n          size: this.scaleSize(targetData.size),\n        },\n        this.settings,\n      );\n      displayedLabels.add(edge);\n    }\n\n    return this;\n  }\n\n  /**\n   * Method used to render the highlighted nodes.\n   *\n   * @return {Sigma}\n   */\n  private renderHighlightedNodes(): void {\n    const context = this.canvasContexts.hovers;\n\n    // Clearing\n    context.clearRect(0, 0, this.width, this.height);\n\n    // Rendering\n    const render = (node: string): void => {\n      const data = this.nodeDataCache[node];\n\n      const { x, y } = this.framedGraphToViewport(data);\n\n      const size = this.scaleSize(data.size);\n\n      this.settings.hoverRenderer(\n        context,\n        {\n          key: node,\n          ...data,\n          size,\n          x,\n          y,\n        },\n        this.settings,\n      );\n    };\n\n    const nodesToRender: string[] = [];\n\n    if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n      nodesToRender.push(this.hoveredNode);\n    }\n\n    this.highlightedNodes.forEach((node) => {\n      // The hovered node has already been highlighted\n      if (node !== this.hoveredNode) nodesToRender.push(node);\n    });\n\n    // Draw labels:\n    nodesToRender.forEach((node) => render(node));\n\n    // Draw WebGL nodes on top of the labels:\n    const nodesPerPrograms: Record<string, number> = {};\n\n    // 1. Count nodes per type:\n    nodesToRender.forEach((node) => {\n      const type = this.nodeDataCache[node].type;\n      nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n    });\n    // 2. Allocate for each type for the proper number of nodes\n    for (const type in this.hoverNodePrograms) {\n      this.hoverNodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n      // Also reset count, to use when rendering:\n      nodesPerPrograms[type] = 0;\n    }\n    // 3. Process all nodes to render:\n    nodesToRender.forEach((node) => {\n      const data = this.nodeDataCache[node];\n      this.hoverNodePrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n    });\n    // 4. Clear hovered nodes layer:\n    this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n    // 5. Render:\n    for (const type in this.hoverNodePrograms) {\n      const program = this.hoverNodePrograms[type];\n\n      program.bind();\n      program.bufferData();\n      program.render({\n        matrix: this.matrix,\n        width: this.width,\n        height: this.height,\n        ratio: this.camera.ratio,\n        correctionRatio: this.correctionRatio / this.camera.ratio,\n        scalingRatio: this.pixelRatio,\n      });\n    }\n  }\n\n  /**\n   * Method used to schedule a hover render.\n   *\n   */\n  private scheduleHighlightedNodesRender(): void {\n    if (this.renderHighlightedNodesFrame || this.renderFrame) return;\n\n    this.renderHighlightedNodesFrame = requestFrame(() => {\n      // Resetting state\n      this.renderHighlightedNodesFrame = null;\n\n      // Rendering\n      this.renderHighlightedNodes();\n      this.renderEdgeLabels();\n    });\n  }\n\n  /**\n   * Method used to render.\n   *\n   * @return {Sigma}\n   */\n  private render(): this {\n    this.emit(\"beforeRender\");\n\n    const handleEscape = () => {\n      this.emit(\"afterRender\");\n      return this;\n    };\n\n    // If a render was scheduled, we cancel it\n    if (this.renderFrame) {\n      cancelFrame(this.renderFrame);\n      this.renderFrame = null;\n      this.needToProcess = false;\n      this.needToSoftProcess = false;\n    }\n\n    // First we need to resize\n    this.resize();\n\n    // Clearing the canvases\n    this.clear();\n\n    // Recomputing useful camera-related values:\n    this.updateCachedValues();\n\n    // If we have no nodes we can stop right there\n    if (!this.graph.order) return handleEscape();\n\n    // TODO: improve this heuristic or move to the captor itself?\n    // TODO: deal with the touch captor here as well\n    const mouseCaptor = this.mouseCaptor;\n    const moving =\n      this.camera.isAnimated() ||\n      mouseCaptor.isMoving ||\n      mouseCaptor.draggedEvents ||\n      mouseCaptor.currentWheelDirection;\n\n    // Then we need to extract a matrix from the camera\n    const cameraState = this.camera.getState();\n    const viewportDimensions = this.getDimensions();\n    const graphDimensions = this.getGraphDimensions();\n    const padding = this.getSetting(\"stagePadding\") || 0;\n    this.matrix = matrixFromCamera(cameraState, viewportDimensions, graphDimensions, padding);\n    this.invMatrix = matrixFromCamera(cameraState, viewportDimensions, graphDimensions, padding, true);\n    this.correctionRatio = getMatrixImpact(this.matrix, cameraState, viewportDimensions);\n\n    // Drawing nodes\n    for (const type in this.nodePrograms) {\n      const program = this.nodePrograms[type];\n\n      program.bind();\n      program.bufferData();\n      program.render({\n        matrix: this.matrix,\n        width: this.width,\n        height: this.height,\n        ratio: cameraState.ratio,\n        correctionRatio: this.correctionRatio / cameraState.ratio,\n        scalingRatio: this.pixelRatio,\n      });\n    }\n\n    // Drawing edges\n    if (!this.settings.hideEdgesOnMove || !moving) {\n      for (const type in this.edgePrograms) {\n        const program = this.edgePrograms[type];\n\n        program.bind();\n        program.bufferData();\n        program.render({\n          matrix: this.matrix,\n          width: this.width,\n          height: this.height,\n          ratio: cameraState.ratio,\n          correctionRatio: this.correctionRatio / cameraState.ratio,\n          scalingRatio: this.pixelRatio,\n        });\n      }\n    }\n\n    // Do not display labels on move per setting\n    if (this.settings.hideLabelsOnMove && moving) return handleEscape();\n\n    this.renderLabels();\n    this.renderEdgeLabels();\n    this.renderHighlightedNodes();\n\n    return handleEscape();\n  }\n\n  /**\n   * Internal method used to update expensive and therefore cached values\n   * each time the camera state is updated.\n   */\n  private updateCachedValues(): void {\n    const { ratio } = this.camera.getState();\n    this.cameraSizeRatio = Math.sqrt(ratio);\n  }\n\n  /**---------------------------------------------------------------------------\n   * Public API.\n   **---------------------------------------------------------------------------\n   */\n\n  /**\n   * Method returning the renderer's camera.\n   *\n   * @return {Camera}\n   */\n  getCamera(): Camera {\n    return this.camera;\n  }\n\n  /**\n   * Method returning the container DOM element.\n   *\n   * @return {HTMLElement}\n   */\n  getContainer(): HTMLElement {\n    return this.container;\n  }\n\n  /**\n   * Method returning the renderer's graph.\n   *\n   * @return {Graph}\n   */\n  getGraph(): Graph {\n    return this.graph;\n  }\n\n  /**\n   * Method returning the mouse captor.\n   *\n   * @return {MouseCaptor}\n   */\n  getMouseCaptor(): MouseCaptor {\n    return this.mouseCaptor;\n  }\n\n  /**\n   * Method returning the touch captor.\n   *\n   * @return {TouchCaptor}\n   */\n  getTouchCaptor(): TouchCaptor {\n    return this.touchCaptor;\n  }\n\n  /**\n   * Method returning the current renderer's dimensions.\n   *\n   * @return {Dimensions}\n   */\n  getDimensions(): Dimensions {\n    return { width: this.width, height: this.height };\n  }\n\n  /**\n   * Method returning the current graph's dimensions.\n   *\n   * @return {Dimensions}\n   */\n  getGraphDimensions(): Dimensions {\n    const extent = this.customBBox || this.nodeExtent;\n\n    return {\n      width: extent.x[1] - extent.x[0] || 1,\n      height: extent.y[1] - extent.y[0] || 1,\n    };\n  }\n\n  /**\n   * Method used to get all the sigma node attributes.\n   * It's usefull for example to get the position of a node\n   * and to get values that are set by the nodeReducer\n   *\n   * @param  {string} key - The node's key.\n   * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n   */\n  getNodeDisplayData(key: unknown): NodeDisplayData | undefined {\n    const node = this.nodeDataCache[key as string];\n    return node ? Object.assign({}, node) : undefined;\n  }\n\n  /**\n   * Method used to get all the sigma edge attributes.\n   * It's usefull for example to get values that are set by the edgeReducer.\n   *\n   * @param  {string} key - The edge's key.\n   * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n   */\n  getEdgeDisplayData(key: unknown): EdgeDisplayData | undefined {\n    const edge = this.edgeDataCache[key as string];\n    return edge ? Object.assign({}, edge) : undefined;\n  }\n\n  /**\n   * Method returning a copy of the settings collection.\n   *\n   * @return {Settings} A copy of the settings collection.\n   */\n  getSettings(): Settings {\n    return { ...this.settings };\n  }\n\n  /**\n   * Method returning the current value for a given setting key.\n   *\n   * @param  {string} key - The setting key to get.\n   * @return {any} The value attached to this setting key or undefined if not found\n   */\n  getSetting<K extends keyof Settings>(key: K): Settings[K] | undefined {\n    return this.settings[key];\n  }\n\n  /**\n   * Method setting the value of a given setting key. Note that this will schedule\n   * a new render next frame.\n   *\n   * @param  {string} key - The setting key to set.\n   * @param  {any}    value - The value to set.\n   * @return {Sigma}\n   */\n  setSetting<K extends keyof Settings>(key: K, value: Settings[K]): this {\n    this.settings[key] = value;\n    validateSettings(this.settings);\n    this.handleSettingsUpdate();\n    this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n    this._scheduleRefresh();\n    return this;\n  }\n\n  /**\n   * Method updating the value of a given setting key using the provided function.\n   * Note that this will schedule a new render next frame.\n   *\n   * @param  {string}   key     - The setting key to set.\n   * @param  {function} updater - The update function.\n   * @return {Sigma}\n   */\n  updateSetting<K extends keyof Settings>(key: K, updater: (value: Settings[K]) => Settings[K]): this {\n    this.settings[key] = updater(this.settings[key]);\n    validateSettings(this.settings);\n    this.handleSettingsUpdate();\n    this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n    this._scheduleRefresh();\n    return this;\n  }\n\n  /**\n   * Method used to resize the renderer.\n   *\n   * @return {Sigma}\n   */\n  resize(): this {\n    const previousWidth = this.width,\n      previousHeight = this.height;\n\n    this.width = this.container.offsetWidth;\n    this.height = this.container.offsetHeight;\n    this.pixelRatio = getPixelRatio();\n\n    if (this.width === 0) {\n      if (this.settings.allowInvalidContainer) this.width = 1;\n      else\n        throw new Error(\n          \"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.\",\n        );\n    }\n\n    if (this.height === 0) {\n      if (this.settings.allowInvalidContainer) this.height = 1;\n      else\n        throw new Error(\n          \"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.\",\n        );\n    }\n\n    // If nothing has changed, we can stop right here\n    if (previousWidth === this.width && previousHeight === this.height) return this;\n\n    this.emit(\"resize\");\n\n    // Sizing dom elements\n    for (const id in this.elements) {\n      const element = this.elements[id];\n\n      element.style.width = this.width + \"px\";\n      element.style.height = this.height + \"px\";\n    }\n\n    // Sizing canvas contexts\n    for (const id in this.canvasContexts) {\n      this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n      this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n\n      if (this.pixelRatio !== 1) this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n    }\n\n    // Sizing WebGL contexts\n    for (const id in this.webGLContexts) {\n      this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n      this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n\n      this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n    }\n\n    return this;\n  }\n\n  /**\n   * Method used to clear all the canvases.\n   *\n   * @return {Sigma}\n   */\n  clear(): this {\n    this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n    this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n    this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n    this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n    this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n    this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n\n    return this;\n  }\n\n  /**\n   * Method used to refresh all computed data.\n   *\n   * @return {Sigma}\n   */\n  refresh(): this {\n    this.needToProcess = true;\n    this._refresh();\n\n    return this;\n  }\n\n  /**\n   * Method used to refresh all computed data, at the next available frame.\n   * If this method has already been called this frame, then it will only render once at the next available frame.\n   *\n   * @return {Sigma}\n   */\n  scheduleRefresh(): this {\n    this.needToProcess = true;\n    this._scheduleRefresh();\n\n    return this;\n  }\n\n  /**\n   * Method used to (un)zoom, while preserving the position of a viewport point.\n   * Used for instance to zoom \"on the mouse cursor\".\n   *\n   * @param viewportTarget\n   * @param newRatio\n   * @return {CameraState}\n   */\n  getViewportZoomedState(viewportTarget: Coordinates, newRatio: number): CameraState {\n    const { ratio, angle, x, y } = this.camera.getState();\n\n    // TODO: handle max zoom\n    const ratioDiff = newRatio / ratio;\n\n    const center = {\n      x: this.width / 2,\n      y: this.height / 2,\n    };\n\n    const graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n    const graphCenterPosition = this.viewportToFramedGraph(center);\n\n    return {\n      angle,\n      x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n      y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n      ratio: newRatio,\n    };\n  }\n\n  /**\n   * Method returning the abstract rectangle containing the graph according\n   * to the camera's state.\n   *\n   * @return {object} - The view's rectangle.\n   */\n  viewRectangle(): {\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n    height: number;\n  } {\n    // TODO: reduce relative margin?\n    const marginX = (0 * this.width) / 8,\n      marginY = (0 * this.height) / 8;\n\n    const p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }),\n      p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }),\n      h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n\n    return {\n      x1: p1.x,\n      y1: p1.y,\n      x2: p2.x,\n      y2: p2.y,\n      height: p2.y - h.y,\n    };\n  }\n\n  /**\n   * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n   * overriding anything that is used to get the translation matrix, or even the matrix itself.\n   *\n   * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n   * of computations.\n   */\n  framedGraphToViewport(coordinates: Coordinates, override: CoordinateConversionOverride = {}): Coordinates {\n    const recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n    const matrix = override.matrix\n      ? override.matrix\n      : recomputeMatrix\n      ? matrixFromCamera(\n          override.cameraState || this.camera.getState(),\n          override.viewportDimensions || this.getDimensions(),\n          override.graphDimensions || this.getGraphDimensions(),\n          override.padding || this.getSetting(\"stagePadding\") || 0,\n        )\n      : this.matrix;\n\n    const viewportPos = multiplyVec2(matrix, coordinates);\n\n    return {\n      x: ((1 + viewportPos.x) * this.width) / 2,\n      y: ((1 - viewportPos.y) * this.height) / 2,\n    };\n  }\n\n  /**\n   * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n   * overriding anything that is used to get the translation matrix, or even the matrix itself.\n   *\n   * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n   * of computations.\n   */\n  viewportToFramedGraph(coordinates: Coordinates, override: CoordinateConversionOverride = {}): Coordinates {\n    const recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n    const invMatrix = override.matrix\n      ? override.matrix\n      : recomputeMatrix\n      ? matrixFromCamera(\n          override.cameraState || this.camera.getState(),\n          override.viewportDimensions || this.getDimensions(),\n          override.graphDimensions || this.getGraphDimensions(),\n          override.padding || this.getSetting(\"stagePadding\") || 0,\n          true,\n        )\n      : this.invMatrix;\n\n    const res = multiplyVec2(invMatrix, {\n      x: (coordinates.x / this.width) * 2 - 1,\n      y: 1 - (coordinates.y / this.height) * 2,\n    });\n\n    if (isNaN(res.x)) res.x = 0;\n    if (isNaN(res.y)) res.y = 0;\n\n    return res;\n  }\n\n  /**\n   * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n   * stage) to the graph system (the reference system of data as they are in the given graph instance).\n   *\n   * This method accepts an optional camera which can be useful if you need to translate coordinates\n   * based on a different view than the one being currently being displayed on screen.\n   *\n   * @param {Coordinates}                  viewportPoint\n   * @param {CoordinateConversionOverride} override\n   */\n  viewportToGraph(viewportPoint: Coordinates, override: CoordinateConversionOverride = {}): Coordinates {\n    return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n  }\n\n  /**\n   * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n   * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n   *\n   * This method accepts an optional camera which can be useful if you need to translate coordinates\n   * based on a different view than the one being currently being displayed on screen.\n   *\n   * @param {Coordinates}                  graphPoint\n   * @param {CoordinateConversionOverride} override\n   */\n  graphToViewport(graphPoint: Coordinates, override: CoordinateConversionOverride = {}): Coordinates {\n    return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n  }\n\n  /**\n   * Method returning the graph's bounding box.\n   *\n   * @return {{ x: Extent, y: Extent }}\n   */\n  getBBox(): { x: Extent; y: Extent } {\n    return graphExtent(this.graph);\n  }\n\n  /**\n   * Method returning the graph's custom bounding box, if any.\n   *\n   * @return {{ x: Extent, y: Extent } | null}\n   */\n  getCustomBBox(): { x: Extent; y: Extent } | null {\n    return this.customBBox;\n  }\n\n  /**\n   * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n   *\n   * @return {Sigma}\n   */\n  setCustomBBox(customBBox: { x: Extent; y: Extent } | null): this {\n    this.customBBox = customBBox;\n    this._scheduleRefresh();\n    return this;\n  }\n\n  /**\n   * Method used to shut the container & release event listeners.\n   *\n   * @return {undefined}\n   */\n  kill(): void {\n    const graph = this.graph;\n\n    // Emitting \"kill\" events so that plugins and such can cleanup\n    this.emit(\"kill\");\n\n    // Releasing events\n    this.removeAllListeners();\n\n    // Releasing camera handlers\n    this.camera.removeListener(\"updated\", this.activeListeners.camera);\n\n    // Releasing DOM events & captors\n    window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n    this.mouseCaptor.kill();\n    this.touchCaptor.kill();\n\n    // Releasing graph handlers\n    graph.removeListener(\"nodeAdded\", this.activeListeners.dropNodeGraphUpdate);\n    graph.removeListener(\"nodeDropped\", this.activeListeners.graphUpdate);\n    graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n    graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n    graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n    graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n    graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n    graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n    graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n    graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n\n    // Releasing cache & state\n    this.quadtree = new QuadTree();\n    this.nodeDataCache = {};\n    this.edgeDataCache = {};\n    this.nodesWithForcedLabels = [];\n    this.edgesWithForcedLabels = [];\n\n    this.highlightedNodes.clear();\n\n    // Clearing frames\n    if (this.renderFrame) {\n      cancelFrame(this.renderFrame);\n      this.renderFrame = null;\n    }\n\n    if (this.renderHighlightedNodesFrame) {\n      cancelFrame(this.renderHighlightedNodesFrame);\n      this.renderHighlightedNodesFrame = null;\n    }\n\n    // Destroying canvases\n    const container = this.container;\n\n    while (container.firstChild) container.removeChild(container.firstChild);\n  }\n\n  /**\n   * Method used to scale the given size according to the camera's ratio, i.e.\n   * zooming state.\n   *\n   * @param  {number} size - The size to scale (node size, edge thickness etc.).\n   * @return {number}      - The scaled size.\n   */\n  scaleSize(size: number): number {\n    return size / this.cameraSizeRatio;\n  }\n\n  /**\n   * Method that returns the collection of all used canvases.\n   * At the moment, the instantiated canvases are the following, and in the\n   * following order in the DOM:\n   * - `edges`\n   * - `nodes`\n   * - `edgeLabels`\n   * - `labels`\n   * - `hovers`\n   * - `hoverNodes`\n   * - `mouse`\n   *\n   * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n   */\n  getCanvases(): PlainObject<HTMLCanvasElement> {\n    return { ...this.elements };\n  }\n}\n","/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nimport { EventEmitter } from \"events\";\n\n/**\n * Util type to represent maps of typed elements, but implemented with\n * JavaScript objects.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type PlainObject<T = any> = { [k: string]: T };\n\n/**\n * Returns a type similar to T, but with the the K set of properties of the type\n * T *required*, and the rest optional.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type PartialButFor<T, K extends keyof T> = Pick<T, K> & Partial<Omit<T, K>> & { [others: string]: any };\n\nexport interface Coordinates {\n  x: number;\n  y: number;\n}\n\nexport interface CameraState extends Coordinates {\n  angle: number;\n  ratio: number;\n}\n\nexport type MouseInteraction = \"click\" | \"doubleClick\" | \"rightClick\" | \"wheel\" | \"down\";\n\nexport interface MouseCoords extends Coordinates {\n  sigmaDefaultPrevented: boolean;\n  preventSigmaDefault(): void;\n  original: MouseEvent;\n}\n\nexport interface WheelCoords extends MouseCoords {\n  delta: number; // This will store the delta actually used by sigma\n}\n\nexport interface TouchCoords {\n  touches: Coordinates[];\n  original: TouchEvent;\n}\n\nexport interface Dimensions {\n  width: number;\n  height: number;\n}\n\nexport type Extent = [number, number];\n\nexport interface DisplayData {\n  label: string | null;\n  size: number;\n  color: string;\n  hidden: boolean;\n  forceLabel: boolean;\n  zIndex: number;\n  type: string;\n}\n\nexport interface NodeDisplayData extends Coordinates, DisplayData {\n  highlighted: boolean;\n}\n\nexport interface EdgeDisplayData extends DisplayData {}\n\nexport type CoordinateConversionOverride = {\n  cameraState?: CameraState;\n  matrix?: Float32Array;\n  viewportDimensions?: Dimensions;\n  graphDimensions?: Dimensions;\n  padding?: number;\n};\n\n/**\n * Custom event emitter types.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Listener = (...args: any[]) => void;\nexport type EventsMapping = Record<string, Listener>;\n\ninterface ITypedEventEmitter<Events extends EventsMapping> {\n  rawEmitter: EventEmitter;\n\n  eventNames<Event extends keyof Events>(): Array<Event>;\n  setMaxListeners(n: number): this;\n  getMaxListeners(): number;\n  emit<Event extends keyof Events>(type: Event, ...args: Parameters<Events[Event]>): boolean;\n  addListener<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  on<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  once<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  prependListener<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  prependOnceListener<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  removeListener<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  off<Event extends keyof Events>(type: Event, listener: Events[Event]): this;\n  removeAllListeners<Event extends keyof Events>(type?: Event): this;\n  listeners<Event extends keyof Events>(type: Event): Events[Event][];\n  listenerCount<Event extends keyof Events>(type: Event): number;\n  rawListeners<Event extends keyof Events>(type: Event): Events[Event][];\n}\n\nexport class TypedEventEmitter<Events extends EventsMapping> extends (EventEmitter as unknown as {\n  new <T extends EventsMapping>(): ITypedEventEmitter<T>;\n})<Events> {\n  constructor() {\n    super();\n    this.rawEmitter = this as EventEmitter;\n  }\n}\n","/**\n * Sigma.js Animation Helpers\n * ===========================\n *\n * Handy helper functions dealing with nodes & edges attributes animation.\n * @module\n */\nimport Graph from \"graphology-types\";\nimport { PlainObject } from \"../types\";\nimport { cancelFrame, requestFrame } from \"./index\";\nimport easings from \"./easings\";\n\n/**\n * Defaults.\n */\nexport type Easing = keyof typeof easings | ((k: number) => number);\n\nexport interface AnimateOptions {\n  easing: Easing;\n  duration: number;\n}\nexport const ANIMATE_DEFAULTS = {\n  easing: \"quadraticInOut\",\n  duration: 150,\n};\n\n/**\n * Function used to animate the nodes.\n */\nexport function animateNodes(\n  graph: Graph,\n  targets: PlainObject<PlainObject<number>>,\n  opts: Partial<AnimateOptions>,\n  callback?: () => void,\n): () => void {\n  const options: AnimateOptions = Object.assign({}, ANIMATE_DEFAULTS, opts);\n\n  const easing: (k: number) => number = typeof options.easing === \"function\" ? options.easing : easings[options.easing];\n\n  const start = Date.now();\n\n  const startPositions: PlainObject<PlainObject<number>> = {};\n\n  for (const node in targets) {\n    const attrs = targets[node];\n    startPositions[node] = {};\n\n    for (const k in attrs) startPositions[node][k] = graph.getNodeAttribute(node, k);\n  }\n\n  let frame: number | null = null;\n\n  const step = () => {\n    frame = null;\n\n    let p = (Date.now() - start) / options.duration;\n\n    if (p >= 1) {\n      // Animation is done\n      for (const node in targets) {\n        const attrs = targets[node];\n\n        // We use given values to avoid precision issues and for convenience\n        for (const k in attrs) graph.setNodeAttribute(node, k, attrs[k]);\n      }\n\n      if (typeof callback === \"function\") callback();\n\n      return;\n    }\n\n    p = easing(p);\n\n    for (const node in targets) {\n      const attrs = targets[node];\n      const s = startPositions[node];\n\n      for (const k in attrs) graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n    }\n\n    frame = requestFrame(step);\n  };\n\n  step();\n\n  return () => {\n    if (frame) cancelFrame(frame);\n  };\n}\n","export const HTML_COLORS: Record<string, string> = {\n  black: \"#000000\",\n  silver: \"#C0C0C0\",\n  gray: \"#808080\",\n  grey: \"#808080\",\n  white: \"#FFFFFF\",\n  maroon: \"#800000\",\n  red: \"#FF0000\",\n  purple: \"#800080\",\n  fuchsia: \"#FF00FF\",\n  green: \"#008000\",\n  lime: \"#00FF00\",\n  olive: \"#808000\",\n  yellow: \"#FFFF00\",\n  navy: \"#000080\",\n  blue: \"#0000FF\",\n  teal: \"#008080\",\n  aqua: \"#00FFFF\",\n  darkblue: \"#00008B\",\n  mediumblue: \"#0000CD\",\n  darkgreen: \"#006400\",\n  darkcyan: \"#008B8B\",\n  deepskyblue: \"#00BFFF\",\n  darkturquoise: \"#00CED1\",\n  mediumspringgreen: \"#00FA9A\",\n  springgreen: \"#00FF7F\",\n  cyan: \"#00FFFF\",\n  midnightblue: \"#191970\",\n  dodgerblue: \"#1E90FF\",\n  lightseagreen: \"#20B2AA\",\n  forestgreen: \"#228B22\",\n  seagreen: \"#2E8B57\",\n  darkslategray: \"#2F4F4F\",\n  darkslategrey: \"#2F4F4F\",\n  limegreen: \"#32CD32\",\n  mediumseagreen: \"#3CB371\",\n  turquoise: \"#40E0D0\",\n  royalblue: \"#4169E1\",\n  steelblue: \"#4682B4\",\n  darkslateblue: \"#483D8B\",\n  mediumturquoise: \"#48D1CC\",\n  indigo: \"#4B0082\",\n  darkolivegreen: \"#556B2F\",\n  cadetblue: \"#5F9EA0\",\n  cornflowerblue: \"#6495ED\",\n  rebeccapurple: \"#663399\",\n  mediumaquamarine: \"#66CDAA\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  slateblue: \"#6A5ACD\",\n  olivedrab: \"#6B8E23\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  mediumslateblue: \"#7B68EE\",\n  lawngreen: \"#7CFC00\",\n  chartreuse: \"#7FFF00\",\n  aquamarine: \"#7FFFD4\",\n  skyblue: \"#87CEEB\",\n  lightskyblue: \"#87CEFA\",\n  blueviolet: \"#8A2BE2\",\n  darkred: \"#8B0000\",\n  darkmagenta: \"#8B008B\",\n  saddlebrown: \"#8B4513\",\n  darkseagreen: \"#8FBC8F\",\n  lightgreen: \"#90EE90\",\n  mediumpurple: \"#9370DB\",\n  darkviolet: \"#9400D3\",\n  palegreen: \"#98FB98\",\n  darkorchid: \"#9932CC\",\n  yellowgreen: \"#9ACD32\",\n  sienna: \"#A0522D\",\n  brown: \"#A52A2A\",\n  darkgray: \"#A9A9A9\",\n  darkgrey: \"#A9A9A9\",\n  lightblue: \"#ADD8E6\",\n  greenyellow: \"#ADFF2F\",\n  paleturquoise: \"#AFEEEE\",\n  lightsteelblue: \"#B0C4DE\",\n  powderblue: \"#B0E0E6\",\n  firebrick: \"#B22222\",\n  darkgoldenrod: \"#B8860B\",\n  mediumorchid: \"#BA55D3\",\n  rosybrown: \"#BC8F8F\",\n  darkkhaki: \"#BDB76B\",\n  mediumvioletred: \"#C71585\",\n  indianred: \"#CD5C5C\",\n  peru: \"#CD853F\",\n  chocolate: \"#D2691E\",\n  tan: \"#D2B48C\",\n  lightgray: \"#D3D3D3\",\n  lightgrey: \"#D3D3D3\",\n  thistle: \"#D8BFD8\",\n  orchid: \"#DA70D6\",\n  goldenrod: \"#DAA520\",\n  palevioletred: \"#DB7093\",\n  crimson: \"#DC143C\",\n  gainsboro: \"#DCDCDC\",\n  plum: \"#DDA0DD\",\n  burlywood: \"#DEB887\",\n  lightcyan: \"#E0FFFF\",\n  lavender: \"#E6E6FA\",\n  darksalmon: \"#E9967A\",\n  violet: \"#EE82EE\",\n  palegoldenrod: \"#EEE8AA\",\n  lightcoral: \"#F08080\",\n  khaki: \"#F0E68C\",\n  aliceblue: \"#F0F8FF\",\n  honeydew: \"#F0FFF0\",\n  azure: \"#F0FFFF\",\n  sandybrown: \"#F4A460\",\n  wheat: \"#F5DEB3\",\n  beige: \"#F5F5DC\",\n  whitesmoke: \"#F5F5F5\",\n  mintcream: \"#F5FFFA\",\n  ghostwhite: \"#F8F8FF\",\n  salmon: \"#FA8072\",\n  antiquewhite: \"#FAEBD7\",\n  linen: \"#FAF0E6\",\n  lightgoldenrodyellow: \"#FAFAD2\",\n  oldlace: \"#FDF5E6\",\n  magenta: \"#FF00FF\",\n  deeppink: \"#FF1493\",\n  orangered: \"#FF4500\",\n  tomato: \"#FF6347\",\n  hotpink: \"#FF69B4\",\n  coral: \"#FF7F50\",\n  darkorange: \"#FF8C00\",\n  lightsalmon: \"#FFA07A\",\n  orange: \"#FFA500\",\n  lightpink: \"#FFB6C1\",\n  pink: \"#FFC0CB\",\n  gold: \"#FFD700\",\n  peachpuff: \"#FFDAB9\",\n  navajowhite: \"#FFDEAD\",\n  moccasin: \"#FFE4B5\",\n  bisque: \"#FFE4C4\",\n  mistyrose: \"#FFE4E1\",\n  blanchedalmond: \"#FFEBCD\",\n  papayawhip: \"#FFEFD5\",\n  lavenderblush: \"#FFF0F5\",\n  seashell: \"#FFF5EE\",\n  cornsilk: \"#FFF8DC\",\n  lemonchiffon: \"#FFFACD\",\n  floralwhite: \"#FFFAF0\",\n  snow: \"#FFFAFA\",\n  lightyellow: \"#FFFFE0\",\n  ivory: \"#FFFFF0\",\n};\n","/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nexport const linear = (k: number): number => k;\n\nexport const quadraticIn = (k: number): number => k * k;\n\nexport const quadraticOut = (k: number): number => k * (2 - k);\n\nexport const quadraticInOut = (k: number): number => {\n  if ((k *= 2) < 1) return 0.5 * k * k;\n  return -0.5 * (--k * (k - 2) - 1);\n};\n\nexport const cubicIn = (k: number): number => k * k * k;\n\nexport const cubicOut = (k: number): number => --k * k * k + 1;\n\nexport const cubicInOut = (k: number): number => {\n  if ((k *= 2) < 1) return 0.5 * k * k * k;\n  return 0.5 * ((k -= 2) * k * k + 2);\n};\n\nconst easings: { [key: string]: (k: number) => number } = {\n  linear,\n  quadraticIn,\n  quadraticOut,\n  quadraticInOut,\n  cubicIn,\n  cubicOut,\n  cubicInOut,\n};\nexport default easings;\n","/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nexport function isPixelColored(gl: WebGLRenderingContext, x: number, y: number): boolean {\n  const pixels = new Uint8Array(4);\n  gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n  return pixels[3] > 0;\n}\n\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nexport function doEdgeCollideWithPoint(\n  x: number,\n  y: number,\n  xS: number,\n  yS: number,\n  xT: number,\n  yT: number,\n  thickness: number,\n): boolean {\n  // Check first if point is out of the rectangle which opposite corners are the\n  // source and the target, rectangle we expand by `thickness` in every\n  // directions:\n  if (x < xS - thickness && x < xT - thickness) return false;\n  if (y < yS - thickness && y < yT - thickness) return false;\n  if (x > xS + thickness && x > xT + thickness) return false;\n  if (y > yS + thickness && y > yT + thickness) return false;\n\n  // Check actual collision now: Since we now the point is in this big rectangle\n  // we \"just\" need to check that the distance between the point and the line\n  // connecting the source and the target is less than `thickness`:\n  // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n  const distance =\n    Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n\n  return distance < thickness / 2;\n}\n","/**\n * Sigma.js Utils\n * ===============\n *\n * Various helper functions & classes used throughout the library.\n * @module\n */\nimport Graph, { Attributes } from \"graphology-types\";\nimport isGraph from \"graphology-utils/is-graph\";\nimport { CameraState, Coordinates, Dimensions, Extent, PlainObject } from \"../types\";\nimport { multiply, identity, scale, rotate, translate, multiplyVec2 } from \"./matrices\";\nimport { HTML_COLORS } from \"./data\";\n\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function isPlainObject(value: any): boolean {\n  return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\n\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexport function assign<T>(target: Partial<T> | undefined, ...objects: Array<Partial<T | undefined>>): T {\n  target = target || {};\n\n  for (let i = 0, l = objects.length; i < l; i++) {\n    const o = objects[i];\n\n    if (!o) continue;\n\n    Object.assign(target, o);\n  }\n\n  return target as T;\n}\n\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexport function assignDeep<T>(target: Partial<T> | undefined, ...objects: Array<Partial<T | undefined>>): T {\n  target = target || {};\n\n  for (let i = 0, l = objects.length; i < l; i++) {\n    const o = objects[i];\n\n    if (!o) continue;\n\n    for (const k in o) {\n      if (isPlainObject(o[k])) {\n        target[k] = assignDeep(target[k], o[k]);\n      } else {\n        target[k] = o[k];\n      }\n    }\n  }\n\n  return target as T;\n}\n\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexport const requestFrame =\n  typeof requestAnimationFrame !== \"undefined\"\n    ? (callback: FrameRequestCallback) => requestAnimationFrame(callback)\n    : (callback: FrameRequestCallback) => setTimeout(callback, 0);\nexport const cancelFrame =\n  typeof cancelAnimationFrame !== \"undefined\"\n    ? (requestID: number) => cancelAnimationFrame(requestID)\n    : (requestID: number) => clearTimeout(requestID);\n\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nexport function createElement<T extends HTMLElement>(\n  tag: string,\n  style?: Partial<CSSStyleDeclaration>,\n  attributes?: PlainObject<string>,\n): T {\n  const element: T = document.createElement(tag) as T;\n\n  if (style) {\n    for (const k in style) {\n      element.style[k] = style[k] as string;\n    }\n  }\n\n  if (attributes) {\n    for (const k in attributes) {\n      element.setAttribute(k, attributes[k]);\n    }\n  }\n\n  return element;\n}\n\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nexport function getPixelRatio(): number {\n  if (typeof window.devicePixelRatio !== \"undefined\") return window.devicePixelRatio;\n\n  return 1;\n}\n\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nexport function graphExtent(graph: Graph): { x: Extent; y: Extent } {\n  if (!graph.order) return { x: [0, 1], y: [0, 1] };\n\n  let xMin = Infinity;\n  let xMax = -Infinity;\n  let yMin = Infinity;\n  let yMax = -Infinity;\n\n  graph.forEachNode((_, attr) => {\n    const { x, y } = attr;\n\n    if (x < xMin) xMin = x;\n    if (x > xMax) xMax = x;\n\n    if (y < yMin) yMin = y;\n    if (y > yMax) yMax = y;\n  });\n\n  return { x: [xMin, xMax], y: [yMin, yMax] };\n}\n\n/**\n * Factory returning a function normalizing the given node's position & size.\n *\n * @param  {object}   extent  - Extent of the graph.\n * @return {function}\n */\nexport interface NormalizationFunction {\n  (data: Coordinates): Coordinates;\n  ratio: number;\n  inverse(data: Coordinates): Coordinates;\n  applyTo(data: Coordinates): void;\n}\nexport function createNormalizationFunction(extent: { x: Extent; y: Extent }): NormalizationFunction {\n  const {\n    x: [minX, maxX],\n    y: [minY, maxY],\n  } = extent;\n\n  let ratio = Math.max(maxX - minX, maxY - minY),\n    dX = (maxX + minX) / 2,\n    dY = (maxY + minY) / 2;\n\n  if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio)) ratio = 1;\n  if (isNaN(dX)) dX = 0;\n  if (isNaN(dY)) dY = 0;\n\n  const fn = (data: Coordinates): Coordinates => {\n    return {\n      x: 0.5 + (data.x - dX) / ratio,\n      y: 0.5 + (data.y - dY) / ratio,\n    };\n  };\n\n  // TODO: possibility to apply this in batch over array of indices\n  fn.applyTo = (data: Coordinates): void => {\n    data.x = 0.5 + (data.x - dX) / ratio;\n    data.y = 0.5 + (data.y - dY) / ratio;\n  };\n\n  fn.inverse = (data: Coordinates): Coordinates => {\n    return {\n      x: dX + ratio * (data.x - 0.5),\n      y: dY + ratio * (data.y - 0.5),\n    };\n  };\n\n  fn.ratio = ratio;\n\n  return fn;\n}\n\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nexport function zIndexOrdering<T>(extent: Extent, getter: (e: T) => number, elements: Array<T>): Array<T> {\n  // If k is > n, we'll use a standard sort\n  return elements.sort(function (a, b) {\n    const zA = getter(a) || 0,\n      zB = getter(b) || 0;\n\n    if (zA < zB) return -1;\n    if (zA > zB) return 1;\n\n    return 0;\n  });\n\n  // TODO: counting sort optimization\n}\n\n/**\n * WebGL utils\n * ===========\n */\n\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nconst INT8 = new Int8Array(4);\nconst INT32 = new Int32Array(INT8.buffer, 0, 1);\nconst FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\n\nconst RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nconst RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\n\ntype RGBAColor = { r: number; g: number; b: number; a: number };\n\nexport function parseColor(val: string): RGBAColor {\n  let r = 0; // byte\n  let g = 0; // byte\n  let b = 0; // byte\n  let a = 1; // float\n\n  // Handling hexadecimal notation\n  if (val[0] === \"#\") {\n    if (val.length === 4) {\n      r = parseInt(val.charAt(1) + val.charAt(1), 16);\n      g = parseInt(val.charAt(2) + val.charAt(2), 16);\n      b = parseInt(val.charAt(3) + val.charAt(3), 16);\n    } else {\n      r = parseInt(val.charAt(1) + val.charAt(2), 16);\n      g = parseInt(val.charAt(3) + val.charAt(4), 16);\n      b = parseInt(val.charAt(5) + val.charAt(6), 16);\n    }\n    if (val.length === 9) {\n      a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n    }\n  }\n\n  // Handling rgb notation\n  else if (RGBA_TEST_REGEX.test(val)) {\n    const match = val.match(RGBA_EXTRACT_REGEX);\n    if (match) {\n      r = +match[1];\n      g = +match[2];\n      b = +match[3];\n\n      if (match[4]) a = +match[4];\n    }\n  }\n\n  return { r, g, b, a };\n}\n\nconst FLOAT_COLOR_CACHE: { [key: string]: number } = {};\nfor (const htmlColor in HTML_COLORS) {\n  FLOAT_COLOR_CACHE[htmlColor] = floatColor(HTML_COLORS[htmlColor]);\n  // Replicating cache for hex values for free\n  FLOAT_COLOR_CACHE[HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\n\nexport function floatArrayColor(val: string): Float32Array {\n  val = HTML_COLORS[val] || val;\n\n  // NOTE: this variant is not cached because it is mostly used for uniforms\n  const { r, g, b, a } = parseColor(val);\n\n  return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\n\nexport function floatColor(val: string): number {\n  // If the color is already computed, we yield it\n  if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\") return FLOAT_COLOR_CACHE[val];\n\n  const parsed = parseColor(val);\n  const { r, g, b } = parsed;\n  let { a } = parsed;\n\n  a = (a * 255) | 0;\n\n  INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n\n  const color = FLOAT32[0];\n\n  FLOAT_COLOR_CACHE[val] = color;\n\n  return color;\n}\n\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nexport function getCorrectionRatio(\n  viewportDimensions: { width: number; height: number },\n  graphDimensions: { width: number; height: number },\n): number {\n  const viewportRatio = viewportDimensions.height / viewportDimensions.width;\n  const graphRatio = graphDimensions.height / graphDimensions.width;\n\n  // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n  // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n  if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n    return 1;\n  }\n\n  // Else, we need to fit the graph inside the stage:\n  // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n  // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n  return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\n\n/**\n * Function returning a matrix from the current state of the camera.\n */\n\n// TODO: it's possible to optimize this drastically!\nexport function matrixFromCamera(\n  state: CameraState,\n  viewportDimensions: { width: number; height: number },\n  graphDimensions: { width: number; height: number },\n  padding: number,\n  inverse?: boolean,\n): Float32Array {\n  const { angle, ratio, x, y } = state;\n\n  const { width, height } = viewportDimensions;\n\n  const matrix = identity();\n\n  const smallestDimension = Math.min(width, height) - 2 * padding;\n\n  const correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n\n  if (!inverse) {\n    multiply(\n      matrix,\n      scale(\n        identity(),\n        2 * (smallestDimension / width) * correctionRatio,\n        2 * (smallestDimension / height) * correctionRatio,\n      ),\n    );\n    multiply(matrix, rotate(identity(), -angle));\n    multiply(matrix, scale(identity(), 1 / ratio));\n    multiply(matrix, translate(identity(), -x, -y));\n  } else {\n    multiply(matrix, translate(identity(), x, y));\n    multiply(matrix, scale(identity(), ratio));\n    multiply(matrix, rotate(identity(), angle));\n    multiply(\n      matrix,\n      scale(\n        identity(),\n        width / smallestDimension / 2 / correctionRatio,\n        height / smallestDimension / 2 / correctionRatio,\n      ),\n    );\n  }\n\n  return matrix;\n}\n\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nexport function getMatrixImpact(\n  matrix: Float32Array,\n  cameraState: CameraState,\n  viewportDimensions: Dimensions,\n): number {\n  const { x, y } = multiplyVec2(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0);\n  return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\n\n/**\n * Function extracting the color at the given pixel.\n */\nexport function extractPixel(gl: WebGLRenderingContext, x: number, y: number, array: Uint8Array): Uint8Array {\n  const data = array || new Uint8Array(4);\n\n  gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\n  return data;\n}\n\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nexport function canUse32BitsIndices(gl: WebGLRenderingContext): boolean {\n  const webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n\n  return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\n\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nexport function validateGraph(graph: Graph): void {\n  // check if it's a valid graphology instance\n  if (!isGraph(graph)) throw new Error(\"Sigma: invalid graph instance.\");\n\n  // check if nodes have x/y attributes\n  graph.forEachNode((key: string, attributes: Attributes) => {\n    if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n      throw new Error(\n        `Sigma: Coordinates of node ${key} are invalid. A node must have a numeric 'x' and 'y' attribute.`,\n      );\n    }\n  });\n}\n","/**\n * Sigma.js WebGL Matrices Helpers\n * ================================\n *\n * Matrices-related helper functions used by sigma's WebGL renderer.\n * @module\n */\nimport { Coordinates } from \"../types\";\n\nexport function identity(): Float32Array {\n  return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\n\n// TODO: optimize\nexport function scale(m: Float32Array, x: number, y?: number): Float32Array {\n  m[0] = x;\n  m[4] = typeof y === \"number\" ? y : x;\n\n  return m;\n}\n\nexport function rotate(m: Float32Array, r: number): Float32Array {\n  const s = Math.sin(r),\n    c = Math.cos(r);\n\n  m[0] = c;\n  m[1] = s;\n  m[3] = -s;\n  m[4] = c;\n\n  return m;\n}\n\nexport function translate(m: Float32Array, x: number, y: number): Float32Array {\n  m[6] = x;\n  m[7] = y;\n\n  return m;\n}\n\nexport function multiply<T extends number[] | Float32Array>(a: T, b: Float32Array | number[]): T {\n  const a00 = a[0],\n    a01 = a[1],\n    a02 = a[2];\n  const a10 = a[3],\n    a11 = a[4],\n    a12 = a[5];\n  const a20 = a[6],\n    a21 = a[7],\n    a22 = a[8];\n\n  const b00 = b[0],\n    b01 = b[1],\n    b02 = b[2];\n  const b10 = b[3],\n    b11 = b[4],\n    b12 = b[5];\n  const b20 = b[6],\n    b21 = b[7],\n    b22 = b[8];\n\n  a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n\n  return a;\n}\n\nexport function multiplyVec2(a: Float32Array | number[], b: Coordinates, z = 1): Coordinates {\n  const a00 = a[0];\n  const a01 = a[1];\n  const a10 = a[3];\n  const a11 = a[4];\n  const a20 = a[6];\n  const a21 = a[7];\n\n  const b0 = b.x;\n  const b1 = b.y;\n\n  return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7861);\n"],"names":["isGraphConstructor","module","exports","GraphClass","options","Error","clusterDensity","rng","Math","random","N","order","E","size","C","clusters","graph","cluster","nodes","i","source","target","l","Array","addNode","push","length","multi","addEdge","mergeEdge","linLogMode","outboundAttractionDistribution","adjustSizes","edgeWeightInfluence","scalingRatio","strongGravityMode","gravity","slowDown","barnesHutOptimize","barnesHutTheta","assign","k","objects","prototype","slice","call","arguments","validateSettings","settings","message","graphToByteArrays","weightAttribute","j","index","NodeMatrix","Float32Array","EdgeMatrix","forEachNode","node","attr","x","y","degree","fixed","forEachEdge","_","w","isNaN","weightGetter","edges","assignLayoutChanges","updateEachNodeAttributes","attributes","collectLayoutChanges","positions","createWorker","fn","xURL","window","URL","webkitURL","code","toString","objectUrl","createObjectURL","Blob","type","worker","Worker","revokeObjectURL","isGraph","iterate","helpers","DEFAULT_SETTINGS","abstractSynchronousLayout","params","iterations","weighted","weight","validationError","matrices","synchronousLayout","bind","inferSettings","log","PPN","r","n","n1","n2","rn","e","g","s","outboundAttCompensation","coefficient","xDist","yDist","ewc","distance","factor","force","swinging","traction","nodespeed","newX","newY","thetaSquared","RegionMatrix","q","q2","subdivisionAttempts","minX","Infinity","maxX","minY","maxY","min","max","dx","dy","PPR","pow","sqrt","NODES","EDGES","moduleShim","self","addEventListener","event","data","postMessage","buffer","workerFunction","FA2LayoutSupervisor","this","running","killed","handleMessage","respawnFrame","undefined","handleGraphUpdate","terminate","clearTimeout","setTimeout","spawnWorker","on","isRunning","start","matrix","askForIterations","withEdges","payload","buffers","stop","kill","removeListener","resolveDefaults","shuffle","DEFAULTS","center","hierarchyAttributes","scale","CircleWrap","id","circleWrap","wrappedCircle","children","countChildren","next","previous","setNode","parentCircle","posMap","key","circle","hasChildren","enclosesNot","a","b","dr","enclosesWeak","enclosesWeakAll","B","encloseBasis2","x1","y1","r1","x2","y2","r2","x21","y21","r21","encloseBasis3","c","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","encloseBasis","extendBasis","p","score","place","intersects","packHierarchy","shuffleFunc","circles","aa","ca","sj","sk","pack","safety","circlesLoc","enclose","packEnclose","Object","values","genericCirclePackLayout","createShuffleInPlace","container","newCircleWrap","parentContainer","forEach","v","getChild","addChild","applyPositionToChildren","packHierarchyAndShift","setNodeAttribute","child","hasOwnProperty","root","circlePackLayout","defaults","o","output","existing","def","isArray","Set","Map","RegExp","Date","value","addUndirectedEdgeWithKey","dropNode","t","Symbol","iterator","constructor","create","setPrototypeOf","getPrototypeOf","__proto__","Reflect","construct","sham","Proxy","Boolean","valueOf","apply","Function","indexOf","TypeError","has","get","set","enumerable","writable","configurable","u","ReferenceError","d","_nodes","out","undirected","h","f","defineProperty","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","m","Number","init","once","Promise","U","EventEmitter","_events","_eventsCount","_maxListeners","G","defaultMaxListeners","newListener","emit","listener","unshift","warned","String","name","emitter","count","console","warn","S","fired","wrapFn","L","D","removeEventListener","RangeError","setMaxListeners","getMaxListeners","error","context","addListener","prependListener","prependOnceListener","shift","pop","off","removeAllListeners","keys","listeners","rawListeners","listenerCount","eventNames","of","done","empty","fromSequence","is","O","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","z","M","P","T","R","isView","W","K","I","F","captureStackTrace","Y","clear","J","V","H","Q","add","X","delete","Z","_edges","inDegree","outDegree","undirectedDegree","directedSelfLoops","undirectedSelfLoops","in","upgradeToMixed","$","attacher","tt","et","nt","rt","it","direction","ot","at","ut","ct","dt","st","ht","edge","sourceAttributes","targetAttributes","ft","pt","lt","gt","yt","vt","bt","wt","from","undirectedSize","directedSize","mt","_t","kt","Gt","splice","lastIndexOf","xt","Et","St","At","Lt","Dt","Nt","Ut","jt","Ot","Ct","zt","Mt","Pt","neighbor","Tt","Ft","Yt","Bt","qt","Jt","Vt","Ht","Qt","floor","Xt","Zt","$t","allowSelfLoops","te","NodeDataClass","ee","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","ne","re","_options","_resetInstanceCounters","hasNode","hasDirectedEdge","hasUndirectedEdge","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inDegreeWithoutSelfLoops","outDegreeWithoutSelfLoops","directedDegreeWithoutSelfLoops","undirectedDegreeWithoutSelfLoops","degreeWithoutSelfLoops","extremities","opposite","hasExtremity","isUndirected","isDirected","isSelfLoop","mergeNode","updateNode","dropEdge","clearEdges","getAttribute","_attributes","getAttributes","hasAttribute","setAttribute","updateAttribute","removeAttribute","replaceAttributes","mergeAttributes","updateAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","exportNode","exportEdge","export","importNode","importEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdgeWithKey","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeDirectedEdge","addUndirectedEdge","addDirectedEdge","import","nullCopy","emptyCopy","copy","upgradeToMulti","toJSON","inspect","startsWith","for","generateKey","toUpperCase","Rt","Wt","Kt","It","ie","oe","ae","ue","ce","de","Graph","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","createRandom","customRandom","sequence","lastIndex","shuffleInPlace","alea","xor128","xorwow","xorshift7","xor4096","tychei","sr","global","define","Alea","seed","me","mash","charCodeAt","s0","s1","s2","impl","opts","xg","state","prng","int32","double","quick","XorGen","strseed","result","limit","pool","math","nodecrypto","width","startdenom","significance","overflow","mask","seedrandom","callback","shortseed","mixkey","flatten","entropy","tostring","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","navigator","plugins","screen","autoseed","arc4","ARC4","pass","is_math_call","keylen","obj","depth","prop","typ","smear","stringseed","fromCharCode","ex","query","URLSearchParams","location","search","entries","domList","document","getElementsByName","dom","input","checked","querySelector","edgesRenderer","colors","mergeNodeAttributes","label","color","getElementById","renderer","defaultEdgeColor","defaultEdgeType","edgeProgramClasses","fa2Button","sensibleSettings","fa2Layout","innerHTML","getCamera","setState","angle","DEFAULT_ZOOMING_RATIO","ratio","minRatio","maxRatio","nextFrame","previousState","enabled","getState","Camera","enable","disable","hasState","getPreviousState","getBoundedRatio","validateState","validatedState","isAnimated","validState","animate","ANIMATE_DEFAULTS","easing","now","initialState","duration","animationCallback","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","animatedUnzoom","animatedReset","TypedEventEmitter","getPosition","bbox","getBoundingClientRect","clientX","left","clientY","top","getMouseCoords","res","sigmaDefaultPrevented","preventSigmaDefault","original","getTouchesArray","touches","arr","getWheelDelta","deltaY","detail","delta","map","touch","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","handleDoubleClick","preventDefault","stopPropagation","mouseCoords","camera","newRatio","getViewportZoomedState","cameraState","previousCameraState","refresh","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","getWheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","touchMode","handleStart","handleLeave","getDimensions","offsetWidth","height","offsetHeight","dispatchRelatedMouseEvent","position","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","startTouchesPositions","lastTouchesPositions","x0","y0","startTouchesAngle","atan2","startTouchesDistance","getTouchCoords","touchesPositions","xStart","yStart","newCameraState","angleDiff","hypot","dimensions","touchGraphPosition","smallestDimension","cos","sin","compare","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","getIndex","pos","xIndex","candidate","LabelCandidate","cell","organize","sort","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","LabelGrid","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","hasWarnedTooMuchOutside","isRectangleAligned","rect","getCircumscribedAlignedRectangle","heightVector","tl","tr","bl","br","xL","xR","yT","squareCollidesWithQuad","qx","qy","qw","qh","rectangleCollidesWithQuad","pointIsInQuad","containers","cache","lastRectangle","boundaries","resize","maxLevel","level","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","reduce","acc","current","insertNode","stack","hw","hh","buildQuadrants","point","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","abs","Sigma","QuadTree","MouseCaptor","edgeData","sourceData","targetData","edgeLabelSize","font","edgeLabelFont","edgeLabelWeight","edgeLabelColor","attribute","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","textLength","measureText","acos","asin","PI","save","translate","rotate","fillText","restore","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","round","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","gl","vertexShaderSource","fragmentShaderSource","points","AbstractProgram","AbstractEdgeProgram","programClasses","programs","ProgramClass","bufferData","program","allocate","capacity","computeIndices","render","process","hidden","offset","positionLocation","getAttribLocation","sizeLocation","colorLocation","matrixLocation","getUniformLocation","ratioLocation","scaleLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","UNSIGNED_BYTE","AbstractNodeProgram","array","createBuffer","bindBuffer","ARRAY_BUFFER","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","DYNAMIC_DRAW","hasNothingToRender","EdgeArrowProgram","createEdgeCompoundProgram","normalLocation","radiusLocation","barycentricLocation","sqrtZoomRatioLocation","correctionRatioLocation","POINTS","thickness","floatColor","len","useProgram","uniformMatrix3fv","uniform1f","correctionRatio","drawArrays","TRIANGLES","indicesBuffer","canUse32BitsIndices","IndicesArray","Uint32Array","Uint16Array","indicesArray","indicesType","UNSIGNED_INT","UNSIGNED_SHORT","ELEMENT_ARRAY_BUFFER","indices","STATIC_DRAW","drawElements","LINES","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","labelDensity","minCameraRatio","maxCameraRatio","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","stagePadding","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","arrow","line","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","elements","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","pixelRatio","getPixelRatio","displayedLabels","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","needToSoftProcess","checkEdgesEventsFrame","nodePrograms","hoverNodePrograms","edgePrograms","validateGraph","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","hoverNodes","EdgeProgramClass","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","canvas","createElement","class","appendChild","getContext","antialias","contextOptions","_scheduleRefresh","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","minDistance","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","handleResize","baseEvent","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","softGraphUpdate","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","edgeToHover","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","getEdgeAttribute","keepArrays","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","getNodeAttributes","applyTo","zIndexOrdering","edgesPerPrograms","getEdgeAttributes","_refresh","visibleNodes","viewRectangle","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","edgeLabelsToDisplayFromNodes","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","handleEscape","updateCachedValues","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getSettings","setSetting","updateSetting","updater","previousWidth","previousHeight","element","style","viewport","scheduleRefresh","viewportTarget","graphMousePosition","graphCenterPosition","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","firstChild","removeChild","getCanvases","rawEmitter","targets","startPositions","attrs","getNodeAttribute","frame","step","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","easings","pixels","readPixels","drawingBufferHeight","RGBA","xS","yS","xT","isPlainObject","assignDeep","requestAnimationFrame","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","xMax","yMin","yMax","dX","dY","getter","zA","zB","INT8","Int8Array","INT32","Int32Array","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","parseColor","val","parseInt","charAt","test","match","FLOAT_COLOR_CACHE","htmlColor","parsed","getCorrectionRatio","viewportRatio","graphRatio","multiply","WebGL2RenderingContext","getExtension","isFinite","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","b1","l2","l1","ReflectOwnKeys","ReflectApply","receiver","args","NumberIsNaN","resolve","reject","errorListener","err","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","checkListener","_getMaxListeners","that","_addListener","prepend","events","warning","onceWrapper","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","wrapListener","arg","doError","er","list","originalListener","spliceOne","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","amdD","amdO","definition","toStringTag","nmd","paths"],"sourceRoot":""}